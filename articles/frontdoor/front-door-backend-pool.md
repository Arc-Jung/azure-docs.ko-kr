---
title: Azure 정문에서 백엔드 및 백엔드 풀 | 마이크로 소프트 문서
description: 이 문서에서는 프런트 도어 구성에서 백 엔드 및 백 엔드 풀에 대해 설명합니다.
services: front-door
documentationcenter: ''
author: sharad4u
ms.service: frontdoor
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 09/10/2018
ms.author: sharadag
ms.openlocfilehash: 18b165d83bfa154348842542bd8323a40330aa2a
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/28/2020
ms.locfileid: "80293463"
---
# <a name="backends-and-backend-pools-in-azure-front-door"></a>Azure 정문문의 백엔드 및 백엔드 풀
이 문서에서는 Azure 정문으로 앱 배포를 매핑하는 방법에 대한 개념을 설명합니다. 또한 앱 백엔드를 중심으로 한 프런트 도어 구성의 다양한 용어에 대해서도 설명합니다.

## <a name="backends"></a>백 엔드
백 엔드는 리전에서 앱의 배포 인스턴스와 같습니다. Front Door는 Azure 및 비Azure 백엔드를 모두 지원하므로 이 지역은 Azure 리전으로만 제한되지 않습니다. 또한 온-프레미스 데이터 센터 또는 다른 클라우드의 앱 인스턴스일 수도 있습니다.

Front Door 백엔드는 클라이언트 요청을 제공할 수 있는 앱의 호스트 이름 또는 공용 IP를 참조합니다. 백엔드는 데이터베이스 계층, 저장소 계층 등과 혼동해서는 안 됩니다. 백엔드는 앱 백엔드의 공용 끝점으로 간주되어야 합니다. 전면 도어 백 엔드 풀에 백 엔드를 추가할 때 다음도 추가해야 합니다.

- **백 엔드 호스트 유형**. 추가할 리소스의 유형입니다. Front Door는 앱 서비스, 클라우드 서비스 또는 저장소에서 앱 백엔드의 자동 검색을 지원합니다. Azure 또는 Azure 가 아닌 백 엔드에서 다른 리소스를 원하는 경우 **사용자 지정 호스트를**선택합니다.

    >[!IMPORTANT]
    >구성 중에 API는 프런트 도어 환경에서 백 엔드에 액세스할 수 없는지 여부를 확인하지 않습니다. 정문이 백 엔드에 도달할 수 있는지 확인합니다.

- **구독 및 백 엔드 호스트 이름**. 백 엔드 호스트 유형에 대한 **사용자 지정 호스트를** 선택하지 않은 경우 UI에서 적절한 구독및 해당 백 엔드 호스트 이름을 선택하여 백 엔드를 선택합니다.

- **백 엔드 호스트 헤더**. 각 요청에 대해 백 엔드로 전송된 호스트 헤더 값입니다. 자세한 내용은 [백 엔드 호스트 헤더를](#hostheader)참조하십시오.

- **우선 순위**. 모든 트래픽에 대해 기본 서비스 백 엔드를 사용하려는 경우 다른 백 엔드에 우선 순위를 지정합니다. 또한 기본 또는 백업 백엔드를 사용할 수 없는 경우 백업을 제공합니다. 자세한 내용은 [우선 순위를](front-door-routing-methods.md#priority)참조하십시오.

- **무게.** 다른 백엔드에 가중치를 할당하여 가중치 계수에 따라 백엔드 집합에 트래픽을 분산시입니다. 자세한 내용은 [가중치 를](front-door-routing-methods.md#weighted)참조하십시오.

### <a name="backend-host-header"></a><a name = "hostheader"></a>백 엔드 호스트 헤더

Front Door에서 백 엔드로 전달되는 요청에는 백 엔드에서 대상 리소스를 검색하는 데 사용하는 호스트 헤더 필드가 포함됩니다. 이 필드의 값은 일반적으로 백 엔드 URI에서 제공되며 호스트 및 포트를 포함합니다.

예를 들어, 요청은 `www.contoso.com` 호스트 헤더www.contoso.com. Azure 포털을 사용하여 백 엔드를 구성하는 경우 이 필드의 기본값은 백 엔드의 호스트 이름입니다. 백 엔드가 contoso-westus.azurewebsites.net Azure 포털에서 백 엔드 호스트 헤더에 대한 자동 채워진 값이 contoso-westus.azurewebsites.net. 그러나 이 필드를 명시적으로 설정하지 않고 Azure Resource Manager 템플릿 또는 다른 방법을 사용하는 경우 Front Door는 들어오는 호스트 이름을 호스트 헤더의 값으로 보냅니다. www\.contoso.com 대한 요청이 있고 백 엔드에 빈 헤더 필드가 있는 contoso-westus.azurewebsites.net 경우 Front\.Door는 호스트 헤더를 www contoso.com 설정합니다.

대부분의 앱 백엔드(Azure 웹 앱, Blob 저장소 및 클라우드 서비스)는 호스트 헤더가 백 엔드의 도메인과 일치하도록 요구합니다. 그러나 백 엔드로 라우팅되는 프런트 엔드 호스트는 www.contoso.net 같은 다른 호스트 이름을 사용합니다.

백 엔드에서 호스트 헤더가 백 엔드 호스트 이름과 일치하도록 요구하는 경우 백 엔드 호스트 헤더에 호스트 이름 백 엔드가 포함되어 있는지 확인합니다.

#### <a name="configuring-the-backend-host-header-for-the-backend"></a>백 엔드에 대한 백 엔드 호스트 헤더 구성

백 엔드 풀 섹션에서 **백 엔드에** 대한 백 엔드 호스트 헤더 필드를 구성하려면 다음을 수행하십시오.

1. 전면 도어 리소스를 열고 백 엔드가 있는 백 엔드 풀을 선택하여 구성합니다.

2. 이렇게 하지 않은 경우 백 엔드를 추가하거나 기존 백 엔드를 편집합니다.

3. 백 엔드 호스트 헤더 필드를 사용자 지정 값으로 설정하거나 비워 둡니다. 들어오는 요청에 대 한 호스트 이름은 호스트 헤더 값으로 사용 됩니다.

## <a name="backend-pools"></a>백 엔드 풀
Front Door의 백 엔드 풀은 앱에 대해 유사한 트래픽을 받는 백엔드 집합을 나타냅니다. 즉, 동일한 트래픽을 수신하고 예상 동작으로 응답하는 전 세계 앱 인스턴스의 논리적 그룹화입니다. 이러한 백엔드는 서로 다른 지역 또는 동일한 리전 내에 배포됩니다. 모든 백엔드는 활성/활성 배포 모드 또는 활성/수동 구성으로 정의된 것일 수 있습니다.

백 엔드 풀은 상태 프로브를 통해 서로 다른 백엔드를 평가하는 방법을 정의합니다. 또한 부하 분산이 둘 사이에 발생하는 방법도 정의합니다.

### <a name="health-probes"></a>상태 프로브
Front Door는 구성된 각 백엔드에 정기적인 HTTP/HTTPS 프로브 요청을 보냅니다. 프로브 요청은 최종 사용자 요청을 로드하기 위해 각 백 엔드의 근접성과 상태를 결정합니다. 백 엔드 풀에 대한 상태 프로브 설정은 앱 백엔드의 상태를 폴링하는 방법을 정의합니다. 부하 분산 구성에 다음 설정을 사용할 수 있습니다.

- **경로**: 백 엔드 풀의 모든 백 엔드에 대한 프로브 요청에 사용되는 URL입니다. 예를 들어 백엔드 중 하나가 contoso-westus.azurewebsites.net 경로가 /probe/test.aspx로 설정된 경우 프로토콜이 HTTP로 설정되어 있다고 가정하면 정문\:환경이 http //contoso-westus.azurewebsites.net/probe/test.aspx 상태 프로브 요청을 보냅니다.

- **프로토콜**: HTTP 또는 HTTPS 프로토콜을 사용하여 정문에서 백엔드로 상태 프로브 요청을 보낼지 여부를 정의합니다.

- **방법**:상태 프로브를 보내는 데 사용할 HTTP 메서드입니다. 옵션에는 GET 또는 HEAD(기본값)가 포함됩니다.
    > [!NOTE]
    > 백엔드의 부하와 비용을 낮추기 위해 Front Door는 상태 프로브에 대한 HEAD 요청을 사용하는 것이 좋습니다.

- **간격(초)**: 백엔드에 대한 상태 프로브의 빈도 또는 각 전면 도어 환경이 프로브를 보내는 간격을 정의합니다.

    >[!NOTE]
    >더 빠른 장애 조치의 경우 간격을 더 낮은 값으로 설정합니다. 값이 낮을수록 백엔드가 받는 상태 프로브 볼륨이 높아집니다. 예를 들어 간격이 전 세계적으로 100개의 정문 POP를 사용하여 30초로 설정된 경우 각 백엔드는 분당 약 200개의 프로브 요청을 수신합니다.

자세한 내용은 [상태 프로브 를](front-door-health-probes.md)참조하십시오.

### <a name="load-balancing-settings"></a>로드 밸런싱 설정
백 엔드 풀에 대한 로드 밸런싱 설정은 상태 프로브를 평가하는 방법을 정의합니다. 이러한 설정은 백 엔드가 정상인지 비정상인지 를 결정합니다. 또한 백 엔드 풀의 서로 다른 백 엔드 간의 트래픽을 로드 균형 조정하는 방법을 확인합니다. 부하 분산 구성에 다음 설정을 사용할 수 있습니다.

- **샘플 크기**. 백엔드 상태 평가를 위해 고려해야 할 상태 프로브샘플 수를 식별합니다.

- **성공적인 샘플 크기**. 앞에서 설명한 샘플 크기, 백 엔드를 정상으로 호출하는 데 필요한 성공적인 샘플 수를 정의합니다. 예를 들어 전면 문 상태 프로브 간격이 30초이고 샘플 크기가 5이고 성공적인 샘플 크기가 3이라고 가정합니다. 백엔드에 대한 상태 프로브를 평가할 때마다 150초(5 x 30)에 걸쳐 마지막 5개의 샘플을 살펴봅니다. 백 엔드를 정상으로 선언하려면 최소 3개의 성공적인 프로브가 필요합니다.

- **대기 시간 감도(추가 대기 시간)**. Front Door가 대기 시간 측정 감도 범위 내에서 백엔드에 요청을 보낼지 아니면 요청을 가장 가까운 백 엔드로 전달할지 여부를 정의합니다.

자세한 내용은 [최소 대기 시간 기반 라우팅 방법을](front-door-routing-methods.md#latency)참조하십시오.

## <a name="next-steps"></a>다음 단계

- [Front Door 프로필 만들기](quickstart-create-front-door.md)
- [정문 작동 방식](front-door-routing-architecture.md)