---
title: Azure Front Door Service - 백 엔드 및 백 엔드 풀 | Microsoft Docs
description: 이 문서는 Front Door 구성의 백 엔드 및 백 엔드 풀을 이해하는 데 도움이 됩니다.
services: front-door
documentationcenter: ''
author: sharad4u
ms.service: frontdoor
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 09/10/2018
ms.author: sharadag
ms.openlocfilehash: 64d96d54b323d634703301e48cdaa28fa875fbbc
ms.sourcegitcommit: 32d218f5bd74f1cd106f4248115985df631d0a8c
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/24/2018
ms.locfileid: "46958801"
---
# <a name="backends-and-backend-pools-in-azure-front-door-service"></a>Azure Front Door Service의 백 엔드 및 백 엔드 풀
이 문서에서는 애플리케이션 배포를 Front Door와 매핑하는 방법에 대한 다양한 개념을 설명합니다. 또한 Front Door 구성의 다양한 용어가 애플리케이션 백 엔드에서 어떤 의미를 갖는지에 대해서도 설명합니다.

## <a name="backend-pool"></a>백 엔드 풀
Front Door의 백 엔드 풀은 애플리케이션에 대해 동일한 유형의 트래픽을 수신할 수 있는 동급의 백 엔드 집합을 나타냅니다. 즉, 전 세계에서 동일한 트래픽을 수신하고 예상되는 동작으로 대응할 수 있는 애플리케이션 인스턴스의 논리적 그룹입니다. 이러한 백 엔드는 일반적으로 여러 다른 지역 또는 동일한 지역 내에서 배포됩니다. 또한 이러한 백 엔드는 모두 활성-활성 배포 모드이거나 활성/수동 구성으로 정의될 수 있습니다.

또한 백 엔드 풀은 여러 다른 백 엔드의 상태가 상태 프로브를 통해 평가되는 방식과 백 엔드 간에 부하 분산이 수행되는 방식도 정의합니다.

### <a name="health-probes"></a>상태 프로브
Front Door는 구성된 각 백 엔드로 정기적인 HTTP/HTTPS 프로브 요청을 전송하여 파악한 각 백 엔드의 근접성 및 상태를 토대로 최종 사용자 요청의 부하를 분산합니다. 백 엔드 풀의 상태 프로브 설정은 애플리케이션 백 엔드에 대한 상태를 폴링하는 방법을 정의합니다. 다음 설정은 구성에서 부하 분산을 위해 사용할 수 있습니다.

1. **경로**: 프로브 요청이 백 엔드 풀의 모든 백 엔드로 대해 전송되는 URL 경로입니다. 예를 들어, 백 엔드 중 하나가 `contoso-westus.azurewebsites.net`이고 경로가 `/probe/test.aspx`로 설정되는 경우 프로토콜이 HTTP로 설정되었다는 가정하에, Front Door 환경은 http://contoso-westus.azurewebsites.net/probe/test.aspx로 상태 프로브 요청을 보냅니다. 
2. **프로토콜**: Front Door에서 백 엔드로 전송되는 상태 프로브 요청이 HTTP 또는 HTTPS 프로토콜 중 어떤 프로토콜을 통해 전송될지를 정의합니다.
3. **간격(초)**: 이 필드는 백 엔드에 대한 상태 프로브의 빈도, 즉 각 Front Door 환경이 프로브를 전송하는 간격을 정의합니다. 참고 - 더 빠른 장애 조치(Failover)를 원할 이 필드를 더 낮은 값으로 설정합니다. 그러나 이 값이 낮을수록 백 엔드가 수신하는 상태 프로브 용량이 더 많아집니다. Front Door가 백 엔드에서 생성하는 프로브 용량 크기를 이해하려면 예제를 사용하세요. 간격이 30초로 설정되어 있고, 전역적으로 약 90개의 Front Door 환경 또는 POP가 있다고 가정합니다. 이 경우 각 백 엔드는 초당 약 3~5개의 프로브 요청을 받습니다.

자세한 내용은 [상태 프로브](front-door-health-probes.md)를 읽어보세요.

### <a name="load-balancing-settings"></a>부하 분산 설정
백 엔드 풀의 부하 분산 설정은 백 엔드를 정상 또는 비정상으로 결정하기 위해 상태 프로브를 평가하는 방법과 백 엔드 풀의 다른 백 엔드 간에 트래픽 부하를 분산하는 방법을 정의합니다. 다음 설정은 구성에서 부하 분산을 위해 사용할 수 있습니다.

1. **샘플 크기**: 이 속성은 백 엔드 상태 평가를 위해 고려해야 하는 상태 프로브의 샘플 수를 식별합니다.
2. **성공한 샘플 크기**: 이 속성은 위에 설명된 대로 '샘플 크기'에 대해 백 엔드를 정상 상태로 지칭하기 위해 성공 여부를 확인해야 하는 샘플 수를 정의합니다. 
</br>예를 들어, Front Door에 대해 상태 프로브 *간격*을 30초로, *샘플 크기*를 ‘5’로, *성공한 샘플 크기*를 ‘3’으로 설정했다고 가정합니다. 이 구성은 백 엔드의 상태 프로브를 평가할 때마다 마지막 5개 샘플이 마지막 150초(=5*30초)에 걸쳐 있고, 이러한 프로브 중 3개 이상이 성공하지 않으면 백 엔드는 비정상으로 선언된다는 것을 의미합니다. 성공한 프로브가 2개만 있으면 백 엔드는 비정상 상태로 표시됩니다. 다음번에 평가를 실행할 때 마지막 5개 프로브 중에서 3개가 성공하면 이 백 엔드는 다시 정상 상태로 표시됩니다.
3. **대기 시간 민감도(추가 대기 시간)**: 대기 시간 민감도 필드는 Front Door가 대기 시간 측정에 따라 민감도 범위 내에 있는 백 엔드로 요청을 전송할지 또는 가장 가까운 백 엔드로 요청을 전달할지를 정의합니다. 자세한 내용을 보려면 Front Door에 대한 [최소 대기 시간 기반 라우팅 방법](front-door-routing-methods.md#latency)을 읽어보세요.

## <a name="backend"></a>백 엔드
백 엔드는 지역의 애플리케이션 배포 인스턴스에 해당합니다. Front Door는 Azure 백 엔드와 비 Azure 백 엔드를 둘 다 지원하므로 여기에 나오는 지역은 Azure 지역만으로 제한되지 않고 온-프레미스 데이터 센터 또는 일부 다른 클라우드의 애플리케이션 인스턴스일 수도 있습니다.

Front Door 컨텍스트에서 백 엔드는 클라이언트 요청을 제공할 수 있는 애플리케이션의 호스트 이름 또는 공용 IP를 나타냅니다. 따라서 백 엔드는 데이터베이스 계층이나 저장소 계층 등과 혼동하지 않아야 하며, 오히려 애플리케이션 백 엔드의 공용 엔드포인트로 보는 것이 좋습니다.

Front Door의 백 엔드 풀에 백 엔드를 추가할 때는 다음 세부 사항을 채워야 합니다.

1. **백 엔드 호스트 유형**: 추가할 리소스의 유형입니다. Front Door는 앱 서비스, 클라우드 서비스 또는 저장소에서 애플리케이션 백 엔드를 자동으로 검색하도록 지원합니다. Azure 또는 비 Azure 백 엔드의 다른 리소스를 원할 경우 ‘사용자 지정 호스트’를 선택합니다. 참고 - 구성 중에 API는 백 엔드를 Front Door 환경에서 액세스할 수 있는지 여부를 검증하지 않으며, 대신 사용자가 Front Door 환경에서 백 엔드에 연결할 수 있는지를 확인해야 합니다. 
2. **구독 및 백 엔드 호스트 이름**: 백 엔드 호스트 유형에 대해 ‘사용자 지정 호스트’를 선택하지 않은 경우 아래로 검색하고 사용자 인터페이스에서 해당 구독 및 해당 백 엔드 호스트 이름을 선택하여 백 엔드를 선택합니다.
3. **백 엔드 호스트 헤더**: 각 요청에 대해 백 엔드로 전송된 호스트 헤더 값입니다. 자세한 내용은 [백 엔드 호스트 헤더](#hostheader)를 읽어보세요.
4. **우선 순위**: 모든 트래픽에 대해 기본 서비스 백 엔드를 사용하고 기본 또는 백업 엔드포인트를 사용할 수 없을 때 백업을 제공하려면 여러 다른 백 엔드에 우선 순위를 할당할 수 있습니다. [우선 순위](front-door-routing-methods.md#priority)에 대해 자세히 알아보세요.
5. **가중치**: 백 엔드 집합에서 균일하게 또는 가중 계수에 따라 트래픽을 분산하려는 경우 백 엔드마다 가중치를 할당할 수 있습니다. [가중치](front-door-routing-methods.md#weighted)에 대해 자세히 읽어보세요.


### <a name = "hostheader"></a>백 엔드 호스트 헤더

Front Door에서 백 엔드로 전달된 요청에는 백 엔드가 타기팅된 리소스를 검색하는 데 사용하는 호스트 헤더 필드가 있습니다. 이 필드의 값은 일반적으로 백 엔드 URI에서 제공되며 호스트 및 포트를 포함합니다. 예를 들어, `www.contoso.com`에 대해 수행된 요청에는 호스트 헤더 `www.contoso.com`이 있습니다. Azure Portal을 사용하여 백 엔드를 구성하는 경우 이 필드에 기본값으로 백 엔드의 호스트 이름이 채워집니다. 예를 들어, 백 엔드가 `contoso-westus.azurewebsites.net`인 경우 Azure Portal에서 백 엔드 호스트 헤더에 대해 `contoso-westus.azurewebsites.net` 값이 자동으로 채워집니다. 
</br>그러나 Resource Manager 템플릿 또는 기타 메커니즘을 사용하며, 이 필드를 명시적으로 설정하지 않는 경우 Front Door는 수신 호스트 이름을 호스트 헤더의 값으로 전송합니다. 예를 들어, 요청이 `www.contoso.com`에 대해 작성되었고 백 엔드가 백 엔드 호스트 헤더 필드가 비어 있는 `contoso-westus.azurewebsites.net`인 경우, Front Door는 호스트 헤더를 `www.contoso.com`으로 설정합니다.

대부분의 애플리케이션 백 엔드(예: Web Apps, Blob 저장소 및 Cloud Services)에서는 호스트 헤더가 백 엔드의 도메인과 일치해야 합니다. 그러나 백 엔드로 라우팅되는 프런트 엔드 호스트에는 www.contoso.azurefd.net과 같은 다른 호스트 이름이 사용됩니다. 설정하는 백 엔드에서 호스트 헤더가 백 엔드의 호스트 이름과 일치해야 할 경우 ‘백 엔드 호스트 헤더’도 백 엔드의 호스트 이름을 갖는지 확인해야 합니다.

#### <a name="configuring-the-backend-host-header-for-the-backend"></a>백 엔드에 대한 백 엔드 호스트 헤더 구성
백 엔드 풀 섹션에서 백 엔드에 대해 ‘백 엔드 호스트 헤더’ 필드를 구성할 수 있습니다.

1. Front Door 리소스를 열고 구성할 백 엔드가 있는 백 엔드 풀을 클릭합니다.

2. 아직 추가한 백 엔드가 없으면 추가하고, 기존 백 엔드가 있으면 편집합니다. ‘백 엔드 호스트 헤더’ 필드를 사용자 지정 값으로 설정하거나 비워 둘 수 있습니다. 비워 둘 경우 수신 요청에 대한 호스트 이름이 호스트 헤더 값으로 사용됩니다.



## <a name="next-steps"></a>다음 단계

- [Front Door를 만드는](quickstart-create-front-door.md) 방법을 알아봅니다.
- [Front Door 작동 원리](front-door-routing-architecture.md)에 대해 알아봅니다.