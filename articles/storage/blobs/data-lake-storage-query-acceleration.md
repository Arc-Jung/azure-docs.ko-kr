---
title: Azure 데이터 레이크 저장소 쿼리 가속(미리 보기)
description: 쿼리 가속(미리 보기)은 응용 프로그램 및 분석 프레임워크가 처리 작업에 필요한 데이터만 검색하여 데이터 처리를 크게 최적화할 수 있도록 하는 Azure Data Lake Storage의 새로운 기능입니다.
author: normesta
ms.topic: conceptual
ms.author: normesta
ms.reviewer: jamesbak
ms.date: 04/21/2020
ms.service: storage
ms.subservice: data-lake-storage-gen2
ms.openlocfilehash: 191a3280075403c8c5b57c5ffca1c7707d1ddb11
ms.sourcegitcommit: d57d2be09e67d7afed4b7565f9e3effdcc4a55bf
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/22/2020
ms.locfileid: "81771821"
---
# <a name="azure-data-lake-storage-query-acceleration-preview"></a>Azure 데이터 레이크 저장소 쿼리 가속(미리 보기)

쿼리 가속(미리 보기)은 응용 프로그램 및 분석 프레임워크가 지정된 작업을 수행하는 데 필요한 데이터만 검색하여 데이터 처리를 크게 최적화할 수 있도록 하는 Azure Data Lake Storage의 새로운 기능입니다. 이렇게 하면 저장된 데이터에 대한 중요한 통찰력을 얻는 데 필요한 시간과 처리 능력이 줄어듭니다.

> [!NOTE]
> 쿼리 가속 기능은 공개 미리 보기에 있으며 캐나다 중부 및 프랑스 중부 지역에서 사용할 수 있습니다. 제한 을 검토하려면 [알려진 문제](data-lake-storage-known-issues.md) 문서를 참조하세요. 미리 보기에 등록하려면 [이 양식을](https://aka.ms/adls/qa-preview-signup)참조하십시오.  

## <a name="overview"></a>개요

쿼리 가속은 응용 프로그램이 디스크에서 데이터를 읽을 때 행과 열을 필터링할 수 있도록 필터링 *조건자* 및 *열 프로젝션을* 허용합니다. 조건자의 조건을 충족하는 데이터만 네트워크를 통해 응용 프로그램으로 전송됩니다. 이렇게 하면 네트워크 대기 시간과 계산 비용이 줄어듭니다.  

SQL을 사용하여 쿼리 가속 요청에서 행 필터 조건자 및 열 프로젝션을 지정할 수 있습니다. 요청은 하나의 파일만 처리합니다. 따라서 조인 및 집계별로 그룹화와 같은 SQL의 고급 관계형 기능은 지원되지 않습니다. 쿼리 가속은 CSV 및 JSON 형식의 데이터를 각 요청에 대한 입력으로 지원합니다.

쿼리 가속 기능은 데이터 레이크 저장소(계층적 네임스페이스가 활성화된 저장소 계정)로 제한되지 않습니다. 쿼리 가속은 계층적 네임스페이스가 **활성화되어 있지 않은** 저장소 계정의 Blob과 완전히 호환됩니다. 즉, 저장소 계정에 이미 저장한 데이터를 처리할 때 네트워크 대기 시간을 동일하게 절감하고 비용을 계산할 수 있습니다.

클라이언트 응용 프로그램에서 쿼리 가속을 사용하는 방법의 예는 [Azure Data Lake Storage 쿼리 가속을 사용하여 데이터 필터를](data-lake-storage-query-acceleration-how-to.md)참조하십시오.

## <a name="data-flow"></a>디자이너의

다음 다이어그램은 일반적인 응용 프로그램이 쿼리 가속을 사용하여 데이터를 처리하는 방법을 보여 줍니다.

> [!div class="mx-imgBorder"]
> ![쿼리 가속 개요](./media/data-lake-storage-query-acceleration/query-acceleration.png)

1. 클라이언트 응용 프로그램은 조건자 및 열 프로젝션을 지정하여 파일 데이터를 요청합니다.

2. 쿼리 가속은 지정된 SQL 쿼리를 구문 분석하고 데이터를 구문 분석 및 필터링하기 위해 작업을 배포합니다.

3. 프로세서는 디스크에서 데이터를 읽고 적절한 형식을 사용하여 데이터를 구문 분석한 다음 지정된 조건자 및 열 프로젝션을 적용하여 데이터를 필터링합니다.

4. 쿼리 가속은 응답 샤드를 결합하여 클라이언트 응용 프로그램으로 다시 스트리밍합니다.

5. 클라이언트 응용 프로그램은 스트리밍된 응답을 수신하고 구문 분석합니다. 응용 프로그램은 추가 데이터를 필터링할 필요가 없으며 원하는 계산 또는 변환을 직접 적용할 수 있습니다.

## <a name="better-performance-at-a-lower-cost"></a>더 낮은 비용으로 성능 향상

쿼리 가속화는 응용 프로그램에서 전송및 처리되는 데이터의 양을 줄여 성능을 최적화합니다.

집계된 값을 계산하기 위해 응용 프로그램은 일반적으로 파일에서 **모든** 데이터를 검색한 다음 데이터를 로컬로 처리하고 필터링합니다. 분석 워크로드에 대한 입력/출력 패턴을 분석하면 응용 프로그램은 일반적으로 주어진 계산을 수행하기 위해 읽은 데이터의 20%만 필요로 합니다. 이 통계는 [파티션 가지치기와](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-optimize-hive-query#hive-partitioning)같은 기술을 적용한 후에도 마찬가지입니다. 즉, 해당 데이터의 80%가 불필요하게 네트워크를 통해 전송되고, 구문 분석되고, 응용 프로그램에서 필터링됩니다. 기본적으로 불필요한 데이터를 제거하도록 설계된 이 패턴은 상당한 계산 비용을 발생시게 됩니다.  

Azure는 업계 최고의 네트워크를 갖추고 있지만 처리량과 대기 시간 모두에서 불필요하게 데이터를 해당 네트워크로 전송하는 것은 여전히 응용 프로그램 성능에 많은 비용이 듭니다. 저장소 요청 중에 원치 않는 데이터를 필터링하면 쿼리 가속화가 이 비용을 제거합니다.

또한 불필요한 데이터를 구문 분석하고 필터링하는 데 필요한 CPU 로드를 사용하려면 응용 프로그램에서 작업을 수행하기 위해 더 많은 수와 더 큰 VM을 프로비전해야 합니다. 이 계산 부하를 쿼리 가속화로 전송하면 응용 프로그램이 상당한 비용 절감효과를 실현할 수 있습니다.

## <a name="applications-that-can-benefit-from-query-acceleration"></a>쿼리 가속화의 이점을 얻을 수 있는 응용 프로그램

쿼리 가속은 분산 분석 프레임워크 및 데이터 처리 응용 프로그램을 위해 설계되었습니다. 

아파치 스파크 및 아파치 하이브와 같은 분산 분석 프레임워크에는 프레임워크 내의 스토리지 추상화 계층이 포함됩니다. 이러한 엔진에는 사용자 쿼리에 대한 최적의 쿼리 계획을 결정할 때 기본 I/O 서비스의 기능에 대한 지식을 통합할 수 있는 쿼리 최적화 프로그램도 포함됩니다. 이러한 프레임워크는 쿼리 가속을 통합하기 시작했습니다. 따라서 이러한 프레임워크의 사용자는 쿼리를 변경하지 않고도 쿼리 대기 시간이 향상되고 총 소유 비용이 낮아집니다. 

쿼리 가속은 데이터 처리 응용 프로그램을 위해 설계되었습니다. 이러한 유형의 응용 프로그램은 일반적으로 대규모 데이터 변환을 수행하므로 분석 통찰력으로 직접 이어지지 않을 수 있으므로 항상 설정된 분산 분석 프레임워크를 사용하지 는 않습니다. 이러한 응용 프로그램은 종종 기본 저장소 서비스와 보다 직접적인 관계를 가지므로 쿼리 가속화와 같은 기능의 이점을 직접 활용할 수 있습니다. 

응용 프로그램이 쿼리 가속을 통합하는 방법의 예는 [Azure Data Lake Storage 쿼리 가속을 사용하여 데이터 필터를](data-lake-storage-query-acceleration-how-to.md)참조하십시오.

## <a name="pricing"></a>가격 책정

Azure Data Lake Storage 서비스 내에서 계산 부하가 증가했기 때문에 쿼리 가속을 사용하는 가격 책정 모델은 일반 Azure Data Lake Storage 트랜잭션 모델과 다릅니다. 쿼리 가속은 검색된 데이터 양에 대한 비용과 호출자에게 반환되는 데이터 양에 대한 비용을 청구합니다.

청구 모델이 변경에도 불구하고 쿼리 가속의 가격 책정 모델은 훨씬 더 비싼 VM 비용을 줄인 점을 감안할 때 워크로드에 대한 총 소유 비용을 낮추도록 설계되었습니다.

## <a name="next-steps"></a>다음 단계

- [쿼리 가속 등록 양식](https://aka.ms/adls/qa-preview-signup)    
- [Azure Data Lake Storage 쿼리 가속을 사용하여 데이터 필터링](data-lake-storage-query-acceleration-how-to.md)
- [쿼리 가속 SQL 언어 참조(미리 보기)](query-acceleration-sql-reference.md)
- 쿼리 가속 REST API 참조



