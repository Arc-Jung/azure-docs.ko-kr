---
title: 연결 아키텍처 - MySQL용 Azure 데이터베이스
description: MySQL 서버에 대한 Azure 데이터베이스에 대한 연결 아키텍처에 대해 설명합니다.
author: kummanish
ms.author: manishku
ms.service: mysql
ms.topic: conceptual
ms.date: 03/16/2020
ms.openlocfilehash: 6014e98d01755f29da74160fb1ef38ba29a74ba6
ms.sourcegitcommit: 980c3d827cc0f25b94b1eb93fd3d9041f3593036
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/02/2020
ms.locfileid: "80547507"
---
# <a name="connectivity-architecture-in-azure-database-for-mysql"></a>MySQL용 Azure 데이터베이스의 연결 아키텍처
이 문서에서는 MySQL 연결 아키텍처용 Azure 데이터베이스와 트래픽이 Azure 내부 및 외부 클라이언트에서 MySQL 인스턴스용 Azure 데이터베이스로 연결되는 방법에 대해 설명합니다.

## <a name="connectivity-architecture"></a>연결 아키텍처
MySQL용 Azure 데이터베이스에 대한 연결은 클러스터의 서버의 물리적 위치에 들어오는 연결을 라우팅하는 게이트웨이를 통해 설정됩니다. 다음 다이어그램은 트래픽 흐름을 보여 줍니다.

![연결 아키텍처 개요](./media/concepts-connectivity-architecture/connectivity-architecture-overview-proxy.png)

클라이언트가 데이터베이스에 연결하면 게이트웨이에 연결되는 연결 문자열이 표시됩니다. 이 게이트웨이에는 포트 3306을 수신하는 공용 IP 주소가 있습니다. 데이터베이스 클러스터 내에서 트래픽은 MySQL에 대한 적절한 Azure 데이터베이스로 전달됩니다. 따라서 회사 네트워크와 같은 서버에 연결하려면 아웃바운드 트래픽이 게이트웨이에 도달할 수 있도록 클라이언트 측 방화벽을 열어야 합니다. 아래에서 리전별 게이트웨이에서 사용하는 IP 주소의 전체 목록을 확인할 수 있습니다.

## <a name="azure-database-for-mysql-gateway-ip-addresses"></a>MySQL 게이트웨이 IP 주소에 대한 Azure 데이터베이스
다음 표에는 모든 데이터 영역에 대한 MySQL 게이트웨이용 Azure 데이터베이스의 기본 및 보조 IP가 나열됩니다. 기본 IP 주소는 게이트웨이의 현재 IP 주소이며 두 번째 IP 주소는 주 IP 오류가 발생할 경우 장애 조치 IP 주소입니다. 앞서 언급했듯이 고객은 두 IP 주소모두에 대한 아웃바운드를 허용해야 합니다. 두 번째 IP 주소는 MySQL에 대한 Azure Database에서 연결을 수락할 때까지 서비스에서 수신 대기되지 않습니다.

| **지역 이름** | **게이트웨이 IP 주소** |
|:----------------|:-------------|
| 오스트레일리아 중부| 20.36.105.0     |
| 오스트레일리아 센트럴2     | 20.36.113.0   |
| 오스트레일리아 동부 | 13.75.149.87, 40.79.161.1     |
| 오스트레일리아 동남부 |191.239.192.109, 13.73.109.251   |
| 브라질 남부 | 104.41.11.5, 191.233.201.8, 191.233.200.16  |
| 캐나다 중부 |40.85.224.249  |
| 캐나다 동부 | 40.86.226.166    |
| 미국 중부 | 23.99.160.139, 13.67.215.62, 52.182.136.37, 52.182.136.38     |
| 중국 동부 | 139.219.130.35    |
| 중국 동부 2 | 40.73.82.1  |
| 중국 북부 | 139.219.15.17    |
| 중국 북부 2 | 40.73.50.0     |
| 동아시아 | 191.234.2.139, 52.175.33.150, 13.75.33.20, 13.75.33.21     |
| 미국 동부 | 40.121.158.30, 191.238.6.43  |
| 미국 동부 2 |40.79.84.180, 191.239.224.107, 52.177.185.181, 40.70.144.38, 52.167.105.38  |
| 프랑스 중부 | 40.79.137.0, 40.79.129.1  |
| 독일 중부 | 51.4.144.100     |
| 독일 북동부 | 51.5.144.179  |
| 인도 중부 | 104.211.96.159     |
| 인도 남부 | 104.211.224.146  |
| 인도 서부 | 104.211.160.80    |
| 일본 동부 | 13.78.61.196, 191.237.240.43  |
| 일본 서부 | 104.214.148.156, 191.238.68.11, 40.74.96.6, 40.74.96.7    |
| 한국 중부 | 52.231.32.42   |
| 한국 남부 | 52.231.200.86    |
| 미국 중북부 | 23.96.178.199, 23.98.55.75, 52.162.104.35, 52.162.104.36    |
| 북유럽 | 40.113.93.91, 191.235.193.75, 52.138.224.6, 52.138.224.7    |
| 남아프리카 북부  | 102.133.152.0    |
| 남아프리카 공화국 서부 | 102.133.24.0   |
| 미국 중남부 |13.66.62.124, 23.98.162.75, 104.214.16.39, 20.45.120.0   |
| 동남아시아 | 104.43.15.0, 23.100.117.95, 40.78.233.2, 23.98.80.12     |
| 아랍에미리트 중부 | 20.37.72.64  |
| 아랍에미리트 북부 | 65.52.248.0    |
| 영국 남부 | 51.140.184.11   |
| 영국 서부 | 51.141.8.11  |
| 미국 중서부 | 13.78.145.25     |
| 서유럽 | 40.68.37.158, 191.237.232.75, 13.69.105.208  |
| 미국 서부 | 104.42.238.205, 23.99.34.75  |
| 미국 서부 2 | 13.66.226.202  |
||||

## <a name="connection-redirection"></a>연결 리디렉션

MySQL용 Azure Database는 클라이언트 응용 프로그램과 MySQL 서버 간의 네트워크 대기 시간을 줄이는 데 도움이 되는 추가 연결 **정책인 리디렉션을**지원합니다. 이 기능을 사용하면 MySQL 서버용 Azure 데이터베이스에 초기 TCP 세션이 설정되면 서버는 MySQL 서버를 호스팅하는 노드의 백 엔드 주소를 클라이언트에 반환합니다. 그 후 모든 후속 패킷은 게이트웨이를 우회하여 서버로 직접 흐르게 됩니다. 패킷이 서버로 직접 흐르면 대기 시간 및 처리량이 향상되었습니다.

이 기능은 엔진 버전 5.6, 5.7 및 8.0을 지원하는 MySQL 서버용 Azure 데이터베이스에서 지원됩니다.

리디렉션에 대한 지원은 Microsoft에서 개발한 PHP [mysqlnd_azure](https://github.com/microsoft/mysqlnd_azure) 확장에서 사용할 수 있으며 [PECL에서](https://pecl.php.net/package/mysqlnd_azure)사용할 수 있습니다. 응용 프로그램에서 [리디렉션을](./howto-redirection.md) 사용하는 방법에 대한 자세한 내용은 구성 리디렉션 문서를 참조하십시오.

> [!IMPORTANT]
> PHP [mysqlnd_azure](https://github.com/microsoft/mysqlnd_azure) 확장에서 리디렉션에 대한 지원은 현재 미리 보기 상태입니다.

## <a name="next-steps"></a>다음 단계

* [Azure 포털을 사용하여 MySQL 방화벽 규칙에 대한 Azure 데이터베이스 생성 및 관리](./howto-manage-firewall-using-portal.md)
* [Azure CLI를 사용한 MySQL용 Azure Database 방화벽 규칙 만들기 및 관리](./howto-manage-firewall-using-cli.md)
* [MySQL용 Azure 데이터베이스로 리디렉션 구성](./howto-redirection.md)