---
title: IoT 플러그 앤 플레이 미리 보기 모델 검색 구현 | 마이크로 소프트 문서
description: 솔루션 개발자는 솔루션에서 IoT 플러그 앤 플레이 모델 검색을 구현하는 방법에 대해 알아봅니다.
author: Philmea
ms.author: philmea
ms.date: 12/26/2019
ms.topic: conceptual
ms.custom: mvc
ms.service: iot-pnp
services: iot-pnp
manager: philmea
ms.openlocfilehash: 74eb38269a3c7fbdc6d95554a8a8cef14eb0b787
ms.sourcegitcommit: d57d2be09e67d7afed4b7565f9e3effdcc4a55bf
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/22/2020
ms.locfileid: "81770464"
---
# <a name="implement-iot-plug-and-play-preview-model-discovery-in-an-iot-solution"></a>IoT 솔루션에서 IoT 플러그 앤 플레이 미리 보기 모델 검색 구현

이 문서에서는 솔루션 개발자로서 IoT 솔루션에서 IoT 플러그 앤 플레이 미리 보기 모델 검색을 구현하는 방법에 대해 설명합니다.  IoT 플러그 앤 플레이 모델 검색은 IoT 플러그 앤 플레이 디바이스가 지원되는 기능 모델 및 인터페이스를 식별하는 방법과 IoT 솔루션이 이러한 기능 모델 및 인터페이스를 검색하는 방법입니다.

IoT 솔루션에는 알려진 IoT 플러그 앤 플레이 장치 집합과 함께 작동하는 특수 목적 솔루션과 모든 IoT 플러그 앤 플레이 장치와 함께 작동하는 모델 기반 솔루션의 두 가지 범주가 있습니다.

이 개념 문서에서는 두 가지 유형의 솔루션모두에서 모델 검색을 구현하는 방법을 설명합니다.

## <a name="model-discovery"></a>모델 검색

IoT 플러그 앤 플레이 장치가 IoT 허브에 처음 연결되면 모델 정보 원격 분석 메시지를 보냅니다. 이 메시지에는 장치가 구현하는 인터페이스의 ID가 포함됩니다. 솔루션이 장치와 함께 작동하려면 해당 ID를 해결하고 각 인터페이스에 대한 정의를 검색해야 합니다.

다음은 IoT 플러그 앤 플레이 장치가 DPS(장치 프로비저닝 서비스)를 사용하여 허브에 연결할 때 취하는 단계입니다.

1. 장치가 켜져 있으면 DPS의 전역 끝점에 연결하고 허용된 메서드 중 하나를 사용하여 인증합니다.
1. 그런 다음 DPS는 장치를 인증하고 장치를 할당할 IoT 허브를 알려주는 규칙을 찾습니다. 그런 다음 DPS는 해당 허브에 장치를 등록합니다.
1. DPS는 IoT Hub 연결 문자열을 장치에 반환합니다.
1. 그런 다음 장치는 IoT Hub에 검색 원격 분석 메시지를 보냅니다. 검색 원격 분석 메시지에는 장치가 구현하는 인터페이스의 ID가 포함되어 있습니다.
1. 이제 IoT 플러그 앤 플레이 디바이스가 IoT 허브를 사용하는 솔루션으로 작업할 준비가 되었습니다.

장치가 IoT 허브에 직접 연결되면 장치 코드에 포함된 연결 문자열을 사용하여 연결됩니다. 그런 다음 장치는 IoT Hub에 검색 원격 분석 메시지를 보냅니다.

모델 정보 원격 분석 메시지에 대한 자세한 내용은 [ModelInformation](concepts-common-interfaces.md) 인터페이스를 참조하십시오.

### <a name="purpose-built-iot-solutions"></a>특수 제작된 IoT 솔루션

특수 제작된 IoT 솔루션은 알려진 IoT 플러그 앤 플레이 장치 기능 모델 및 인터페이스 세트와 함께 작동합니다.

솔루션에 미리 연결되는 장치에 대한 기능 모델과 인터페이스를 사용할 수 있습니다. 다음 단계를 사용하여 솔루션을 준비합니다.

1. 솔루션에서 읽을 수 있는 [모델 리포지토리에](./howto-manage-models.md) 인터페이스 JSON 파일을 저장합니다.
1. 예상되는 IoT 플러그 앤 플레이 기능 모델 및 인터페이스를 기반으로 IoT 솔루션에 로직을 작성합니다.
1. 솔루션에서 사용하는 IoT 허브의 알림을 구독합니다.

새 장치 연결에 대한 알림을 받으면 다음 단계를 따르세요.

1. 검색 원격 분석 메시지를 읽고 장치에서 구현한 기능 모델 및 인터페이스의 ID를 검색합니다.
1. 기능 모델의 ID를 미리 저장한 기능 모델의 ID와 비교합니다.
1. 이제 어떤 유형의 장치가 연결되어 있는지 알 수 있습니다. 사용자가 장치와 적절하게 상호 작용할 수 있도록 이전에 작성한 논리를 사용합니다.

### <a name="model-driven-solutions"></a>모델 기반 솔루션

모델 기반 IoT 솔루션은 모든 IoT 플러그 앤 플레이 디바이스와 함께 작동할 수 있습니다. 모델 기반 IoT 솔루션을 구축하는 것은 더 복잡하지만, 이점은 솔루션이 향후 추가된 모든 장치와 함께 작동한다는 것입니다.

모델 기반 IoT 솔루션을 구축하려면 원격 분석, 속성 및 명령과 같은 IoT 플러그 앤 플레이 인터페이스 프리미티브에 대한 논리를 빌드해야 합니다. IoT 솔루션의 논리는 여러 원격 분석, 속성 및 명령 기능을 결합하여 장치를 나타냅니다.

또한 솔루션은 사용하는 IoT 허브의 알림을 구독해야 합니다.

솔루션에서 새 장치 연결에 대한 알림을 받으면 다음 단계를 따르십시오.

1. 검색 원격 분석 메시지를 읽고 장치에서 구현한 기능 모델 및 인터페이스의 ID를 검색합니다.
1. 각 ID에 대해 전체 JSON 파일을 읽고 장치의 기능을 찾습니다.
1. 솔루션에서 이전에 검색한 JSON 파일을 저장하기 위해 빌드한 캐시에 각 인터페이스가 있는지 확인합니다.
1. 그런 다음 해당 ID가 있는 인터페이스가 공용 모델 리포지토리에 있는지 확인합니다. 자세한 내용은 [공용 모델 리포지토리](howto-manage-models.md)를 참조하십시오.
1. 공용 모델 리포지토리에 인터페이스가 없는 경우 솔루션에 알려진 모든 회사 모델 리포지토리에서 인터페이스를 찾아보십시오. 회사 모델 리포지토리에 액세스하려면 연결 문자열이 필요합니다. 자세한 내용은 [회사 모델 리포지토리](howto-manage-models.md)를 참조하십시오.
1. 공용 모델 리포지토리 또는 회사 모델 리포지토리에서 모든 인터페이스를 찾을 수 없는 경우 장치가 인터페이스 정의를 제공할 수 있는지 확인할 수 있습니다. 장치는 표준 [ModelDefinition](concepts-common-interfaces.md) 인터페이스를 구현하여 명령으로 인터페이스 파일을 검색하는 방법에 대한 정보를 게시할 수 있습니다.
1. 장치에서 구현한 각 인터페이스에 대한 JSON 파일을 발견한 경우 장치의 기능을 열거할 수 있습니다. 사용자가 장치와 상호 작용할 수 있도록 하기 위해 이전에 작성한 논리를 사용합니다.
1. 언제든지 디지털 트윈 API를 호출하여 장치에 대한 기능 모델 ID 및 인터페이스 ID를 검색할 수 있습니다.

## <a name="next-steps"></a>다음 단계

모델 검색에 대해 알게 되었으므로 [Azure IoT 플랫폼에](overview-iot-plug-and-play.md) 대해 자세히 알아보고 솔루션에 대한 다른 기능을 활용하십시오.
