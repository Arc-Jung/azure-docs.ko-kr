---
title: 트래픽 관리자 끝점 유형 | Microsoft Docs
description: 이 문서에서는 Azure 트래픽 관리자와 함께 사용할 수 있는 다양한 유형의 끝점을 설명합니다.
services: traffic-manager
documentationcenter: ''
author: sdwheeler
manager: carmonm
editor: tysonn

ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/08/2016
ms.author: sewhee

---
# 트래픽 관리자 끝점
Microsoft Azure 트래픽 관리자를 사용하면 전 세계의 서로 다른 데이터 센터 또는 다른 위치에서 실행 중인 응용 프로그램 배포에 사용자 트래픽을 분산하는 방법을 제어할 수 있습니다.

각 응용 프로그램 배포는 트래픽 관리자에서 '끝점'으로 구성되어야 합니다. 트래픽 관리자가 DNS 요청을 받으면 이러한 끝점 중 하나를 선택하여 현재 끝점 가용성 및 선택한 트래픽 라우팅 방법에 따라 DNS 응답에서 반환합니다. 자세한 내용은 [트래픽 관리자 작동 방식](traffic-manager-how-traffic-manager-works.md)을 참조하세요.

이 페이지에서는 트래픽 관리자가 서로 다른 형식의 끝점을 지원하는 방법을 설명합니다.

## 트래픽 관리자 끝점 유형
트래픽 관리자에서 지원되는 끝점에는 세 가지 종류가 있습니다.

* **Azure 끝점**은 Azure에서 호스팅되는 서비스에 사용됩니다.
* **외부 끝점**은 온-프레미스 또는 다른 호스팅 공급자 중 하나로 Azure 외부에서 호스팅되는 서비스에 사용됩니다.
* **중첩 끝점**은 더 크고 복잡한 배포에 대한 요구 사항을 지원하는 더 유연한 트래픽 라우팅 체계를 만들도록 트래픽 관리자 프로필을 결합하는 데 사용됩니다.

단일 트래픽 관리자 프로필에서 서로 다른 유형의 끝점을 결합하는 방법에는 제한이 없습니다. 각 프로필은 모든 끝점 유형의 혼합을 포함할 수 있습니다.

다음 섹션에서는 각 끝점 유형을 자세히 설명합니다.

### Azure 끝점
Azure 끝점은 트래픽 관리자에서 Azure 기반 서비스를 구성하는 데 사용됩니다. Azure 끝점은 현재 다음과 같은 Azure 리소스 유형을 지원합니다.

* '클래식' IaaS VM 및 PaaS 클라우드 서비스.
* 웹앱
* PublicIPAddress 리소스(직접 또는 Azure Load Balancer를 통해 VM에 연결할 수 있음) publicIpAddress에는 트래픽 관리자에서 사용되도록 지정된 DNS 이름이 있어야 합니다.

PublicIPAddress 리소스는 Azure Resource Manager 리소스이며 Azure Service Management API에 존재하지 않습니다. 따라서 트래픽 관리자의 Azure Resource Manager 환경에서만 지원됩니다. 다른 끝점 유형은 트래픽 관리자에서 리소스 관리자 및 서비스 관리 환경을 통해 지원됩니다.

Azure 끝점을 사용하는 경우 트래픽 관리자는 '클래식' IaaS VM 또는 PaaS 클라우드 서비스 또는 웹앱이 중지되고 시작되는 시기를 감지합니다. 끝점 상태에서 반영됩니다(자세한 내용은 [트래픽 관리자 끝점 모니터링](traffic-manager-monitoring.md#endpoint-and-profile-status) 참조). 기본 서비스가 중지되면 트래픽 관리자는 더 이상 끝점 상태 검사에 대한 요금을 청구하지 않고 끝점에 트래픽을 보내지 않습니다. 서비스가 다시 시작되면 청구를 다시 시작하고 끝점은 트래픽을 받을 수 있게 됩니다. PublicIpAddress 끝점에는 적용되지 않습니다.

### 외부 끝점
외부 끝점은 Azure 외부의 서비스(예: 온-프레미스에서 호스팅되는 서비스 또는 다른 공급자로 호스팅되는 서비스)에 트래픽을 보내도록 트래픽 관리자를 구성하는 데 사용됩니다.

외부 끝점은 자체적으로 사용되거나 동일한 트래픽 관리자 프로필에서 Azure 끝점과 결합될 수 있습니다. 외부 끝점과 Azure 끝점을 결합하여 다양한 시나리오를 사용할 수 있습니다.

* 활성-활성 또는 활성-수동 장애 조치(Failover) 모델에서 기존 온-프레미스 응용 프로그램에 대한 향상된 중복성을 제공하는 데 Azure 사용.
* 응용 프로그램 대기 시간을 줄이고 최종 사용자에 대한 성능을 향상하도록 [트래픽 관리자 '성능' 트래픽 라우팅](traffic-manager-routing-methods.md#performance-traffic-routing-method)과 함께 추가 지리적 위치에 대한 기존 온-프레미스 응용 프로그램을 확장하는 데 Azure 사용.
* 지속적으로 또는 스파이크 수요를 처리하기 위해 ‘클라우드로 버스트'로 기존 온-프레미스 응용 프로그램에 대한 추가 용량을 제공하는 데 Azure 사용.

경우에 따라 Azure 서비스를 참조하는 데 외부 끝점을 사용하는 것이 유용할 수 있습니다(예는 [FAQ](#faq) 참조). 이 경우 상태 검사에 대한 청구는 외부 끝점 비율이 아닌 Azure 끝점 비율입니다. 그러나 Azure 끝점과 달리 기본 서비스를 중지하거나 삭제하는 경우 트래픽 관리자에서 끝점을 명시적으로 비활성화하거나 삭제하기 전까지 해당 상태 검사에 대한 요금이 계속해서 청구됩니다.

### 중첩 끝점
중첩 끝점은 더 크고 복잡한 배포에 대한 요구 사항을 지원하는 더 유연한 트래픽 라우팅 체계를 만들도록 트래픽 관리자 프로필을 결합하는 데 사용됩니다.

중첩 끝점을 사용하면 'child' 프로필이 'parent' 프로필에 끝점으로 추가되어 계층을 만듭니다. 자식 및 부모 프로필은 다른 중첩 프로필을 포함하여 모든 유형의 다른 끝점을 포함할 수 있습니다.

자세한 내용은 [중첩 트래픽 관리자 프로필](traffic-manager-nested-profiles.md)을 참조하세요.

## 끝점으로 웹앱
트래픽 관리자에서 끝점으로 웹앱을 구성하는 경우 몇 가지 추가 고려 사항이 적용됩니다.

1. '표준' SKU 이상에서의 웹앱만 트래픽 관리자와 함께 사용할 수 있습니다. 더 낮은 SKU의 웹앱을 추가하도록 트래픽 관리자로 호출에 실패합니다. 기존 웹앱의 SKU를 다운그레이드하면 트래픽 관리자는 해당 웹앱에 더 이상 트래픽을 전송하지 않으며 끝점은 트래픽 관리자에서 제거될 수 있습니다.
2. 웹앱 서비스에서 HTTP 요청을 받으면 요청의 '호스트' 헤더를 사용하여 요청을 처리해야 하는 웹앱을 결정합니다. 호스트 헤더는 요청을 시작하는 데 사용된 DNS 이름을 포함합니다(예: 'contosoapp.azurewebsites.net'). 웹앱에 다른 DNS 이름을 사용하려면 DNS 이름은 앱에 대한 사용자 지정 도메인으로 등록되어야 합니다. Azure 끝점으로 트래픽 관리자 프로필에 웹앱 끝점을 추가하면 트래픽 관리자 프로필 DNS 이름은 앱에 대한 사용자 지정 도메인으로 자동으로 등록됩니다. 이 등록은 끝점이 삭제될 때 자동으로 제거됩니다.
3. 일반적으로 웹앱은 Azure 끝점으로 구성됩니다. 그러나 외부 끝점을 사용하여 웹앱을 구성하는 것이 유용한 경우가 있습니다(예는 다음 항목 참조). 리소스 관리자 트래픽 관리자 환경을 사용하는 경우 웹앱은 트래픽 관리자에서 외부 끝점으로 구성될 수 있습니다. 이는 서비스 관리 환경을 통해 지원되지 않습니다.
4. 각 트래픽 관리자 프로필은 각 Azure 지역에서 최대 하나의 웹앱 끝점을 가질 수 있습니다. 이 제약 조건에 대한 해결책은 [FAQ](#faq)에서 제공됩니다.

## 끝점 활성화 및 비활성화
트래픽 관리자에서 끝점 비활성화는 유지 관리 모드이거나 다시 배포할 예정인 끝점에서 트래픽을 일시적으로 제거하는 데 매우 유용합니다. 끝점이 다시 작동하여 실행 중이면 다시 활성화할 수 있습니다.

끝점은 리소스 관리자 및 서비스 관리 환경 모두에서 지원되는 트래픽 관리자 포털, PowerShell, CLI 또는 REST API를 통해 활성화 및 비활성화될 수 있습니다.

> [!NOTE]
> Azure 끝점을 해제해도 Azure의 배포 상태에는 영향을 주지 않습니다. Azure 서비스(예: VM 또는 웹앱)는 트래픽이 트래픽 관리자 프로필 DNS 이름을 통해서가 아닌 해당 서비스로 직접 주소가 지정된 경우 실행 상태를 유지하고 트래픽 관리자에서 비활성화되었을 때에도 트래픽을 수신할 수 있습니다. 자세한 내용은 [트래픽 관리자 작동 방식](traffic-manager-how-traffic-manager-works.md)을 참조하세요.
> 
> 

끝점이 비활성화되면 DNS 응답에 더 이상 반환되지 않고 따라서 끝점에 트래픽을 보내지 않습니다. 또한 끝점에 대한 상태 검사는 중지되고 더 이상 요금이 청구되지 않습니다. 끝점 비활성화는 끝점을 삭제하는 것과 동일하고 이를 제외하고 다시 활성화하는 것이 쉽습니다.

트래픽을 받는 각 끝점의 현재 자격은 프로필 상태(사용/사용 안 함), 끝점 상태(사용/사용 안 함) 및 해당 끝점에 대한 상태 검사의 결과에 따라 다릅니다. 자세한 내용은 [트래픽 관리자 끝점 모니터링](traffic-manager-monitoring.md#endpoint-and-profile-status)을 참조하세요.

> [!NOTE]
> 트래픽 관리자는 DNS 수준에서 작동하므로 모든 끝점에 대한 기존 연결에 영향을 미칠 수 없습니다. 끝점 간에 트래픽을 전달할 때는(프로필 설정을 변경하거나 장애 조치 또는 장애 복구 중) 트래픽 관리자가 사용 가능한 끝점에 새 연결을 전달합니다. 그러나 다른 끝점은 해당 세션이 종료될 때까지 기존 연결을 통해 트래픽을 계속 수신할 수 있습니다. 트래픽이 기존 연결에서 비워지도록 하기 위해 응용 프로그램은 각 끝점에 사용된 세션 기간을 제한해야 합니다.
> 
> 

프로필의 모든 끝점이 비활성화되거나 프로필 자체가 비활성화된 경우 DNS 쿼리는 'NXDOMAIN' 응답에 충족됩니다. 프로필이 삭제된 경우와 동일합니다.

## FAQ
### 여러 구독에서 끝점으로 트래픽 관리자를 사용할 수 있습니까?
Azure 웹앱에 대해 이것이 불가능합니다. 이는 웹앱이 단일 구독 내에서만 함께 사용되는 모든 사용자 지정 도메인 이름을 사용할 것을 요구하기 때문입니다. 여러 구독에서 동일한 도메인 이름을 가지고 웹앱을 사용하는 것은 불가능하며, 따라서 트래픽 관리자와 함께 사용할 수 없습니다.

다른 끝점 형식의 경우 트래픽 관리자를 둘 이상의 구독에서 끝점과 함께 사용할 수 있습니다. 이 방법은 트래픽 관리자에 Service Management API 또는 리소스 관리자 API를 사용 중인지 여부에 따라 달라집니다. [Azure 포털](https://portal.azure.com)은 리소스 관리자를 사용하고 ['클래식' 포털](https://manage.windowsazure.com)은 서비스 관리를 사용합니다.

리소스 관리자에서 모든 구독의 끝점은 트래픽 관리자 프로필을 구성하는 사용자가 끝점에 대한 읽기 액세스가 있는 한 트래픽 관리자에 추가될 수 있습니다. 이러한 권한은 [Azure Resource Manager 역할 기반 액세스 제어(RBAC)](../active-directory/role-based-access-control-configure.md)를 사용하여 부여될 수 있습니다.

서비스 관리에서 트래픽 관리자는 트래픽 관리자 프로필과 동일한 구독에 있는 Azure 끝점으로 구성된 모든 클라우드 서비스 또는 웹앱이 필요합니다. 다른 구독의 클라우드 서비스 끝점은 '외부' 끝점으로 트래픽 관리자에 추가될 수 있습니다('내부' 끝점 비율로 요금이 청구됨).

### 클라우드 서비스 '스테이징' 슬롯으로 트래픽 관리자를 사용할 수 있습니까?
예. 클라우드 서비스 '스테이징' 슬롯은 외부 끝점으로 트래픽 관리자에서 구성될 수 있습니다.

끝점에서 참조하는 서비스는 Azure에 있으므로 상태 검사는 여전히 Azure 끝점에서 사용되는 비율로 요금이 청구됩니다.

외부 끝점 유형을 사용 중이므로 기본 서비스에 대한 변경 내용은 자동으로 선택되지 않습니다. 따라서 클라우드 서비스가 중지되거나 삭제되면 트래픽 관리자 끝점은 끝점이 트래픽 관리자 내에서 비활성화되거나 삭제될 때까지 상태 검사에 대한 비용이 계속해서 청구됩니다.

### 트래픽 관리자는 IPv6 끝점을 지원하나요?
예. 트래픽 관리자는 현재 IPv6으로 주소 지정이 가능한 이름 서버를 제공하지 않지만 IPv6 끝점에 연결된 IPv6 클라이언트에서 여전히 사용될 수 있습니다.

클라이언트는 트래픽 관리자에 직접 DNS 요청을 만들지 않고 재귀 DNS 서비스를 사용하므로 IPv6 전용 클라이언트는 여전히 트래픽 관리자를 사용할 수 있습니다. IPv6을 통해 이 서비스에 요청할 수 있으며 재귀 서비스는 IPv4를 사용하여 트래픽 관리자 이름 서버에 연결할 수 있어야 합니다.

DNS 쿼리를 받으면 트래픽 관리자는 클라이언트가 연결해야 하는 끝점의 DNS 이름으로 응답합니다. IPv6 끝점은 간단히 끝점 DNS 이름이 IPv6 주소를 가리키는 DNS AAAA 레코드를 구성하여 지원될 수 있습니다.

트래픽 관리자의 경우 상태 검사를 제대로 작동하려면 서비스는 IPv4 끝점을 노출해야 합니다. DNS A 레코드를 사용하여 동일한 끝점 DNS 이름에서 매핑되어야 합니다.

### 동일한 지역에서 둘 이상의 웹앱에 트래픽 관리자를 사용할 수 있습니까?
일반적으로 트래픽 관리자는 다른 지역에 배포된 응용 프로그램에 트래픽을 보내는 데 사용됩니다. 그러나 응용 프로그램이 동일한 지역에 둘 이상의 배포를 가지는 곳에 사용될 수도 있습니다.

웹앱의 경우 트래픽 관리자 Azure 끝점은 동일한 트래픽 관리자 프로필에 추가되는 동일한 Azure 지역에서 둘 이상의 웹앱 끝점을 허용하지 않습니다. 다음 단계는 이 제약 조건에 대한 해결 방법을 제공합니다.

1. 동일한 지역 내의 웹앱이 다른 웹앱 ‘배율 단위', 즉 서로 다른 웹앱 서비스의 인스턴스에 있는지 확인합니다. 이를 수행하기 위해 <...>.azurewebsites.net DNS 항목에 대한 DNS 경로를 확인합니다. 배율 단위는 ‘waws-prod-xyz-123.vip.azurewebsites.net’과 같은 모양이 됩니다. 지정된 도메인 이름은 지정된 배율 단위의 단일 사이트로 매핑되어야 합니다. 이러한 이유로 동일한 배율 단위의 두 웹앱은 트래픽 관리자 프로필을 공유할 수 없습니다.
2. 각 웹앱이 다른 배율 단위에 있다고 가정할 경우 각 웹앱에 사용자 지정 호스트 이름으로 베니티 도메인 이름을 추가합니다. 모든 웹앱은 동일한 구독에 속해야 합니다.
3. Azure 끝점으로 트래픽 관리자 프로필에 평소와 같이 하나(및 하나만)의 웹앱 끝점을 추가합니다.
4. 외부 끝점으로 트래픽 관리자 프로필에 각 추가 웹앱 끝점을 추가합니다. 트래픽 관리자에 서비스 관리 환경이 아닌 리소스 관리자 환경을 사용해야 합니다.
5. 트래픽 관리자 프로필 DNS 이름(<…>.trafficmanager.net)에 베니티 도메인(위의 2단계에서 사용한 것처럼)의 DNS CNAME 레코드를 만듭니다.
6. 트래픽 관리자 프로필 DNS 이름이 아닌 베니티 도메인 이름을 통해 사이트에 액세스합니다.

## 다음 단계
* [트래픽 관리자 작동 방식](traffic-manager-how-traffic-manager-works.md)에 대해 알아봅니다.
* 트래픽 관리자 [끝점 모니터링 및 자동 장애 조치(failover)](traffic-manager-monitoring.md)에 대해 알아봅니다.
* 트래픽 관리자 [트래픽 라우팅 방법](traffic-manager-routing-methods.md)에 대해 알아봅니다.

<!---HONumber=AcomDC_0824_2016-->