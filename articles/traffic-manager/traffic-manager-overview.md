<properties 
   pageTitle="트래픽 관리자 개요"
   description="이 문서는 트래픽 관리자 기능 및 작동 방식을 이해하는 데 도움이 됩니다."
   services="traffic-manager"
   documentationCenter=""
   authors="cherylmc"
   manager="adinah"
   editor="tysonn" />
<tags 
   ms.service="traffic-manager"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="infrastructure-services"
   ms.date="02/27/2015"
   ms.author="cherylmc" />

# 트래픽 관리자 개요

Microsoft Azure 트래픽 관리자를 사용하면 Azure 클라우드 서비스, 웹 사이트 및 다른 끝점을 포함할 수 있는 사용자 지정된 끝점에 대한 사용자 트래픽의 배포를 제어할 수 있습니다. 트래픽 관리자는 인터넷 리소스의 도메인 이름에 대한 DNS(Domain Name System) 쿼리에 지능형 정책 엔진을 적용하여 작동합니다. Azure 클라우드 서비스 또는 웹 사이트는 전 세계의 여러 데이터 센터에서 실행될 수 있습니다.

트래픽 관리자를 사용하여 다음을 수행할 수 있습니다.

- **중요 응용 프로그램의 가용성 향상** - 트래픽 관리자를 사용하면 Azure에서 끝점을 모니터링하고 Azure 클라우드 서비스, Azure 웹 사이트 또는 기타 위치가 작동 중단되면 자동 장애 조치 기능을 제공하여 중요 응용 프로그램의 기능을 향상시킬 수 있습니다.
- **고성능 응용 프로그램의 응답성 향상** - Azure를 사용하면 전세계에 있는 데이터 센터에서 클라우드 서비스 또는 웹 사이트를 실행할 수 있습니다. 트래픽 관리자는 클라이언트에서 가장 낮은 네트워크 대기 시간으로 최종 사용자를 끝점에 연결하여 응용 프로그램 및 콘텐츠 배달 시간의 응답성을 향상 시킬 수 있습니다.
- **가동 중지 없이 서비스 업그레이드 및 유지** - 트래픽 관리자는 "클라우드로 버스트" "클라우드로 마이그레이션" 및 "클라우드에 대한 장애 조치" 시나리오를 포함한 하이브리드 클라우드 및 온-프레미스 배포의 확장된 시나리오를 지원합니다. 계획된 유지관리를 위해 트래픽 관리자에서 끝점을 사용하지 않도록 설정한 다음 끝점이 기존 연결의 처리를 완료할 때까지 대기합니다. 끝점에 더 이상 트래픽이 없는 경우, 해당 끝점에서 서비스를 업데이트하고 테스트한 다음 트래픽 관리자에서 다시 사용 가능하도록 설정합니다. 이렇게 하면 클라이언트 가동 중지 없이 서비스를 유지하고 업그레이드할 수 있습니다.
- **대규모의 복잡한 배포에 대한 트래픽 분포** - 트래픽 관리자 프로필이 중첩되면 트래픽 관리자 프로필에서 다른 트래픽 관리자 프로필이 끝점으로 될 수 있으며, 대규모의 복잡한 배포에 대한 배포 및 성능을 최적화하도록 구성할 수 있습니다. 자세한 내용은 [중첩된 프로필](#nested-profiles)을 참조하세요.

## 트래픽 관리자 작동 방식

트래픽 관리자 프로필을 구성할 때 지정한 설정에서 DNS 쿼리를 기반으로 요청을 제공해야 하는 끝점을 결정하는 데 필요한 정보를 제공합니다. 실제 끝점 트래픽은 트래픽 관리자를 통해 라우트되지 않습니다.

*그림 1*은 트래픽 관리자가  끝점 집합 중 하나를 사용자에게 전달 하는 방법을 보여줍니다. 그림 1의 숫자는 아래 설명의 번호를 나타냅니다.

![트래픽 관리자 작동 방식](./media/traffic-manager-overview/IC740854.jpg)

**그림 1**

1. **회사 도메인 이름에 대한 사용자 트래픽**: 클라이언트에서 회사 도메인 이름을 사용하여 정보를 요청 합니다. DNS 이름을 IP 주소로 확인하는 것이 목표입니다. 회사 도메인은 트래픽 관리자 외부에서 유지 관리되는 표준 인터넷 도메인 이름 등록을 통해 예약해야 합니다. 그림 1에서 회사 도메인 예는 *www.contoso.com*입니다.
2. **회사 도메인 이름을 트래픽 관리자 도메인 이름으로**: Azure 트래픽 관리자에서 유지 관리는 트래픽 관리자 도메인 이름을 가리키는 회사 도메인에 대한 DNS 리소스 레코드입니다. 이 옵션은 회사 도메인 이름을 트래픽 관리자 도메인 이름으로 매핑하는 CNAME 리소스 레코드를 사용하여 수행됩니다. 예제에서 트래픽 관리자 도메인 이름은 *contoso.trafficmanager.net*입니다.
3. **트래픽 관리자 도메인 이름 및 프로필**: 트래픽 관리자 도메인 이름은 트래픽 관리자 프로필의 일부입니다. 사용자의 DNS 서버는 트래픽 관리자 도메인 이름(이 예제에서는, *contoso.trafficmanager.net*)에 대한 새 DNS 조회를 보내며, 트래픽 관리자 DNS 이름 서버에서 수신합니다.
4. **처리된 트래픽 관리자 프로필 규칙**: 트래픽 관리자는 지정된 부하 분산 방법과 모니터링 상태를 사용하여 요청을 처리해야 하는 Azure 또는 기타 끝점을 결정합니다.
5. **사용자에게 전달한 끝점 도메인 이름**: 트래픽 관리자는 트래픽 관리자 도메인 이름을 끝점의 도메인 이름으로 매핑하는 CNAME 레코드를 반환 합니다. 사용자의 DNS 서버는 끝점 도메인 이름을 해당 IP 주소로 확인하고 사용자에게 보냅니다.
6. **사용자가 끝점 호출**: 사용자는 해당 IP 주소를 사용하여 직접 반환된 끝점을 호출합니다.

회사 도메인과 확인된 IP 주소가 클라이언트 컴퓨터에 캐시되므로, 사용자는 해당 로컬 DNS 캐시 항목이 만료될 때까지 선택한 끝점과 계속 상호 작용합니다. TTL(Time-to-Live) 기간 동안 DNS 클라이언트가 DNS 호스트 항목을 캐시하는지 확인해야 합니다. DNS 클라이언트 캐시에서 호스트 항목을 검색하면 트래픽 관리자 프로필을 우회하며 TTL 만료 전에 끝점이 사용할 수 없게 되면 연결 지연이 발생할 수 있습니다. 캐시에서 DNS 호스트 항목의 TTL이 만료되고 클라이언트 컴퓨터가 회사 도메인 이름을 다시 확인해야 하는 경우 새 DNS 쿼리를 보냅니다. 클라이언트 컴퓨터는 요청 시 적용된 부하 분산 방법 및 끝점의 상태에 따라 다른 끝점의 IP 주소를 받을 수 있습니다.

## 트래픽 관리자를 구현하는 방법

*그림 2*는 트래픽 관리자를 구현하는데 필요한 순서대로 단계를 보여줍니다. 트래픽 관리자 구성과 모범 사례를 확실하게 이해했으면 다음 단계는 약간 다른 순서로 수행할 수 있습니다. 그림 2의 숫자는 아래 설명의 번호를 나타냅니다.

![트래픽 관리자를 구성하는 방법](./media/traffic-manager-overview/IC740855.jpg)

**그림 2**

1. **Azure 클라우드 서비스, Azure 웹 사이트 또는 기타 끝점을 프로덕션 환경에 배포합니다**. 트래픽 관리자 프로필을 만들 때 구독과 연결되어야 합니다. 그런 다음 동일한 구독의 일부인 프로덕션에서 클라우드 서비스 및 표준 계층 웹 사이트에 대한 끝점을 추가합니다. 끝점이 스테이징에 있고 Azure 프로덕션 환경에 없거나 동일한 구독에 포함되지 않은 경우, 외부 끝점으로 추가할 수 있습니다. 클라우드 서비스에 대한 자세한 내용은 [클라우드 서비스](http://go.microsoft.com/fwlink/p/?LinkId=314074)를 참조하세요. 웹 사이트에 대한 자세한 내용은 [웹 사이트](http://go.microsoft.com/fwlink/p/?LinkId=393327)를 참조하세요.
2. **트래픽 관리자 도메인의 이름을 결정합니다**. 고유한 접두사로 도메인의 이름을 지정하는 것이 좋습니다. 도메인의 나중 부분, trafficmanager.net이 고정됩니다. 자세한 내용은 [모범 사례]를 참조하세요(#best-practices).
3. **사용할 모니터링 구성을 결정합니다**. 트래픽 관리자는 끝점을 모니터링하여 부하 분산 방법에 관계 없이 온라인인지 확인합니다. 모니터링 설정을 구성한 후 트래픽 관리자는 모든 끝점이 오프라인 상태이거나 프로필에 포함된 끝점의 상태를 확인할 수 없는 경우가 아니면 모니터링 시스템에 따라 오프라인 상태인 끝점에 트래픽을 보내지 않습니다. 모니터링에 대한 자세한 내용은 [트래픽 관리자 모니터링](traffic-manager-monitoring.md).을 참조하세요.
4. **사용할 부하 분산 방법을 결정합니다**. 세가지 다른 부하 분산 방법을 사용할 수 있습니다. 요구 사항에 맞는 최선의 방법을 이해하는 데 시간이 걸립니다. 나중에 방법을 변경해야 하는 경우 언제든지 변경할 수 있습니다. 또한 방법마다 약간 다른 구성 단계가 필요합니다. 부하 분산 방법에 대한 자세한 내용은 [트래픽 관리자 부하 분산 방법 정보](traffic-manager-load-balancing-methods.md).
5. **프로필을 만들고 설정을 구성**을 참조하세요. REST API, Windows PowerShell 또는 관리 포털을 사용하여 트래픽 관리자 프로필을 만들고 설정을 구성할 수 있습니다. 자세한 내용은 [트래픽 관리자 설정을 구성하는 방법](#how-to-configure-traffic-manager-settings)을 참조하세요(#how-to-configure-traffic-manager-settings). 다음 단계에서는 관리 포털에서 **빠른 생성**을 사용한다고 가정합니다. 
   - **트래픽 관리자 프로필 만들기** - 관리 포털에서 빠른 생성을 사용하여 트래픽 관리자를 만들려면 [트래픽 관리자 프로필 관리](traffic-manager-manage-profiles.md)를 참조하세요.
   - **부하 분산 방법 설정 구성** - 빠른 생성에서 사용자 프로필에 대한 부하 분산 방법을 선택해야 합니다. 이 설정은 빠른 생성 단계를 완료한 후 언제든지 변경할 수 있습니다. 구성 단계에서 부하 분산 방법에 해당하는 항목을 참조합니다. [성능 부하 분산 구성](traffic-manager-configure-performance-load-balancing.md), [장애 조치 부하 분산 구성](traffic-manager-configure-failover-load-balancing.md), [라운드 로빈 부하 분산 구성](traffic-manager-configure-round-robin-load-balancing.md).
   >[AZURE.NOTE] 이제 라운드 로빈 부하 분산 방법은 가중치가 적용된 네트워크 트래픽 분산을 지원합니다. 그러나 이번에는 REST API 또는 Windows PowerShell을 사용하여 가중치를 구성해야 합니다. 자세한 내용과 예제 구성은 Azure 블로그에서 [Azure 트래픽 관리자 외부 끝점 및 PowerShell을 통한 가중치가 부여된 라운드 로빈](http://azure.microsoft.com/blog/2014/06/26/azure-traffic-manager-external-endpoints-and-weighted-round-robin-via-powershell/)을 참조하세요.

   - **끝점 구성** - 빠른 생성 중 끝점이 구성되지 않습니다. 사용자 프로필을 만들고 부하 분산 방법을 지정한 후 트래픽 관리자에게 끝점을 알려야 합니다. 끝점을 구성하는 단계는 [트래픽 관리자에서 끝점 관리](traffic-manager-endpoints.md)를 참조하세요.

   - **모니터링 설정을 구성** - 모니터링 설정은 빠른 생성 중 구성 되지 않습니다. 사용자 프로필을 만들고 부하 분산 방법을 지정한 후 트래픽 관리자에게 모니터링할 내용을 알려야 합니다. 모니터링을 구성하는 단계는 [트래픽 관리자 모니터링](traffic-manager-monitoring.md).
6. **트래픽 관리자 프로필을 테스트**를 참조하세요. 프로필과 도메인이 예상대로 작동하는지 테스트합니다. 이 작업을 수행하는 방법에 대한 자세한 내용은 [트래픽 관리자 설정 테스트](traffic-manager-testing-settings.md).
7. **프로필에 대한 사용자 회사 도메인 이름의 DNS 리소스 레코드를 가리켜 활성화**를 참조하세요. 자세한 내용은 [사 인터넷 도메인이 트래픽 관리자 도메인을 가리키도록 설정](traffic-manager-point-internet-domain.md)을 참조하세요.

그림1의 예제를 사용하여 다음과 같이 사용자 서버의 DNS 리소스 레코드를 변경하여 회사 도메인 이름이 트래픽 관리자 도메인 이름을 가리키도록 합니다.
    www.contoso.com IN CNAME contoso.trafficmanager.net

## 트래픽 관리자 설정을 구성하는 방법

REST API 및 Windows PowerShell cmdlets를 통해 관리 포털을 사용하여 트래픽 관리자 설정을 구성할 수 있습니다.

각 REST API 요소가 관리 포털에서 표시되지 않더라도 두 방법 중 하나를 통해 여러 설정을 사용할 수 있습니다. REST API에 대한 자세한 내용은 [트래픽 관리자 작업(REST API 참조)](http://go.microsoft.com/fwlink/p/?LinkId=313584)을 참조하세요.

트래픽 관리자의 Windows PowerShell cmdlets에 대한 자세한 내용은 [Azure 트래픽 관리자 Cmdlets](http://go.microsoft.com/fwlink/p/?LinkId=400769)를 참조하세요.

>[AZURE.NOTE] 외부 끝점(유형 = 'Any'), 라운드 로빈 부하 분산 방법의 가중치 및 관리 포털의 중첩된 프로필 구성을 현재 지원하지 않습니다. REST([정의 만들기](http://go.microsoft.com/fwlink/p/?LinkId=400772)) 또는 Windows PowerShell([추가-Azure TrafficManagerEndpoint](https://msdn.microsoft.com/library/azure/dn690257.aspx)) 중 하나를 사용해야 합니다.

### 관리 포털에서 설정 구성

관리 포털에서 빠른 생성을 사용하여 트래픽 관리자 프로필을 만들 수 있습니다. 빠른 생성을 사용하면 기본 프로필을 만들 수 있습니다. 프로필을 만든 후 추가 설정을 구성하거나 이전에 구성한 설정을 편집할 수 있습니다. 빠른 생성을 사용하여 트래픽 관리자 프로필을 만드는 방법에 대한 자세한 내용은 [트래픽 관리자 프로필 관리](traffic-manager-manage-profiles.md)를 참조하세요.

관리 포털에서 다음 설정을 구성할 수 있습니다.

- **DNS 접두사** - 사용자가 만든 고유 접두사입니다. 프로필은 접두사로 관리 포털에 표시됩니다.
- **DNS TTL** - DNS TTL(Time-to-Live) 값은 클라이언트의 로컬 캐싱 이름 서버가 Azure 트래픽 관리자 DNS 시스템에서 업데이트된 DNS 항목을 쿼리하는 빈도를 제어합니다.
- **구독** - 사용자 프로필에 해당하는 구독을 선택합니다. 구독이 여러 개일 경우에만 이 옵션이 나타납니다.
- **부하 분산 방법** - 트래픽 관리자가 부하 분산을 처리할 때 원하는 방식입니다.
- **장애 조치 순서** - 장애 조치 부하 분산 방법 사용 시 끝점의 순서입니다.
- **모니터링** - 모니터링 설정에는 프로토콜(HTTP 또는 HTTPS), 포트 및 상대 경로와 파일 이름이 포함됩니다.

### REST API를 사용하여 설정 구성

REST API를 사용하여 트래픽 관리자 프로필을 만들고 구성할 수 있습니다. 자세한 내용은 [트래픽 관리자 작업(REST API 참조)](http://go.microsoft.com/fwlink/?LinkId=313584)을 참조하세요.

- **프로필** -프로필에는 사용자가 만든 도메인 이름 접두사가 포함됩니다. 각 프로필은 사용자의 구독에 해당합니다. 구독마다 여러 프로필을 만들 수 있습니다. 프로필 이름은 관리 포털에 표시됩니다. 프로필에 포함된 사용자가 만든 이름은 사용자의 트래픽 관리자 도메인이라고 합니다.
- **정의** - 정의에는 정책 설정과 모니터 설정이 있습니다. 정의는 프로필에 해당합니다. 프로필당 정의 하나만 있을 수 있습니다. 정의 내에 포함된 여러 설정을 볼 수 있으며 관리 포털에서 구성할 수 있더라도 정의 자체는 관리 포털에 표시되지 않습니다.
- **DNS 옵션** - 각 정의 내 DNS 옵션이 있습니다. DNS TTL이 구성되는 위치입니다.
- **모니터** - 각 정의 내 모니터 설정이 있습니다. 프로토콜, 포트 및 상대 경로와 파일 이름이 구성되는 위치입니다. 모니터 설정이 표시되며 관리 포털에서 구성할 수 있습니다. 자세한 내용은 [트래픽 관리자 모니터링](traffic-manager-monitoring.md).을 참조하세요.
- **정책** - 각 정의 내 정책 설정이 있습니다. 정책은 부하 분산 방법과 끝점이 지정되는 위치입니다. 정책의 일부 설정이 표시되고 관리 포털에서 구성할 수 있더라도 정책 자체는 관리 포털에 표시되지 않습니다. 자세한 내용은 [트래픽 관리자 부하 분산 방법](traffic-manager-load-balancing-methods.md).을 참조하세요.

## Windows PowerShell을 사용하여 설정 구성

Windows PowerShell을 사용하여 트래픽 관리자 프로필을 만들고 구성할 수 있습니다. 자세한 내용은 [Azure 트래픽 관리자 Cmdlets](http://go.microsoft.com/fwlink/p/?LinkId=400769)를 참조하세요.

## 모범 사례

- **접두사를 고유하고 이해하기 쉽게 만들기** - 트래픽 관리자 프로필의 DNS 이름은 고유해야 합니다. DNS 이름의 첫 번째 부분만 제어할 수 있습니다. 트래픽 관리자 도메인 이름은 식별 및 클라이언트 요청을 보내는 용도로 사용됩니다. 클라이언트 컴퓨터는 이 이름을 최종 사용자에게 표시하지 않습니다. 그러나 프로필은 이 도메인 이름으로 식별되므로 관리 포털에 나열된 다른 도메인 이름에서 신속하게 식별할 수 있습니다.
- **점을 사용하여 고유성을 추가하거나 도메인 이름을 읽을 수 있도록 만들기** - 마침표를 사용하여 사용자 도메인 이름 접두사의 일부도 구분할 수 있습니다.  트래픽 관리자의 여러 정책을 만들 계획인 경우 다른 서비스와 구별하기 위해 일관된 계층 구조를 사용합니다. 예를 들어 Contoso에는 웹, 결제 및 유틸리티 관리를 위한 글로벌 서비스가 있습니다. 세 정책은  *web.contoso.trafficmanager.net*, *bill.contoso.trafficmanager.net* 및 *util.contoso.trafficmanager.net*입니다. 클라우드 서비스 또는 웹 사이트를 설정할 때 위치가 포함된 이름을 사용합니다. 예를 들어, *web-us-contoso.cloudapp.net* 및 *web-asia-contoso.cloudapp.net*입니다. DNS로 설정된 제한 사항입니다. 도메인 이름은 점으로 구분된 레이블의 시퀀스로 가정합니다. (label.label.label.label.etc.). 이 문서에서 트래픽 관리자의 도메인 이름에 대한 한계는 다음과 같습니다.
   - 각 레이블의 최대 문자는 63자입니다.
   - 레이블은 총 40개를 초과할 수 없습니다. 두 레이블을 trafficmanager.net에서 차지하고 접두사로 38개가 남습니다.
   - 전체 도메인 이름은 최대 253자일 수 있습니다. trafficmanager.net이 이 문자 중 19자를 차지합니다.
- **DNS TTL** - DNS TTL 값은 클라이언트의 로컬 캐싱 이름 서버가 Azure 트래픽 관리자 DNS 시스템에서 업데이트된 DNS 항목을 쿼리하는 빈도를 제어합니다. 프로필 변경이나 끝점 가용성 변경과 같이 트래픽 관리자 내에서 발생하는 모든 변경 내용이 DNS 서버의 글로벌 시스템 전체에서 새로 고쳐지는 데 이 기간의 시간이 소요됩니다. 300초(5분)의 기본값으로 설정을 유지하는 것이 좋습니다. 숫자가 높을수록 트래픽 관리자 DNS 응답이 DNS 확인자 및 클라이언트에서 캐시되는 기간이 늘어나며, 전체 DNS 쿼리 대기 시간은 줄어듭니다. 그러나 매우 빠른 장애 조치가 필요한 경우 더 낮은 값을 구성하는 것이 좋습니다.
- **끝점이 단일 구독에 있어야 함** -모든 끝점은 프로필을 만드는 구독과 동일한 구독에 있어야 합니다. 끝점을 다른 구독에서 외부 끝점으로 프로필에 추가할 수 있지만 연결된 서비스를 사용하지 않도록 설정하거나 삭제된 경우 Azure는 자동으로 끝점을 제거하지 않습니다. 결과적으로, 외부 끝점은 트래픽 관리자 프로필에 남아 수동으로 제거하지 않으면 계속 청구됩니다.
- **프로덕션 서비스만 해당** - 프로덕션 환경에서 끝점만 사용할 수 있습니다. 스테이징 환경에서 실행되는 끝점에 보낼 수 없습니다. 프로필이 트래픽을 보내는 동안 가상 IP(VIP) 주소를 교체하면 트래픽은 방금 프로덕션 환경으로 교체된 끝점을 사용합니다.
- **쉽게 식별할 수 있도록 끝점의 이름을 지정** - 사용할 DNS 접두사를 고려합니다. 구독에서 DNS 이름은 고유하다고 보장하기 때문에 이 이름을 사용하지만 클라우드 서비스나 웹 사이트의 이름은 고유하지 않을 수 있습니다. 혼동되지 않도록 동일하거나 유사한 클라우드 서비스나 웹 사이트에 이름과 DNS 접두사를 지정합니다. 20개가 넘는 클라우드 서비스와 웹 사이트가 있는 경우, 이름을 잘못 지정하면 올바른 끝점을 찾기 어려울 수 있습니다. 또한 끝점 이름을 잘못 지정하면 프로필을 유지 관리하기 어렵습니다.
- **프로필의 모든 끝점은 동일한 작업 및 포트를 제공해야 함** - 끝점을 혼합하는 경우 클라이언트가 해당 요청을 처리할 수 없는 끝점을 호출할 가능성이 큽니다.
- **프로필의 모든 클라우드 서비스가 동일한 모니터링 설정을 사용해야 함** - 단일 경로 및 파일만을 선택하여 지정된 정의의 모든 끝점을 모니터링할 수 있습니다. "/"를 **상대 경로와 파일 이름** 텍스트 상자에 입력하면 모니터링이 기본 경로와 파일 이름에 액세스하려고 합니다.
- **구성을 변경하는 대신 임시 변경을 위해 끝점을 사용하지 않도록 설정** -대부분의 경우 끝점을 오프라인 상태로 만들 수 있습니다. 프로필에서 끝점을 제거하는 대신 프로필에서 개별 끝점을 사용하지 않도록 설정하면 됩니다. 이 끝점은 프로필의 일부로 남지만 프로필은 끝점이 포함되지 않은 것처럼 동작합니다. 유지 관리 모드에 있거나 재배포 중인 끝점을 임시로 제거할 경우에 매우 유용합니다. 끝점이 작동하고 다시 실행 중이면 사용하도록 설정할 수 있습니다. 자세한 내용은 [트래픽 관리자에서 끝점 관리](traffic-manager-endpoints.md).를 참조하세요.
- **프로필을 삭제하는 대신 임시 변경을 위해 프로필을 사용하지 않도록 설정** - 프로필 내에 지정된 개별 끝점뿐만이 아닌 전체 프로필에 수행할 수 있습니다. 이렇게 하려면 프로필을 사용하지 않도록 설정합니다. 프로필을 사용하지 않도록 설정하면, 모든 설정을 계속 관리 포털에서 편집할 수 있으며 프로필을 다시 온라인으로 신속하게 되돌리고 사용하려고 할 때 쉽게 다시 사용할 수 있습니다. 자세한 내용은 [트래픽 관리자에서 끝점 관리](traffic-manager-endpoints.md).를 참조하세요.
- **저장소** -저장소의 위치와 배포 디자인 방법은 트래픽 관리자 사용 시 중요한 고려 사항입니다. 트래픽 관리자용 응용 프로그램 디자인 및 배포 시 종단간 트랜잭션 및 데이터 흐름 방식을 생각하세요.
- **SQL Azure** - 저장소와 마찬가지로, 끝점을 여러 지역으로 확장할 때는 응용 프로그램 상태 및 데이터 요구 사항을 분석합니다.

## 중첩된 프로필

다른 트래픽 관리자 프로필의 이름을 중첩된 프로필이라고 알려진 끝점으로 지정할 수 있습니다. 트래픽 관리자 프로필 이름은 contoso-europe.trafficmanager.net과 같은 DNS 이름입니다.

이 옵션을 사용하면 들어오는 DNS 이름 쿼리에서 요청 하는 클라이언트가 올바른 끝점 집합에 전송되도록 계층에서 분석되도록 트래픽 관리자를 구성할 수 있습니다. *Figure 3*은 예를 보여줍니다.

![중첩된 트래픽 관리자 프로필의 예](./media/traffic-manager-overview/IC751072.png)

**그림 3**

최대 수준 10까지 중첩할 수 있으며 각 프로필은 다른 부하 분산 방법으로 구성될 수 있습니다.

예를 들어, 다음의 구성을 만들 수 있습니다.

- 상위 계층에서(외부 DNS 이름에 매핑되는 트래픽 관리자 프로필) 성능 부하 분산 방법으로 프로필을 구성할 수 있습니다.
- 중간 계층에서 트래픽 관리자 프로필 집합이 다른 데이터 센터를 나타내고 라운드 로빈 부하 분산 방법을 사용합니다.
- 맨 아래 계층에서 각 데이터 센터의 클라우드 서비스 끝점의 집합은 사용자의 트래픽을 요청합니다.

결과에서는 사용자가 성능에 따라 지역별로 적절한 데이터 센터 및 같거나 가중치가 적용된 부하 분산에 따라 해당 데이터 센터 내에서 클라우드 서비스에 전송됩니다. 예를 들어, 테스트 또는 고객 피드백을 위해 평가판 또는 새 배포에 대한 트래픽의 작은 비율을 배포하는 데 가중치를 사용할 수 있습니다.

* 그림 4*는 구성을 보여줍니다.

![여러 계층의 트래픽 관리자 프로필의 예](./media/traffic-manager-overview/IC751073.png)

**그림 4**

 *Figure 4*에서, 최상위 계층의 트래픽 관리자 프로필은 부모 프로필이며 중간 계층의 트래픽 관리자 프로필은 자식 프로필입니다.

트래픽 관리자가 적은 수의 정상 끝점에 있는 자식 프로필에 사용자를 전달하면 해당 끝점을 오버 로드하여 성능 문제를 일으킬 수 있습니다. 이러한 상황을 방지하려면 해당 부모의 자식 프로필 내의 끝점 중 하나가 트래픽을 받을 수 있는지 여부를 결정하는 정상 끝점의 임계값으로 부모 트래픽 관리자 프로필을 구성할 수 있습니다. 예를 들어, 자식 프로필 내에서 세 개 이상의 정상끝점 인지 확인 하려는 경우 이 임계값을 3으로 설정합니다. 그림 4의 예제에서는 이 임계값에 대한 트래픽 관리자 프로필의 최상위 계층을 구성할 수 있습니다.

끝점으로 트래픽 관리자 프로필을 추가하고 최소한의 정상 끝점을 구성하려면 REST([정의 만들기](http://go.microsoft.com/fwlink/p/?LinkId=400772) 참조) 또는 Windows PowerShell ([추가-AzureTrafficManagerEndpoint](https://msdn.microsoft.com/library/azure/dn690257.aspx) 참조)를 사용해야 합니다. 관리 포털을 사용할 수 없습니다.

## 트래픽 관리자 그림

트래픽 관리자에서 이 주제의 그림을 사용자 자신의 프레젠테이션의 PowerPoint 슬라이드로 만들려는 경우 [MSDN 설명서에서 트래픽 관리자 그림](http://gallery.technet.microsoft.com/Traffic-Manager-figures-in-887e7c99)을 참조하세요.

## 참고 항목

[클라우드 서비스](http://go.microsoft.com/fwlink/p/?LinkId=314074)

[웹 사이트](http://go.microsoft.com/fwlink/p/?LinkId=393327)

[트래픽 관리자 작업(REST API 참조)](http://go.microsoft.com/fwlink/p/?LinkId=313584)

[Azure 트래픽 관리자 Cmdlets](http://go.microsoft.com/fwlink/p/?LinkId=400769)

<!--HONumber=49--> 