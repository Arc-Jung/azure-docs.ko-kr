---
title: 프로젝트 Acoustics를 사용하여 음향 효과 준비
titlesuffix: Azure Cognitive Services
description: 이 문서에서는 Unity 편집기 확장을 사용하여 음향 효과 준비를 제출하는 프로세스를 설명합니다.
services: cognitive-services
author: kegodin
manager: cgronlun
ms.service: cognitive-services
ms.component: acoustics
ms.topic: conceptual
ms.date: 08/17/2018
ms.author: kegodin
ms.openlocfilehash: c37e050cd762cb173d64f78b5267e4ad252d17a9
ms.sourcegitcommit: 7824e973908fa2edd37d666026dd7c03dc0bafd0
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/10/2018
ms.locfileid: "48902249"
---
# <a name="bake-acoustics"></a>음향 효과 준비

이 문서에서는 Unity 편집기 확장을 사용하여 음향 효과 준비를 제출하는 프로세스를 설명합니다. 음향 효과에 대한 자세한 배경 정보는 [음향 효과란?](what-is-acoustics.md)을 참조하세요. 빠른 시작 가이드에 대해서는 [시작하기](getting-started.md)를 참조하세요.

## <a name="import-the-plugin"></a>플러그 인 가져오기

프로젝트에 Acoustics 플러그 인 패키지를 가져옵니다. 그런 후 Unity 메뉴에서 **창 > Acoustics**를 선택하여 Acoustics UI를 엽니다.

![Acoustics(음향 효과) 창 열기](media/WindowAcoustics.png)

## <a name="principles"></a>원리

Acoustics 도구 창은 음향 효과 엔진이 장면의 음향 효과를 계산하기 위해 필요한 정보를 수집합니다. 준비는 다음 5개 단계로 수행합니다.

1. 플레이어 탐색 메시 만들기 또는 표시
2. 음향 효과 기하 도형 표시
3. 음향 효과 재질 속성을 기하 도형에 할당
4. 프로브 배치 미리 보기
5. 준비

준비가 완료되면 [Acoustics의 디자인 프로세스 개요](design-process.md)에서 선택적인 준비 후 디자인 단계를 참조하세요.

## <a name="create-or-mark-a-navigation-mesh"></a>탐색 메시 만들기 또는 표시

탐색 메시는 시뮬레이션의 프로브 요소를 배치하는 데 사용됩니다. Unity의 [탐색 메시 워크플로](https://docs.unity3d.com/Manual/nav-BuildingNavMesh.html)를 사용하거나 사용자 고유의 탐색 메시를 지정할 수 있습니다. Unity의 워크플로로 만든 탐색 메시는 음향 효과 시스템에서 선택됩니다. 고유한 메시를 사용하려면 다음 단계에 설명된 것처럼 **Objects**(개체) 탭에서 표시합니다.

## <a name="objects-tab"></a>Objects(개체) 탭

**Acoustics** 창의 **Objects**(개체) 탭을 엽니다. 이 탭을 사용하여 장면에서 개체를 표시합니다. 그러면 **AcousticsGeometry** 또는 **AcousticsNavigation** 구성 요소가 간단히 개체에 추가됩니다. [표준 Unity 구성 요소 워크플로](https://docs.unity3d.com/Manual/UsingComponents.html)를 사용하여 개체에 표시하거나 표시를 해제할 수도 있습니다.

장면 창 또는 계층 구조에서 하나 이상의 개체를 선택하고 아래에 설명된 것처럼 **AcousticsGeometry** 또는 **AcousticsNavigation**용으로 표시하거나 표시를 해제합니다. 선택한 항목이 없는 경우 장면의 모든 항목에 한꺼번에 표시하거나 표시를 해제할 수 있습니다.

메시 렌더러 및 지형만 표시할 수 있습니다. 다른 모든 개체 유형은 무시됩니다. 이러한 확인란을 사용하여 영향을 받는 모든 개체를 표시하거나 표시를 해제합니다.

장면에서 아무 항목도 선택하지 않는 경우 다음 그림과 같이 표시됩니다.

![Objects(개체) 탭에서 선택 안 함](media/ObjectsTabNoSelectionDetail.png)

장면 또는 계층 구조 창에서 항목을 선택한 경우 다음 그림과 같이 표시됩니다.

![Objects(개체) 탭에서 선택 안 함](media/ObjectsTabWithSelectionDetail.png)

### <a name="objects-tab-parts"></a>Objects(개체) 탭 부분

이 탭 페이지의 부분은 다음과 같습니다.

1. 탭 선택 단추(**Objects**(개체) 탭이 선택됨). 이러한 단추를 사용하여 왼쪽에서 오른쪽으로 음향 효과 준비의 다양한 단계를 진행합니다.
2. 이 페이지를 사용하여 수행해야 하는 작업에 대한 간단한 설명입니다.
3. 계층 구조 창에서 사용할 수 있는 필터. 이 필터를 사용하면 계층 구조 창을 지정된 유형의 개체로 필터링하여 쉽게 표시할 수 있습니다. 음향 효과에 대해 어떤 항목에도 표시하지 않은 경우 마지막 2개 옵션을 선택하면 아무 내용도 표시되지 않습니다. 그러나 일단 이 작업이 완료되면 이러한 두 옵션을 사용해서 표시된 개체를 좀 더 편리하게 찾을 수 있습니다.
4. 선택한 개체가 없으면 이 섹션에는 장면에 포함된 모든 개체의 상태가 표시됩니다.
    * Total(전체) - 장면에서 숨겨지지 않은 활성 개체의 총 개수입니다.
    * Ignored(무시) - 메시 렌더러 또는 지형이 아닌 개체의 수입니다.
    * Mesh(메시) - 장면의 메시 렌더러 개체의 수입니다.
    * Terrain(지형) - 장면의 지형 개체의 수입니다.
    * Geometry(기하 도형) - 장면에서 "Acoustics Geometry"로 표시되는 메시 또는 지형 개체의 수입니다.
    * Navigation(탐색) - 장면에서 "Acoustics Navigation"으로 표시되는 메시 또는 지형 개체의 수입니다. 이 수에 Unity의 NavMesh는 포함되지 않습니다.
5. 장면에서 메시 렌더러 및 지형에만 해당하는 '표시 가능' 개체의 총 수를 표시합니다. 해당 개체를 음향 효과에 대한 기하 도형 또는 탐색으로 표시(해당 구성 요소 추가)하는 데 사용할 수 있는 확인란을 표시합니다.
6. 아무 항목도 선택하지 않은 경우 필요에 따라 표시할 개체를 선택하라는 메시지가 표시됩니다. 하나 또는 두 확인란을 모두 선택하면 아무 항목도 선택하지 않고 장면의 모든 개체에 표시할 수 있습니다.
7. 선택한 개체가 있으면 이 섹션에는 선택한 개체의 상태만 표시됩니다.
8. 선택한 '표시 가능' 개체의 총 수를 표시합니다. 확인란을 선택하거나 선택을 취소하면 선택한 개체만 표시 또는 표시 해제됩니다.

일부 개체만 표시된 경우 해당 확인란에 "혼합된" 값이 표시됩니다.

![Mixed Value(혼합 값) 확인란](media/MixedObjectSelectionDetail.png)

이 확인란을 클릭하면 모든 개체가 강제로 표시되고, 다시 클릭하면 모든 개체의 표시가 해제됩니다.

개체를 기하 도형 및 탐색 둘 다를 위한 개체로 표시할 수 있습니다.

### <a name="guidelines-for-marking-objects"></a>개체 표시 지침

소리를 폐색, 반사 또는 흡수하는 경우 개체를 **Acoustics Geometry**(음향 기하 도형)로 표시해야 합니다. 음향 기하 도형에는 바닥, 벽, 지붕, 창 및 창 유리, 깔개 및 대형 가구 등이 포함될 수 있습니다. 램프, 장식품, 조명 설비와 같은 소형 개체는 준비 비용이 눈에 띄게 증가하지 않으므로 포함하는 것이 좋습니다. 바닥 또는 천장과 같은 주요 요소를 놓치지 않는 것이 중요합니다. 또한 충돌 메시 같이 음향에 영향을 미치지 않아야 하는 항목은 포함하지 않도록 합니다.

프로브 계산 시 개체의 변환(아래의 **Probes**(프로브) 탭 사용)은 준비 결과에서 수정됩니다. 장면에서 표시된 개체를 이동하려면 프로브 계산 다시 실행 및 장면 재준비가 필요합니다.

## <a name="materials-tab"></a>Materials(재질) 탭

개체가 표시되면 **Materials**(재질) 단추를 클릭하여 Materials(재질) 탭으로 이동합니다.

### <a name="parts-of-the-materials-tab"></a>Materials(재질) 탭 부분

![Materials(재질) 탭 세부 정보](media/MaterialsTabDetail.png)

1. 이 페이지를 표시하는 데 사용되는 **Materials**(재질) 탭 단추입니다.
2. 이 페이지를 사용하여 수행해야 하는 작업에 대한 간단한 설명입니다.
3. 선택할 경우 **Acoustics Geometry**(음향 기하 도형)로 표시된 개체에 사용되는 재질만 나열됩니다. 그렇지 않은 경우 장면에 사용되는 모든 재질이 나열됩니다.
4. 아래의 Acoustics(음향 효과) 열(#6)에서 드롭다운을 클릭할 때 표시되는 드롭다운 메뉴의 순서를 변경하려면 이러한 옵션을 사용합니다. **Name**(이름)은 음향 재질을 이름으로 정렬합니다. "Absorptivity(흡수성)"는 낮은 흡수성부터 높은 흡수성 순서로 재질을 정렬합니다.
5. 장면에 사용된 재질의 사전순 목록입니다. **Show Marked Only**(표시된 재질만 표시) 확인란을 선택하면(#3), 개체에서 사용되며 **Acoustics Geometry**(음향 기하 도형)으로 표시된 재질만 표시됩니다. 여기에서 재질을 클릭하면 해당 재질을 사용하는 장면의 모든 개체가 선택됩니다.
6. 장면 재질이 할당된 음향 재질을 표시합니다. 장면 재질을 다른 음향 재질에 다시 할당하려면 드롭다운을 클릭합니다. 여기에서 항목을 클릭할 때 표시되는 메뉴의 정렬 순서는 위의 **Sort Acoustics By:**(음향 효과 정렬 기준) 옵션(#4)을 사용하여 변경할 수 있습니다.
7. 이전 열에서 선택한 재질의 음향 흡수 계수를 표시합니다. 이 값이 0이면 완벽하게 반사(흡수 없음)되는 것을 의미하고, 값이 1이면 완벽 하게 흡수(반사 없음)되는 것을 의미합니다. 선택한 재질이 "Custom(사용자 지정)"이 아니면 흡수 계수를 변경할 수 없습니다.
8. "Custom(사용자 지정)"에 할당된 재질의 경우, 이 슬라이더가 더 이상 비활성화되지 않으며, 슬라이더를 사용하거나 값을 입력하여 흡수 계수를 선택할 수 있습니다. 재질 속성에 대한 자세한 내용은 [Acoustics의 디자인 프로세스 개요](design-process.md)를 참조하세요.

### <a name="guidelines-for-assigning-materials-or-absorption-values"></a>재질(또는 흡수 값) 할당 지침

이 탭은 이름을 기준으로 재질의 흡수율을 추측하려고 합니다. 예를 들어, 장면 재질 이름이 LivingRoom_WoodTable이면 처음에 할당된 음향 재질이 "wood"(나무)일 것입니다. 알려진 재질을 확인할 수 없는 재질에는 흡수율이 콘크리트와 비슷한 “Default”(기본) 재질이 할당됩니다.

각 장면 재질에는 음향 재질을 다시 할당할 수 있습니다. 예를 들어, 룸에서 소리가 너무 잘 반향되면 벽, 바닥 또는 천장의 음향 재질을 흡수성이 좀 더 높은 재질로 변경합니다. 음향 재질 할당은 해당 장면 재질을 사용하는 모든 개체에 적용됩니다.

## <a name="probes-tab"></a>Probes(프로브) 탭

재질을 할당한 후 **Probes**(프로브) 탭으로 전환합니다.

### <a name="parts-of-the-probes-tab"></a>Probes(프로브) 탭의 부분

![Probes(프로브) 세부 정보](media/ProbesTabDetail.png)

1. 이 페이지를 표시하는 데 사용되는 **Probes**(프로브) 탭 단추입니다.
2. 이 페이지를 사용하여 수행해야 하는 작업에 대한 간단한 설명입니다.
3. 성긴 또는 미세 시뮬레이션 해상도를 선택하는 데 사용합니다. 성길수록 더 빠르지만 단점도 있습니다. 자세한 내용은 아래의 ["성긴 해상도 및 미세 해상도"](#Coarse-vs-Fine-Resolution)를 참조하세요.
4. 이 필드를 사용하여 음향 데이터 파일을 배치할 위치를 선택합다. 폴더 선택기를 사용하려면 "..."가 있는 단추를 클릭합니다. 기본값은 **Assets/AcousticsData**입니다. **Editor**(편집기) 하위 폴더도 이 위치 아래에 생성됩니다. 데이터 파일에 대한 자세한 내용은 아래의 ["데이터 파일"](#Data-Files)을 참조하세요.
5. 이 장면에 대한 데이터 파일 이름은 여기에 제공된 접두사를 사용하여 지정됩니다. 기본값은 "Acoustics_[장면 이름]"입니다.
6. 프로브가 계산된 후에는 위의 컨트롤이 사용되지 않도록 설정됩니다. 새 설정을 사용하여 다시 계산할 수 있도록 **Clear**(지우기) 단추를 클릭하여 계산을 지우고 컨트롤을 사용하도록 설정합니다.
7. **Calculate...**(계산...)를 클릭하여 장면을 입체 화상으로 만들고 프로브 점 위치를 계산합니다. 이 작업은 컴퓨터에서 로컬로 수행되며, 준비를 수행하기 전에 완료되어야 합니다.

이 버전의 프로젝트 Acoustics에서는 프로브를 수동으로 배치할 수 없으며, **Probes**(프로브) 탭에 제공되는 자동 프로세스를 통해 배치해야 합니다.

### <a name="what-the-calculate-button-calculates"></a>"Calculate..."(계산...) 단추가 계산하는 내용

**Calculate...**(계산...) 단추는 지금까지 제공한 모든 데이터(기하 도형, 탐색, 재질 및 성김/미세 설정)를 사용하며 다음과 같은 몇 가지 단계를 거칩니다.

1. 장면 메시에서 기하 도형을 가져오고 복셀 볼륨을 계산합니다. 복셀 볼륨은 전체 장면을 포함하는 3차원 볼륨으로, 작은 큐브형 "복셀"로 이루어져 있습니다. 복셀 크기는 **Simulation Resolution**(시뮬레이션 해상도) 설정에 따라 지정되는 시뮬레이션 주파수로 결정됩니다. 각 복셀은 "실외"이거나 장면 기하 도형을 포함하는 것으로 표시됩니다. 복셀에 기하 도형이 포함되면 복셀에는 해당 기하 도형에 할당된 재질의 흡수 계수가 태그로 지정됩니다.
2. 그런 후에 탐색 데이터를 사용하여 플레이어가 이동할 수 있는 흥미로운 음향 효과 위치를 계산합니다. 또한 출입구 및 통로와 같은 좀 더 작은 영역부터 룸, 열린 공간으로 확장하면서 이러한 위치의 소규모 집합을 찾으려고 합니다. 작은 장면의 경우 이러한 위치는 100개보다 작은 것이 일반적이지만, 큰 장면은 1,000개까지 포함할 수 있습니다.
3. 계산하는 최종 수신자 위치 각각에 대해, 공간이 “열린” 정도, 룸 크기 등과 같은 다양한 매개 변수를 확인합니다.
4. 이러한 계산 결과는 지정한 위치의 파일에 저장됩니다(아래의 ["데이터 파일"](#Data-Files) 참조).

장면의 크기 및 컴퓨터의 속도에 따라, 이러한 계산이 몇 분 정도 걸릴 수 있습니다.

이러한 계산이 완료되면 복셀 데이터와 프로브 점 위치를 미리 보면서 준비를 통해 적절한 결과를 얻을 수 있을지 확인할 수 있습니다. 잘못된 탐색 메시 또는 누락/추가 기하 도형과 같은 요소는 미리 보기에서 빠르게 확인하고 수정할 수 있습니다.

### <a name="scene-rename"></a>장면 이름 바꾸기

장면 이름은 장면을 프로브 점 배치 및 입체 화상을 저장하는 파일에 연결하는 데 사용됩니다. 프로브 점을 계산한 후에 장면 이름이 바뀌면 재질 할당 및 배치 데이터가 손실되며 다시 실행해야 합니다.

## <a name="debug-display-through-gizmos"></a>Gizmo를 통해 표시 디버그

기본적으로 **프로브** 및 **복셀** gizmo가 둘 다 켜집니다. 이러한 gizmo는 복셀 및 계산된 프로브 점 위치를 표시합니다. 이러한 항목은 Gizmo 메뉴를 사용하여 사용하거나 사용하지 않도록 설정할 수 있습니다.

![Gizmo 메뉴](media/GizmosMenu.png)

### <a name="voxels"></a>복셀

복셀은 장면 창에서 참여하는 기하 도형 주변의 녹색 큐브로 표시됩니다. 공기만 포함하는 복셀은 표시되지 않습니다. 시뮬레이션에 사용되는 전체 복셀 볼륨을 나타내는 큰 녹색 상자가 전체 장면 주위에 나타납니다.
장면 주위를 이동하면서 기하 도형에 해당하는 모든 항목에 복셀이 있는지 확인합니다. 복셀이 표시되려면 장면 카메라가 개체의 약 5미터 이내에 있어야 합니다.

성긴 해상도로 만든 복셀과 미세 해상도로 만든 복셀을 비교할 경우 성긴 복셀이 2배 더 큰 것을 볼 수 있습니다.

![복셀 미리 보기](media/VoxelCubesPreview.png)

### <a name="probe-points"></a>프로브 점

프로브 점은 가능한 플레이어(수신자) 위치의 동의어입니다. 준비를 수행할 경우 장면에 있는 소리 원본에 대한 음향 효과가 이러한 각 프로브 점에 대해 계산됩니다. 플레이어가 직접 프로브 점 위치에 있지 않으면 플레이어와 가장 가까운 프로브 점의 데이터를 사용하여 해당 위치의 매개 변수를 보간합니다.

따라서 플레이어가 장면에서 이동할 것으로 예상되는 위치에 프로브 점이 있는지와, 작은 영역 및 출입구가 적절히 표시되는지 확인하는 것이 중요합니다. 프로브 점은 장면의 기하 도형 해석에 따라 프로젝트 Acoustics 엔진에 의해 배치되며, 이 디자이너 미리 보기에서 이동하거나 편집할 수 없습니다. 대신, 이러한 프로브 점을 사용하여 기하 도형 표시 및 탐색 힌트 데이터가 올바른지 확인합니다.

![프로브 미리 보기](media/ProbesPreview.png)

### <a name="Coarse-vs-Fine-Resolution"></a>성긴 해상도 및 미세 해상도

성긴 해상도 설정 및 미세 해상도 설정 간의 유일한 차이점은 시뮬레이션이 수행되는 주파수입니다. 미세 해상도는 성긴 해상도의 2배에 해당하는 주파수를 사용합니다.
이것은 간단해 보일 수 있지만, 음향 시뮬레이션에서는 다음과 같은 여러 가지 의미가 내포되어 있습니다.

* 성긴 해상도의 파장은 미세 해상도 파장의 2배이므로 복셀도 2배만큼 큽니다.
* 시뮬레이션 시간은 복셀 크기와 직접적인 관계가 있으며, 성긴 준비는 미세 준비보다 약 16배 더 빠릅니다.
* 복셀 크기보다 작은 정문(예: 문 또는 창)은 시뮬레이트할 수 없습니다. 성긴 설정은 이러한 더 작은 정문 일부가 시뮬레이트되지 않도록 할 수 있으므로 런타임에 소리가 통과되지 않게 됩니다. 복셀을 확인하여 이러한 문제가 나타나는지 확인할 수 있습니다.
* 시뮬레이션 주파수가 더 낮으면 모서리 및 가장자리 주변의 회절이 줄어듭니다.
* 소리 원본은 기하 도형을 포함하는 “채워진” 복셀 내에 위치할 수 없습니다. 이 경우 소리가 나오지 않습니다. 미세 설정을 사용할 때보다 더 큰 성긴 복셀 내에 있지 않도록 소리 원본을 배치하는 것은 좀 더 어렵습니다.
* 아래와 같이 더 큰 복셀은 정문을 더 많이 침범합니다. 첫 번째 이미지는 성긴 해상도를 사용하고, 두 번째 이미지는 미세 해상도를 사용하여 동일한 출입구를 만든 것입니다. 빨간색으로 표시된 것처럼, 미세 설정을 사용하는 경우 출입구를 훨씬 적게 침범합니다. 파란색 선은 기하 도형으로 정의되는 출입구이지만, 빨간색 선은 복셀 크기로 정의되는 유효 음향 출입구입니다. 지정된 상황에서 이러한 침범이 어떻게 발생하느냐는 복셀이 정문 기하 도형에 얼마나 잘 맞게 정렬되는지에 달려 있습니다. 이러한 상태는 장면에 있는 개체의 크기 및 위치에 따라 결정됩니다.

![성긴 출입구](media/CoarseVoxelDoorway.png)

![미세 출입구](media/FineVoxelDoorway.png)

## <a name="bake-tab"></a>Bake(준비) 탭

미리 보기 데이터가 만족스러우면 **Bake**(준비) 탭을 사용하여 준비 결과를 클라우드에 제출합니다.

### <a name="parts-of-the-bake-tab"></a>Bake(준비) 탭의 부분

![Bake(준비) 탭 세부 정보](media/BakeTabDetails.png)

1. 이 페이지를 표시하는 데 사용되는 Bake(준비) 탭 단추입니다.
2. 이 페이지에서 수행할 작업에 대한 간략한 설명입니다.
3. Azure 계정이 만들어지면 Azure 자격 증명을 입력할 필드입니다. 자세한 내용은 [Azure Batch 계정 만들기](create-azure-account.md)를 참조하세요.
4. 음향 도구 집합에 대한 Docker 이미지 태그입니다.
5. Azure Portal을 시작하여 구독을 관리하고, 사용량을 모니터링하고, 청구 정보를 확인합니다. 
6. 계산에 사용될 Azure Batch 계산 노드 유형입니다. 해당 노드 유형은 Azure 데이터 센터 위치에서 지원되어야 합니다. 지원 여부가 확실하지 않은 경우 상태로 둡니다.****
7. 이 계산에 사용할 노드 수입니다. 여기에 입력한 숫자는 준비를 완료하는 시간에 영향을 미치며 Azure Batch 코어 할당에 의해 제한됩니다. 기본 할당은 8 코어 노드 2개, 16 코어 노드 1개만 허용하지만 확장 가능합니다. 코어 할당 제약 조건에 대한 자세한 내용은 [Azure Batch 계정 만들기](create-azure-account.md)를 참조하세요.
8. 이 확인란을 선택하여 [우선 순위가 낮은 노드](https://docs.microsoft.com/azure/batch/batch-low-pri-vms)를 사용하도록 계산 풀을 구성합니다. 우선 순위가 낮은 계산 노드는 훨씬 저렴하지만 항상 사용 가능하지 않을 수도 있고 언제든지 선점될 수도 있습니다.
9. **Probes**(프로브) 탭에서 계산되는 장면에 대한 프로브 수입니다. 프로브 수는 클라우드에서 실행되어야 하는 시뮬레이션의 수를 결정합니다. 프로브보다 더 많은 노드를 지정할 수 없습니다.
10. 클라우드에서 작업이 실행 소요 시간으로 예상되는 경과 시간 크기입니다. 노드 시작 시간은 여기에 포함되지 않습니다. 이 시간은 작업 실행이 시작되면 결과를 다시 얻기까지 소요되는 기간과 비슷합니다. 이 시간은 추정치에 불과합니다.
11. 시뮬레이션을 실행하는 데 필요한 컴퓨팅 시간의 총 크기입니다. 이것은 Azure에서 사용되는 노드 계산 시간의 총 크기입니다. 이 값 사용에 대한 자세한 내용은 아래의 [준비 비용 예측](#Estimating-bake-cost)을 참조하세요.
12. 이 메시지는 작업이 완료된 후 준비 결과가 저장될 위치를 알려줍니다.
13. (고급 사용만 해당) 특정 이유로 인해 강제로 Unity가 사용자가 제출한 준비를 무시하도록 하려면(예: 다른 컴퓨터를 사용하여 결과를 다운로드한 경우) **상태 지우기** 단추를 클릭하여 제출된 작업을 무시합니다. 이것은 준비된 결과 파일이 다운로드되지 **않는 것**을 의미하며, **작업을 취소하는 것과는 다릅니다**. 실행 중인 작업은 클라우드에서 계속 실행됩니다.
14. Bake(준비) 단추를 클릭하여 준비 결과를 클라우드로 제출합니다. 작업이 실행되는 동안 **Cancel Job**(작업 취소)이 대신 표시됩니다.
15. 로컬 컴퓨터에서 음향 시뮬레이션 처리를 준비합니다. 자세한 내용은 [로컬 준비](#Local-bake)를 참조하세요.  
16. 이 영역에는 준비 상태가 표시됩니다. 완료되면 **Downloaded**(다운로드됨)가 표시됩니다.

항상 [Azure Portal](https://portal.azure.com)에서 활성 작업, 계산 풀 및 저장소에 대한 전체 정보를 얻을 수 있습니다.

작업이 실행되는 동안 **Bake**(준비) 단추가 **Cancel Job**(작업 취소)으로 변경됩니다. 진행 중인 작업을 취소하려면 이 단추를 사용합니다. 작업을 취소하기 전에 취소할지 묻는 메시지가 표시됩니다. 작업을 취소하면 실행 취소할 수 없고, 결과를 사용할 수 없으며 사용된 Azure 계산 시간 요금은 계속 부과됩니다.

준비가 시작되면 Unity를 닫을 수 있습니다. 프로젝트, 노드 유형 및 노드 수에 따라, 클라우드 준비에 몇 시간이 소요될 수 있습니다. 프로젝트를 다시 로드하고 Acoustics(음향 효과) 창을 열면 준비 작업 상태가 업데이트됩니다. 작업이 완료되면 출력 파일이 다운로드됩니다.

Azure 자격 증명은 로컬 컴퓨터에 안전하게 저장되고 Unity 편집기에 연결됩니다. 이러한 자격 증명은 Azure에 대한 보안 연결을 설정하는 데만 사용됩니다.

### <a name="Estimating-bake-cost"></a> Azure 준비 비용 예측

지정된 준비에 부과될 요금을 예측하려면 기간에 해당하는 **Estimated Compute Cost**(예상 계산 비용) 값에 선택한 **VM 노드 유형**의 로컬 통화로 나타낸 시간당 비용을 곱합니다. 결과에는 노드를 계속 작동하는 데 필요한 노드 시간은 포함되지 않습니다. 예를 들어, 노드 유형으로 **Standard_F8s_v2**을 선택했으며(시간당 요금 $0.40), 예상 계산 비용이 3시간 57분이면 예상되는 작업 실행 비용은 $0.40 * ~4시간 = ~$1.60가 됩니다. 실제 비용은 노드를 시작하기 위한 추가 시간 때문에 약간 더 높을 것입니다. [Azure Batch 가격 책정](https://azure.microsoft.com/pricing/details/virtual-machines/linux) 페이지에서 시간별 노드 비용을 찾을 수 있습니다(범주로 "계산에 최적화" 또는 "고성능 계산" 선택).

### <a name="reviewing-the-bake-results"></a>준비 결과 검토

준비가 완료되면 런타임 플러그 인을 실행하여 복셀 및 프로브 점이 예상 위치에 있는지 확인합니다. 자세한 내용은 [Acoustics의 디자인 프로세스 개요](design-process.md)를 참조하세요.

## <a name="Local-bake"></a>로컬 준비
로컬 준비는 Azure Batch 계산 클러스터로 오프로드하는 대신, 사용자의 PC에서 음향 시뮬레이션을 실행합니다. 이것은 Azure 구독이 없어도 음향을 실험해보기 좋은 옵션일 수 있습니다. Acoustics 시뮬레이션은 계산 측면에서 까다로우며, 장면 크기, 시뮬레이구션 성 및 처리 컴퓨터의 원시 계산 능력에 따라 시간이 오래 걸릴 수 있습니다.

### <a name="minimum-hardware-requirements"></a>최소 하드웨어 요구 사항
8개 이상의 코어와 32GB 이상의 RAM이 있는 64비트 Intel 프로세서

예: Intel Xeon E5-1660 @ 3GHz 및 32GB RAM이 있는 8코어 컴퓨터
* 100개 프로브가 있는 작은 장면은 성긴 해상도로 준비할 때는 최대 2시간, 미세 해상도로 준비할 때는 최대 32시간이 소요됩니다.
* 1,000개 프로브가 있는 더 큰 장면은 성긴 해상도로 준비할 때는 최대 20시간, 미세 해상도로 준비할 때는 최대 21일이 소요됩니다.

### <a name="setup-docker"></a>Docker 설치
시뮬레이션을 처리할 Docker를 PC에서 설치 및 구성합니다.
1. [Docker 도구 집합](https://www.docker.com/products/docker-desktop)을 설치합니다.
2. Docker 설정을 시작하고, “고급” 옵션으로 이동한 후 최소 8GB RAM을 포함하도록 리소스를 구성합니다. Docker에 더 많은 CPU를 할당할수록, 준비를 더 빠르게 완료할 수 있습니다. ![Docker 설정 예](media/DockerSettings.png)
3. “공유 드라이브”로 이동한 후 처리에 사용되는 드라이브에 대한 공유를 켭니다.![DockerDriveSharing](media/DockerSharedDrives.png)

### <a name="run-local-bake"></a>로컬 준비 실행
1. 준비 탭의 "로컬 준비" 단추를 클릭하고 입력 파일 및 실행 스크립트를 저장할 폴더를 선택합니다. 그러면 최소 하드웨어 요구 사항을 충족하는 모든 컴퓨터에서 준비를 실행하고, 해당 폴더를 컴퓨터로 복사하여 Docker를 설치할 수 있습니다.
2. “runlocalbake.bat” 스크립트를 사용하여 시뮬레이션을 시작합니다. 이 스크립트는 시뮬레이션 처리에 필요한 도구 집합으로 프로젝트 Acoustics Docker 이미지를 가져온 후 시뮬레이션을 시작합니다. 
3. 시뮬레이션이 완료되면 결과 .ace 파일을 Unity 프로젝트로 다시 복사합니다. Unity가 이 파일을 이진 파일로 인식하도록 하려면 파일 확장명에 “.bytes”를 추가합니다(예: “Scene1.ace.bytes”). 시뮬레이션에 대한 자세한 로그는 “AcousticsLog.txt”에 저장됩니다. 실행 동안 문제가 발생하면 진단을 위해 이 파일을 제공하세요.

## <a name="Data-Files"></a>데이터 파일

이 플러그 인에서 생성된 4개의 데이터 파일은 다양한 지점에 있습니다. 런타임에는 이러한 파일 중 하나만 필요하므로, 다른 3개는 “Editor”(편집기) 폴더 내에 있으며 프로젝트에 컴파일되지 않습니다.

* **Assets/Editor/[SceneName]\_AcousticsParameters.asset**: 이 파일은 사용자가 입력하는 데이터를 Acoustics UI의 필드에 저장합니다. 이 파일의 이름과 위치는 변경할 수 없습니다. 이 파일에는 준비에 영향을 미치는 다른 값도 있지만 고급 사용자를 위한 것이며 변경하지 않는 것이 좋습니다.
* **Assets/AcousticsData/Acoustics\_[SceneName].ace.bytes**: 이 파일은 준비 시뮬레이션 동안 만들어지며, 장면의 음향 효과를 렌더링하기 위해 런타임에서 사용하는 조회 데이터를 포함합니다. 이 파일의 위치와 이름은 **Probes**(프로브) 탭의 필드를 사용하여 변경할 수 있습니다.
* **Assets/AcousticsData/Editor/Acoustics_[SceneName].vox**: 이 파일은 입체 화상으로 나타낸 음향 기하 도형과 재질 속성을 저장합니다. Probes(프로브) 탭의 **Calculate...**(계산...) 단추를 사용하여 계산됩니다. 이 파일의 위치와 이름은 **Probes**(프로브) 탭의 필드를 사용하여 변경할 수 있습니다.
* **Assets/AcousticsData/Editor/Acoustics\_[SceneName]\_config.xml**: 이 파일은 **Probes** (프로브) 탭의 **Calculate...**(계산...) 단추를 사용하여 계산되는 매개 변수를 저장합니다. 이 파일의 위치와 이름은 **Probes**(프로브) 탭의 필드를 사용하여 변경할 수 있습니다.

준비에서 다운로드한 *.ace.bytes 파일은 삭제하지 않도록 주의합니다. 이 파일은 장면을 다시 준비하는 경우를 제외하고는 복구할 수 없습니다.

## <a name="next-steps"></a>다음 단계
* [Acoustics의 디자인 프로세스 개요](design-process.md)에서 소리 원본에 준비 결과를 적용합니다.

