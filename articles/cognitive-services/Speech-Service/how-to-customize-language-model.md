---
title: Speech Service를 사용하여 언어 모델을 만드는 방법 - Microsoft Cognitive Services
description: Microsoft Cognitive Services에서 Speech Service를 통해 언어 모델을 만드는 방법을 알아봅니다.
services: cognitive-services
author: PanosPeriorellis
ms.service: cognitive-services
ms.component: speech-service
ms.topic: tutorial
ms.date: 06/25/2018
ms.author: panosper
ms.openlocfilehash: 0161a691cbec45a87ade218d1707a2784d7f1cfc
ms.sourcegitcommit: 068fc623c1bb7fb767919c4882280cad8bc33e3a
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/27/2018
ms.locfileid: "39283887"
---
# <a name="tutorial-create-a-custom-language-model"></a>자습서: 사용자 지정 언어 모델 만들기

이 문서에서는 사용자 지정 언어 모델을 만듭니다. 그런 다음, 응용 프로그램에 음성 상호 작용을 추가하기 위해 Microsoft에서 기존의 최신 음성 모델과 함께 사용할 수 있습니다.

문서에서는 다음 방법을 설명합니다.
> [!div class="checklist"]
> * 데이터 준비
> * 언어 데이터 집합 가져오기
> * 사용자 지정 언어 모델 만들기

Cognitive Services 계정이 아직 없는 경우 시작하기 전에 [무료 계정](https://azure.microsoft.com/try/cognitive-services/)을 만듭니다.

## <a name="prerequisites"></a>필수 조건

[Cognitive Services 구독](https://customspeech.ai/Subscriptions) 페이지를 열어 Cognitive Services 계정이 구독에 연결되어 있는지 확인합니다.

**기존 구독 연결** 단추를 클릭하여 Azure Portal에서 만든 Search Service 구독에 연결할 수 있습니다.

Azure portal에서 Speech Service 구독을 만드는 방법에 대한 자세한 내용은 [시작](get-started.md) 페이지를 참조하세요.

## <a name="prepare-the-data"></a>데이터 준비

응용 프로그램에 대한 사용자 지정 언어 모델을 만들려면 예를 들어 시스템에 발화 예제 목록을 제공해야 합니다.

*   "환자는 지난 주 내내 두드러기가 났습니다."
*   "그 환자는 탈장 봉합 상처가 잘 아물었습니다."

문장은 완벽한 문장이거나 문법적으로 정확할 필요는 없으며 시스템이 배포에서 발생되도록 예상하는 음성 입력을 정확하게 반영해야 합니다. 이 예제에서는 사용자가 응용 프로그램으로 수행할 작업의 내용과 스타일 모두를 반영해야 합니다.

언어 모델 데이터는 UTF-8 BOM으로 작성되어야 합니다. 텍스트 파일은 줄당 한 가지 예제(문장, 발언 또는 쿼리)를 포함해야 합니다.

몇 가지 용어가 더 높은 가중치(중요도)를 갖도록 하려는 경우 해당 용어를 포함하는 몇 가지 발언을 데이터에 추가할 수 있습니다. 

언어 데이터에 대한 기본 요구 사항이 다음 표에 요약되어 있습니다.

| 자산 | 값 |
|----------|-------|
| 텍스트 인코딩 | UTF-8 BOM|
| 줄당 발언의 # | 1 |
| 최대 파일 크기 | 1.5GB |
| 설명 | 문자를 다섯 번 이상, 예를 들어 'aaaaa', 반복하지 마십시오.|
| 설명 | [유니코드 문자 표](http://www.utf8-chartable.de/)에는 U+00A1을 넘는 기타 모든 UTF-8 문자 또는 '\t' 같은 특수 문자가 없음|
| 설명 | URI는 URI를 발음하는 고유의 방법이 있기 때문에 거부됩니다.|

텍스트를 가져오면 시스템에서 처리할 수 있도록 텍스트가 정규화됩니다. 그러나 데이터를 업로드하기 _전에_ 사용자가 수행해야 하는 몇몇 중요한 정규화 작업이 있습니다. 언어 데이터를 준비하는 경우 적절한 언어를 결정하려면 [기록 지침](prepare-transcription.md)을 참조합니다.

## <a name="language-support"></a>언어 지원

사용자 지정 **음성을 텍스트로 변환** 언어 모델에 대해 다음 언어가 지원됩니다.

[지원되는 언어](supported-languages.md)의 전체 목록을 보려면 클릭

## <a name="import-the-language-data-set"></a>언어 데이터 집합 가져오기

"언어 데이터 집합" 행에서 "가져오기" 단추를 클릭하면 해당 사이트는 새 데이터 집합을 업로드하기 위한 페이지를 표시합니다.

언어 데이터 집합을 가져올 준비가 되면 [Speech Service 포털](https://customspeech.ai)에 로그인합니다.  그럼 다음, 위쪽 리본에서 "사용자 지정 음성" 드롭 다운 메뉴를 클릭하고 "적응 데이터"를 선택합니다. 처음으로 Speech Service에 데이터를 업로드하는 경우 "데이터 집합" 이라는 빈 테이블이 표시됩니다.

새 데이터 집합을 가져오기 위해 "언어 데이터 집합" 행에서 "가져오기" 단추를 클릭하면 해당 사이트는 새 데이터 집합을 업로드하기 위한 페이지를 표시합니다. 향후에 데이터 집합을 확인할 수 있도록 이름 및 설명을 입력하고 로캘을 선택합니다. 다음으로, "파일 선택" 단추를 사용하여 언어 데이터의 텍스트 파일을 찾습니다. 그 후 "가져오기"를 클릭하면 데이터 집합이 업로드됩니다. 데이터 집합 크기에 따라 가져오는 데 몇 분이 걸릴 수 있습니다.

![다음을 시도해 보세요.](media/stt/speech-language-datasets-import.png)

가져오기가 완료되면 언어 데이터 테이블로 반환되고 언어 데이터 집합에 해당하는 항목이 표시됩니다. 고유 ID(GUID)가 할당되었음에 유의합니다. 데이터에는 또한 현재 상태를 반영하는 상태가 있습니다. 해당 상태는 처리를 위해 큐 대기하는 동안 "대기 상태"이며, 유효성 검사를 통과하는 동안 "처리 상태"이고, 데이터가 사용할 준비가 되면 "완료 상태"에 있게 됩니다. 데이터 유효성 검사는 데이터의 일부 텍스트 정규화 및 파일의 텍스트에 대한 일련의 검사를 수행합니다.

상태가 "완료"이면 "보고서 보기"를 클릭하여 언어 데이터 확인 보고서를 볼 수 있습니다. 확인을 통과하고 실패한 발언 수가 실패한 발언에 대한 세부 정보와 함께 표시됩니다. 아래 예제에서 두 가지 예제가 부적절한 문자 때문에 확인에 실패했습니다.(이 데이터 집합에서 첫 번째 줄에는 두 개의 TAB 문자가 있고 두 번째 줄에는 ASCII 인쇄 가능한 문자 집합 외의 여러 문자가 있는 반면 세 번째 줄은 비어 있습니다.)

![다음을 시도해 보세요.](media/stt/speech-language-datasets-report.png)

언어 데이터 집합의 상태가 "완료"이면 사용자 지정 언어 모델을 만드는 데 사용될 수 있습니다.

![다음을 시도해 보세요.](media/stt/speech-language-datasets.png)

## <a name="create-a-custom-language-model"></a>사용자 지정 언어 모델 만들기

언어 데이터가 준비되면 드롭 다운 “메뉴”에서 “언어 모델”을 클릭하여 사용자 지정 언어 모델 만들기 프로세스를 시작합니다. 이 페이지에는 현재 사용자 지정 언어 모델이 포함된 "Language Model"이라는 테이블이 포함됩니다. 어떤 사용자 지정 언어 모델도 아직 만들지 못한 경우 테이블은 비어있게 됩니다. 현재 로캘은 관련 데이터 항목 옆에 있는 테이블에 표시됩니다.

작업을 수행하기 전에 적절한 로캘을 선택해야 합니다. 현재 로캘은 모든 데이터, 모델 및 배포 페이지의 표 제목에 표시됩니다. 로캘을 변경하려면 표 제목 아래에 있는 “로캘 변경” 단추를 클릭합니다. 그러면 로캘 확인 페이지로 이동합니다. “확인”을 클릭하여 표로 돌아갑니다.

"Language Model 만들기" 페이지에 사용된 데이터 집합 같은 이 모델에 대한 관련 정보를 계속 추적할 수 있도록 "이름" 및 "설명"을 입력합니다. 다음으로, 드롭 다운 메뉴에서 "기본 Language Model"을 선택합니다. 이 모델은 사용자 지정에 대한 시작점이 됩니다. 선택할 두 가지 기본 언어 모델이 있습니다. 검색 및 받아쓰기 모델은 명령, 검색 쿼리 또는 받아쓰기 같은 응용 프로그램의 지시 음성에 적합합니다. 대화형 모델은 대화 스타일로 통용되는 음성을 인식하는 데 적합합니다. 이런 유형의 음성은 일반적으로 다른 사람을 대상으로 지시하며 콜센터나 회의에서 사용됩니다. "범용"이라는 새 모델도 공개적으로 지원됩니다. 범용은 모든 시나리오에 대응하고 결국 검색과 받아쓰기 및 대화형 모델을 대체합니다.

5.  아래 예제에서 기본 언어 모델을 지정한 후 "언어 데이터" 드롭다운 메뉴를 사용하여 사용자 지정에 사용하려는 언어 데이터 집합을 선택합니다.

![다음을 시도해 보세요.](media/stt/speech-language-models-create2.png)

음향 모델 만들기와 마찬가지로 처리가 완료되면 새 모델의 오프라인 테스트 수행을 필요에 따라 선택할 수 있습니다. 모델 평가에는 어쿠스틱 데이터 집합이 필요합니다.

언어 모델의 오프라인 테스트를 수행하려면 "오프라인 테스트" 옆에 있는 확인란을 선택합니다. 그런 다음, 드롭다운 메뉴에서 음향 모델을 선택합니다. 사용자 지정 음향 모델을 만들지 못한 경우 Microsoft 기본 음향 모델이 메뉴에서 유일한 모델이 됩니다. 대화형 LM 기본 모델을 선택한 경우 여기에서 대화형 AM를 사용해야 합니다. 검색 및 받아쓰기 LM 모델을 사용하는 경우 검색 및 받아쓰기 AM 모델을 선택해야 합니다.

마지막으로 평가 수행에 사용하려는 음향 데이터 집합을 선택합니다.

처리를 시작할 준비가 되었다면 "만들기"를 누릅니다. 그러면 언어 모델의 표로 이동합니다. 테이블에 이 모델에 해당하는 새 항목이 있게 됩니다. 상태는 모델의 상태를 반영하고 "대기", "처리" 및 "완료" 등 여러 상태를 거치게 됩니다.

모델이 "완료" 상태에 도달하면 모델을 엔드포인트에 배포할 수 있습니다. "보기 결과"를 클릭하면 수행된 경우 오프라인 테스트 결과가 표시됩니다.

특정 시점에 모델의 “이름” 또는 “설명”을 변경하려면 언어 모델 테이블의 해당 행에 있는 "편집" 링크를 사용할 수 있습니다.

## <a name="next-steps"></a>다음 단계

- [Speech 평가판 구독 가져오기](https://azure.microsoft.com/try/cognitive-services/)
- [C#에서 음성을 인식하는 방법](quickstart-csharp-dotnet-windows.md)
- [Git 샘플 데이터](https://github.com/Microsoft/Cognitive-Custom-Speech-Service)
