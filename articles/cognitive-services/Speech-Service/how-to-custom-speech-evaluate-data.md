---
title: Custom Speech 정확도 평가 및 개선-음성 서비스
titleSuffix: Azure Cognitive Services
description: 이 문서에서는 음성 텍스트 모델 또는 사용자 지정 모델의 품질을 quantitatively 측정 하 고 개선 하는 방법에 대해 알아봅니다. 정확도를 테스트 하려면 오디오 + 사람 레이블이 지정 된 기록 데이터가 필요 하며, 대표 오디오는 30 분에서 5 시간으로 제공 되어야 합니다.
services: cognitive-services
author: trevorbye
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 02/12/2021
ms.author: trbye
ms.openlocfilehash: b7e4ea586098ea3eb0dfd684650f798d7988e18b
ms.sourcegitcommit: 58ff80474cd8b3b30b0e29be78b8bf559ab0caa1
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/17/2021
ms.locfileid: "100634586"
---
# <a name="evaluate-and-improve-custom-speech-accuracy"></a>Custom Speech 정확도 평가 및 개선

이 문서에서는 Microsoft의 음성-텍스트 모델 또는 고유한 사용자 지정 모델의 정확도를 quantitatively 측정 하 고 개선 하는 방법에 대해 알아봅니다. 정확도를 테스트 하려면 오디오 + 사람 레이블이 지정 된 기록 데이터가 필요 하며, 대표 오디오는 30 분에서 5 시간으로 제공 되어야 합니다.

## <a name="evaluate-custom-speech-accuracy"></a>Custom Speech 정확도 평가

모델 정확도를 측정 하는 산업 표준은 WER ( [단어 오류 요금](https://en.wikipedia.org/wiki/Word_error_rate) )입니다. WER은 인식 중에 식별 된 잘못 된 단어 수를 계산 하 고, 사람이 레이블 지정 된 성적 증명서에 제공 된 총 단어 수로 나눕니다 (아래에 N 표시). 마지막으로,이 숫자에는 WER를 계산 하기 위해 100%가 곱해집니다.

![WER 수식](./media/custom-speech/custom-speech-wer-formula.png)

잘못 식별 된 단어는 다음과 같은 세 가지 범주로 분류 됩니다.

* 삽입 (I): 가설 성적 증명서에 잘못 추가 된 단어
* 삭제 (D): 가설 성적 증명서에서 감지 되지 않은 단어
* 대체 (S): 참조와 가설 사이에서 대체 된 단어입니다.

예를 들면 다음과 같습니다.

![잘못 식별 된 단어의 예](./media/custom-speech/custom-speech-dis-words.png)

로컬에서 WER 측정을 복제 하려면 [SCTK](https://github.com/usnistgov/SCTK)의 sclite를 사용할 수 있습니다.

## <a name="resolve-errors-and-improve-wer"></a>오류 해결 및 WER 향상

컴퓨터 인식 결과에서 WER를 사용 하 여 앱, 도구 또는 제품에서 사용 하는 모델의 품질을 평가할 수 있습니다. 5%-10%의 WER은 좋은 품질로 간주 되 고 사용할 준비가 된 것으로 간주 됩니다. WER의 20%가 허용 되지만 추가 교육을 고려해 야 할 수 있습니다. WER이 30% 이상인 경우 품질이 저하 되며 사용자 지정 및 교육이 필요 합니다.

오류가 어떻게 배포 되는지는 중요 합니다. 많은 삭제 오류가 발생 한 경우 일반적으로 약한 오디오 신호 강도로 인 한 것입니다. 이 문제를 해결 하려면 오디오 데이터를 원본에 더 가깝게 수집 해야 합니다. 삽입 오류는 오디오가 소음 환경에 기록 되 고 crosstalk 있을 수 있으므로 인식 문제가 발생 했음을 의미 합니다. 대체 오류는 도메인별 용어에 대 한 충분 한 샘플이 사람이 레이블이 지정 된 텍스트 또는 관련 텍스트로 제공 되지 않은 경우에 종종 발생 합니다.

개별 파일을 분석 하 여 존재 하는 오류 유형과 특정 파일에 고유한 오류를 확인할 수 있습니다. 파일 수준에서 문제를 이해 하면 향상 된 기능을 대상으로 할 수 있습니다.

## <a name="create-a-test"></a>테스트 만들기

Microsoft의 음성 텍스트 기준선 모델 또는 학습 된 사용자 지정 모델의 품질을 테스트 하려는 경우 두 모델을 나란히 비교 하 여 정확도를 평가할 수 있습니다. 이 비교에는 WER 및 인식 결과가 포함 됩니다. 일반적으로 사용자 지정 모델은 Microsoft의 기본 모델과 비교 됩니다.

모델을 나란히 평가 하려면:

1. [Custom Speech 포털](https://speech.microsoft.com/customspeech)에 로그인 합니다.
2. **음성 텍스트 > Custom Speech > [프로젝트 이름] > 테스트** 로 이동 합니다.
3. **테스트 추가** 를 클릭 합니다.
4. **정확도 평가** 를 선택 합니다. 테스트 이름, 설명을 지정 하 고 오디오 + 사람 레이블이 지정 된 기록 데이터 집합을 선택 합니다.
5. 테스트 하려는 최대 2 개의 모델을 선택 합니다.
6. **만들기** 를 클릭합니다.

테스트를 성공적으로 만든 후 결과를 나란히 비교할 수 있습니다.

### <a name="side-by-side-comparison"></a>병렬 비교

테스트가 완료 되 면 상태가 *성공* 으로 변경 되 면 테스트에 포함 된 두 모델 모두에 대해 WER 숫자가 표시 됩니다. 테스트 이름을 클릭 하 여 테스트 세부 정보 페이지를 표시 합니다. 이 세부 정보 페이지에는 데이터 집합의 모든 길이 발언 나열 되며 제출 된 데이터 집합의 기록을 함께 두 모델의 인식 결과를 나타냅니다. 병렬 비교를 검사 하기 위해 삽입, 삭제 및 대체를 비롯 한 다양 한 오류 유형을 전환할 수 있습니다. 오디오를 수신 하 고 두 개의 음성-텍스트 모델에 대 한 결과와 사람이 레이블이 지정 된 기록을 보여 주는 각 열에서 인식 결과를 비교 하 여 요구 사항을 충족 하는 모델과 추가 학습 및 향상이 필요한 모델을 결정할 수 있습니다.

## <a name="improve-custom-speech-accuracy"></a>Custom Speech 정확도 개선

음성 인식 시나리오는 오디오 품질 및 언어 (어휘 및 말하는 스타일)에 따라 달라 집니다. 다음 표에서는 네 가지 일반적인 시나리오를 살펴봅니다.

| 시나리오 | 오디오 품질 | 어휘 | 말하기 스타일 |
|----------|---------------|------------|----------------|
| 콜 센터 | 낮음, 8Khz, 1 개의 오디오 채널에서 2 사람이 될 수 있습니다. 압축 될 수 있습니다. | 좁게, 도메인 및 제품에 고유 | 느슨하게 구조화 된 대화형 |
| 음성 도우미 (예: Cortana 또는 드라이브를 통한 창) | 높음, 16Khz | 엔터티 많은 (노래 제목, 제품, 위치) | 명확 하 게 명시 된 단어 및 구 |
| 받아쓰기 (인스턴트 메시지, 메모, 검색) | 높음, 16Khz | 다릅니다 | 참고-가져오기 |
| 비디오 폐쇄 캡션 | 다양 한 마이크 사용, 추가 된 음악을 비롯 한 다양 한 변화 | 다양 하 고, 회의에서 recited 음성, 음악 가사 | 읽기, 준비 또는 느슨하게 구조화 |

시나리오 마다 다른 품질 결과가 생성 됩니다. 다음 표에서는 이러한 네 가지 시나리오의 콘텐츠가 [WER (단어 오류 요금)](how-to-custom-speech-evaluate-data.md)에서 어떻게 진행 되 고 있는지를 검사 합니다. 표에는 각 시나리오에서 가장 일반적으로 발생 하는 오류 유형이 나와 있습니다.

| 시나리오 | 음성 인식 품질 | 삽입 오류 | 삭제 오류 | 대체 오류 |
|----------|----------------------------|------------------|-----------------|---------------------|
| 콜 센터 | 보통 (< 30% WER) | 낮음 (다른 사람이 배경에서 말하는 경우 제외) | 높을 수 있습니다. 콜 센터는 잡음이 있을 수 있으며 겹치는 스피커가 모델을 혼동할 수 있습니다. | 중간. 제품 및 사람의 이름을 통해 이러한 오류가 발생할 수 있습니다. |
| 음성 도우미 | 높음 (< 10% WER) | 낮음 | 낮음 | 중간, 곡 제목, 제품 이름 또는 위치로 인해 |
| 받아쓰기 | 높음 (< 10% WER) | 낮음 | 낮음 | 높음 |
| 비디오 폐쇄 캡션 | 비디오 유형에 따라 달라 집니다 (50% WER < 가능). | 낮음 | 음악, 소음, 마이크 품질으로 인해 높을 수 있습니다. | 전문 용어로 이러한 오류가 발생할 수 있음 |

WER의 구성 요소 (삽입, 삭제 및 대체 오류 수)를 확인 하면 모델 개선을 위해 추가할 데이터의 종류를 결정 하는 데 도움이 됩니다. [Custom Speech 포털](https://speech.microsoft.com/customspeech) 을 사용 하 여 기준 모델의 품질을 확인할 수 있습니다. 이 포털은 WER 품질 비율로 결합 된 삽입, 대체 및 삭제 오류 비율을 보고 합니다.

## <a name="improve-model-recognition"></a>모델 인식 향상

[Custom Speech 포털](https://speech.microsoft.com/customspeech)에서 학습 데이터를 추가 하 여 인식 오류를 줄일 수 있습니다. 

정기적으로 원본 자료를 추가 하 여 사용자 지정 모델 유지 관리를 계획 합니다. 사용자 지정 모델은 엔터티에 대 한 변경 내용을 계속 인식 하려면 추가 교육이 필요 합니다. 예를 들어 제품 이름, 곡 이름 또는 새 서비스 위치에 대 한 업데이트가 필요할 수 있습니다.

다음 섹션에서는 각 종류의 추가 학습 데이터에서 오류를 줄일 수 있는 방법을 설명 합니다.

### <a name="add-related-text-sentences"></a>관련 텍스트 문장 추가

새 사용자 지정 모델을 학습 하는 경우 도메인 특정 단어와 구의 인식 기능을 향상 시키기 위해 관련 텍스트를 추가 하는 것부터 시작 합니다. 관련 텍스트 문장은 주로 일반적인 단어와 도메인별 단어를 컨텍스트에 표시 하 여 잘못 인식 하는 것과 관련 된 대체 오류를 줄일 수 있습니다. 도메인별 단어는 일반적이 지 않은 단어 일 수도 있지만 발음이 명확 하 게 인식 해야 합니다.

> [!NOTE]
> 문자 또는 단어를 인식할 필요가 없는 것과 같은 노이즈를 포함 하는 관련 텍스트 문장을 사용 하지 마십시오.

### <a name="add-audio-with-human-labeled-transcripts"></a>사람이 레이블이 지정 된 성적 증명서로 오디오 추가

사람이 레이블 지정 된 기록이 있는 오디오는 오디오를 대상 사용 사례에서 가져온 경우 가장 큰 정확도를 제공 합니다. 샘플은 전체 음성 범위를 포함 해야 합니다. 예를 들어 소매 스토어에 대 한 콜 센터는 일광 절약 월에 swimwear 및 선글라스에 대 한 대부분의 전화를 받습니다. 샘플에 검색 하려는 모든 음성 범위가 포함 되어 있는지 확인 합니다.

다음 정보를 고려 하세요.

* 오디오를 사용한 교육은 오디오를 이해 하기 어려운 경우 가장 많은 이점을 제공 합니다. 대부분의 경우 관련 텍스트를 사용 하 여 학습을 시작 해야 합니다.
* 미국 영어와 같이 가장 많이 사용 되는 언어 중 하나를 사용 하는 경우 오디오 데이터를 트레인 하지 않아도 되는 것이 좋습니다. 이러한 언어의 경우 대부분의 시나리오에서 기본 모델은 이미 매우 좋은 인식 결과를 제공 합니다. 관련 텍스트로 학습 하기에 충분 한 것일 수 있습니다.
* Custom Speech는 단어 컨텍스트에서만 캡처 하 여 삽입 또는 삭제 오류가 발생 하는 것을 줄일 수 있습니다.
* 기록 오류가 포함 된 샘플을 사용 하지 말고 오디오 품질의 다양성을 포함 합니다.
* 문제 도메인과 관련이 없는 문장을 사용 하지 마십시오. 관련이 없는 문장은 모델을 손상 시킬 수 있습니다.
* 성적 증명서가 변경 되는 경우 매우 좋은 문장 (예: 키 구를 포함 하는 고급 문구)을 복제 하 여 가중치를 늘릴 수 있습니다.
* 음성 서비스는 관련 텍스트로 추가 된 것 처럼 도메인 특정 단어와 구의 인식 기능을 개선 하기 위해 자동으로 성적 증명서를 사용 합니다.
* 학습 작업을 완료 하는 데 몇 일이 걸릴 수 있습니다. 학습 속도를 높이려면 교육용 [전용 하드웨어가 있는 지역](custom-speech-overview.md#set-up-your-azure-account) 에서 음성 서비스 구독을 만들어야 합니다.

> [!NOTE]
> 모든 기본 모델에서 오디오로의 학습을 지원 하지는 않습니다. 기본 모델이 지원 하지 않는 경우 음성 서비스는 성적 증명서의 텍스트만 사용 하 고 오디오는 무시 합니다. 오디오 데이터로 학습을 지 원하는 기본 모델 목록은 [언어 지원](language-support.md#speech-to-text) 을 참조 하세요. 기본 모델이 오디오 데이터로 학습을 지 원하는 경우에도 서비스는 오디오의 일부만 사용할 수 있습니다. 그래도 모든 성적 증명서를 사용 합니다.

> [!NOTE]
> 학습에 사용 되는 기본 모델을 변경 하 고 학습 데이터 집합에 오디오가 있는 경우 선택한 새 기본 모델에서 [오디오 데이터로 학습을 지원](language-support.md#speech-to-text)하는지 *항상* 확인 합니다. 이전에 사용 된 기본 모델에서 오디오 데이터에 대 한 학습을 지원 하지 않고 학습 데이터 집합에 오디오가 포함 된 경우 새 기본 모델의 학습 시간이 **크게** 증가 하 고 몇 시간에서 며칠 이상으로 쉽게 이동할 수 있습니다. 음성 서비스 구독이 교육용 [전용 하드웨어가 있는 지역](custom-speech-overview.md#set-up-your-azure-account) 에 **있지 않은** 경우에 특히 그렇습니다.
>
> 위의 단락에 설명 된 문제를 직면 하는 경우 데이터 집합의 오디오 양을 줄이거나 텍스트를 완전히 제거 하 여 학습 시간을 빠르게 줄일 수 있습니다. 두 번째 옵션은 음성 서비스 구독이 교육용 [전용 하드웨어가 있는 지역](custom-speech-overview.md#set-up-your-azure-account) 에 **있지 않은** 경우에 매우 권장 됩니다.

### <a name="add-new-words-with-pronunciation"></a>발음이 있는 새 단어 추가

구성 된 단어 또는 매우 특수화 된 단어에는 고유한 발음 있을 수 있습니다. 이러한 단어는 단어를 더 작은 단어로 분할 하 여 발음 시킬 수 있는 경우 인식 될 수 있습니다. 예를 들어 **Xbox** 를 인식할 때 **X 상자로** 발음을 인식 합니다. 이 방법은 전체 정확도를 늘리지는 않지만 이러한 키워드의 인식을 향상 시킬 수 있습니다.

> [!NOTE]
> 이 기술은 현재 일부 언어에 대해서만 사용할 수 있습니다. 자세한 내용은 [음성 텍스트 테이블](language-support.md) 에서 발음에 대 한 사용자 지정을 참조 하세요.

## <a name="sources-by-scenario"></a>시나리오 별 소스

다음 표에서는 음성 인식 시나리오를 보여주고 위에 나열 된 세 가지 학습 콘텐츠 범주 내에서 고려할 원본 자료를 나열 합니다.

| 시나리오 | 관련 텍스트 문장 | 오디오 + 사람이 레이블 지정 된 성적 증명서 | 발음이 있는 새 단어 |
|----------|------------------------|------------------------------|------------------------------|
| 콜 센터             | 마케팅 문서, 웹 사이트, 콜 센터 작업과 관련 된 제품 리뷰 | 전화 센터에서 transcribed를 호출 합니다. | 모호한 발음 있는 용어 (위의 Xbox 참조) |
| 음성 도우미         | 모든 명령 및 엔터티 조합을 사용 하 여 문장 나열 | 음성 말하기 명령을 장치에 기록 하 고 텍스트에 높여줄 | 고유 발음 있는 이름 (영화, 곡, 제품) |
| 받아쓰기               | 인스턴트 메시지 또는 메일과 같은 필기 입력 | 위와 유사 | 위와 유사 |
| 비디오 폐쇄 캡션 | TV 쇼 스크립트, 영화, 마케팅 콘텐츠, 비디오 요약 | 비디오의 정확한 기록을 | 위와 유사 |

## <a name="next-steps"></a>다음 단계

* [모델 학습 및 배포](how-to-custom-speech-train-model.md)

## <a name="additional-resources"></a>추가 자료

* [데이터 준비 및 테스트](./how-to-custom-speech-test-and-train.md)
* [데이터 검사](how-to-custom-speech-inspect-data.md)