<properties 
    pageTitle="Azure SQL 데이터베이스 탄력적 데이터베이스 도구" 
    description="탄력적 데이터베이스 도구를 사용하여 클라우드에서 데이터베이스 리소스를 쉽게 확장할 수 있습니다." 
    services="sql-database" 
    documentationCenter="" 
    manager="jeffreyg" 
    authors="sidneyh" 
    editor=""/>

<tags 
    ms.service="sql-database" 
    ms.workload="sql-database" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="04/24/2015" 
    ms.author="sidneyh"/>

# Azure SQL 데이터베이스 탄력적 데이터베이스 도구

## 약속 및 도전 과제

Azure SQL 데이터베이스는 트랜잭션 작업에 대한 탄력성뿐 아니라 거의 제한없는 데이터베이스 리소스를 제공합니다. **탄력적 데이터베이스 클라이언트 라이브러리** 및 **탄력적 데이터베이스 도구**로 같이 알려진 **분할-병합도구**같은 기능들은 이 작업들을 수월하게 만들어줍니다. 이러한 구성 요소는 이 문서에서 설명한 분할된 데이터베이스 솔루션 개발 및 관리를 간소화 하도록 설계되었습니다.

탄력성 및 클라우드 응용 프로그램의 확장이 계산과 blob저장소에 의해 간소화되는 동안,관계형 데이터베이스의 상태저장 데이터들이 과제로 남았습니다. 이러한 과제는 다음 두 시나리오에서 가장 눈에 띄게 등장합니다.

* 작업의 관계형 데이터베이스에 대한 용량 확장 및 축소
* 데이터의 특정하위집합에 영향을 발생시킬 수 있는 핫스팟 관리 - 예: 특히 바쁜 최종 고객(테넌트)

일반적으로 이러한 시나리오는 응용 프로그램을 지원하기 위해 대규모 데이터베이스를 서버에 투자하여 해결 되었습니다. 그러나 이 옵션은 미리 정의된 상용 하드웨어에서 모든 처리가 이루어지는 클라우드에서는 제한됩니다. 대신에, 데이터 배포 및 많은 동일한 구조의 데이터베이스간의 처리(Sharding이라고 알려진 확장패턴)은 비용 및 탄력성 측면에서 기존 확장 접근 방식에 대한 탁월한 대안입니다.

Azure SQL 데이터베이스의 탄력적 데이터베이스는 보다 간단하고 유연하게 확장시켜줍니다. 서비스 응용 프로그램으로 소프트웨어를 개발하는 경우, **탄력적 데이터베이스 풀**은 최종고객 혹은 테넌트 개별의 데이터베이스 생성을 쉽게 만들어 주며 개별 데이터베이스를 예측 가능한 예산으로 유지하면서 자동적으로 리소스 공간을 동적으로 늘리거나 축소하는 것을 허용합니다. **탄력적 데이터베이스 작업**은 스키마 변경을 수행하는 T-SQL 스크립트를 실행하여 데이터베이스의 전체집합 간의 확장 관리작업 및 자격증명 관리 혹은 선택한 기타 데이터베이스 유지관리작업을 안정적으로 실행하게 해줍니다. 탄력적 데이터베이스 작업에 대한 자세한 내용은 [탄력적 데이터베이스 작업 개요](sql-database-elastic-jobs-overview.md)를 참조하세요.

각 테넌트에 대한 별도 데이터베이스를 사용하거나 혹은 각 데이터베이스의 컬렉션에 여러 범위의 데이터를 압축하거나, 탄력적 데이터베이스 클라이언트 라이브러리 및 분할/병합 도구는 분할 기능을 활용하는 응용 프로그램의 빌드 및 관리 노력을 줄입니다. 문서 데이터 레이아웃에 올바른 위치에 대한 경로 연결 및 데이터베이스에 걸쳐 코드를 작성하는 대신 클라이언트 라이브러리를 사용 하면 응용 프로그램의 비즈니스 논리에 집중할 수 있습니다.

## 수평 및 수직적 크기 조정
아래 그림에서는 조정의 가로 및 세로 크기를 보여줍니다.
 
![수평 규모 확장과 수직 규모 확장 비교4][4]

용량이나 전체적인 성능을 조절 하기 위해 데이터베이스를 추가하거나 제거 하려면 수평적 확장을 참조합니다. 여기서는 자주 “scailing out "이라고 합니다. 분할은 동일한 구조 데이터베이스 컬렉션간의 분할된 데이터의 수평적 확장을 위한 일반적인 방법입니다.

개별 데이터베이스 성능 수준을 증가시키거나 감소하려면 수직적 확장을 참조하십시오 - “Scaling up”이라고도 합니다.

대부분의 클라우드 규모 데이터베이스 응용 프로그램에 이러한 두 전략의 조합을 사용 합니다. 예를 들어, 서비스 응용 프로그램 같은 소프트웨어는 새로운 최종고객을 프로비젼하기 위해 수평적 확장을 사용할 것이고, 워크로드의 필요에 의해 개별 최종 고객의 데이터베이스 리소스를 늘리거나 줄이기 위해 수직적 확장을 사용할 것입니다.

탄력적 데이터베이스 도구는 수평적인 확장 인프라 분할-처리에 의존하는 응용 프로그램 구축을 간소화합니다. 그리고 데이터베이스 패밀리의 탄력적 데이터베이스 풀을 사용하여, 수직적 확장은 시스템에 의해 자동적으로 처리됩니다. 사용자는 풀과 함께 시스템 전체의 제한 설정과 허용하고 싶은 데이터베이스의 범위를 책임집니다. 또한 탄력적 데이터베이스 풀에 제외된 데이터베이스 버전 또는 리소스 수준을 수동으로 변경 할 수 있습니다. 월말에 대량으로 유입되는 데이터를 처리하기 위해 새 분할된 데이터베이스를 만드는 경우를 예로 들 수 있습니다. 분할된 데이터베이스는 새 데이터가 수신되면 확장되며 데이터의 양이 감소하면 다시 축소됩니다.

탄력적 데이터베이스 풀에 대한 자세한 내용은 [탄력적 데이터베이스 풀 개요](sql-database-elastic-pool.md)를 참조하세요.

## 탄력적 데이터베이스 도구 기능 

분할을 사용한 확장 응용 프로그램 개발, 확장 및 관리는 개발자뿐 아니라 관리자에게도 과제를 제공합니다. 탄력적 데이터베이스 도구는 이 두개의 기능으로 삶을 더욱 쉽게 만들어 줍니다. 개요 아래의 숫자는 탄력적 데이터베이스 클라이언트 라이브러리와 분할-병합 도구를 사용해 주요기능을 배달합니다. 그림은 많은 데이터베이스 환경, 그리고 각각의 데이터베이스는 분할된 데이터베이스를 해당하는 것 을 보여줍니다. 도구는 다음과 같은 특정 기능을 통해 보다 쉽게 분할 된 데이터베이스 Azure SQL DB 응용 프로그램 개발을 확인합니다.

여기에 사용되는 용어의 정의는[탄력적 데이터베이스 도구 용어집](sql-database-elastic-scale-glossary.md)을 참조하세요.

![탄력적인 확장 기능][1]

1.  **Shard Map Management**: 분할된 데이터베이스 맵 관리는 분할된 데이터베이스에 대한 다양한 메타데이터를 관리하는 응용 프로그램의 기능입니다. 분할된 데이터베이스 맵 관리는 탄력적 데이터베이스 클라이언트 라이브러리의 기능입니다. 개발자는 이 기능을 사용하여 데이터베이스를 분할된 데이터베이스처럼 등록하고, 개별 분할 키 또는 키 값 범위의 데이터베이스들 매핑을 설명하고, 숫자와 데이터베이스 조합이 용량 변경 내용을 반영하여 수정될 때 이 메타데이터를 유지 관리합니다. 분할된 데이터베이스 맵 관리는 고객이 직접 분할을 구현할 때 응용 프로그램에서 작성해야 하는 보일러 플레이트 코드의 상당 부분을 구성합니다. 자세한 내용은 분할된 [데이터베이스](sql-database-elastic-scale-shard-map-management.md) 맵 관리를 참조하세요.
 
* **Data dependent routing**: 응용 프로그램에 들어오는 요청이 있다고 가정하겠습니다. 요청의 분할 키 값에 따라 응용 프로그램에서 이 키 값에 대한 데이터가 저장된 올바른 데이터베이스를 확인한 다음, 이것에 대한 연결을 열어서 요청을 처리해야 합니다. 데이터 종속 라우팅은 응용 프로그램의 분할된 데이터베이스 맵에 대한 간편한 단일 호출 을 사용하여 연결을 열 수 있는 기능을 제공합니다. 데이터 종속 라우팅은 지금은 탄력적 데이터베이스 클라이언트 라이브러리의 기능에서 담당하는 인프라 코드의 다른 영역이었습니다. 자세한 내용은 [데이터 종속 라우팅](sql-database-elastic-scale-data-dependent-routing.md)을 참조하세요.

* **Multi-shard queries (MSQ)**: 분할된 다중 데이터베이스 쿼리 요청은 한 요청이 여러(또는 모든) 분할된 데이터베이스와 관련된 경우 작동합니다. 다중 분할된 데이터베이스 쿼리는 모든 분할된 데이터베이스 또는 분할된 데이터베이스 집합에서 동일한 T-SQL 코드를 실행합니다. 참여하는 분할된 데이터베이스의 결과는 UNION ALL 의미 체계를 사용하는 전반적인 결과 집합으로 병합됩니다. 이 기능은 클라이언트 라이브러리를 통해 표시되며 연결 관리, 스레드 관리, 오류 처리, 중간 결과 처리 등의 여러 작업을 처리합니다. MSQ는 수백 개까지 분할된 데이터베이스를 쿼리할 수 있습니다. 자세한 내용은 [다중 분할된 데이터베이스 쿼리](sql-database-elastic-scale-multishard-querying.md)를 참조하세요.


* **분할 병합 도구**: shardlet(tenant)의 탄력적 데이터베이스 풀 내에서 할당된 별도 데이터베이스 모델을 사용하지 않도록 선택한 경우, 업무량에 따라 용량을 변경해야 할 경우 응용 프로그램은 데이터베이스간의 데이터를 유연하게 재배포해야 합니다. 탄력적 데이터베이스 도구는 데이터 분포 균형 조정하는 고객 호스팅 분할-병합 도구를 포함하고 데이터 이동이 포함되는 상황 내에서 분할된 데이터베이스 응용 프로그램의 핫스팟을 관리합니다. 필요에 따라 여러 데이터베이스 간에 shardlet을 이동하는 기본 기능을 기반으로 하며, 분할된 데이터베이스 맵 관리에 통합되어 일관된 매핑 및 정확한 데이터 종속 라우팅 연결을 유지합니다. 자세한 내용은 [탄력적 데이터베이스 도구를 사용하는 분할 및 병합을 참조](sql-database-elastic-scale-overview-split-and-merge.md)하세요.

일반적으로, 고객의 탄력적 데이터베이스 도구 사용은 고유한 의미 체계를 가진 분할된 데이터베이스 간 작업과 반대로 분할된 데이터베이스 로컬 작업을 제출할 때 전체 T-SQL 기능을 가져올 수 있습니다.

## 일반적인 분할 패턴

**분할**이란 동일하게 구조화된 대량의 데이터를 여러 독립적인 데이터베이스에 분산하는 기술입니다. 특히 최종 고객 또는 비즈니스에 대한 SAAS(Software as a Service) 제품으로 소프트웨어를 만드는 클라우드 개발자가 이 기법을 많이 사용합니다. 이러한 최종 고객을 보통 "테넌트"라고 합니다. 분할은 다음과 같은 여러 가지 이유로 필요할 수 있습니다.

* 총 데이터 양이 너무 커서 단일 데이터베이스의 제약 조건에 맞지 않습니다. 
* 전반적인 작업의 트랜잭션 처리량이 단일 데이터베이스의 기능을 초과합니다. 
* 테넌트는 물리적으로 서로 격리되어야 할 수 있으므로 각 테넌트에는 별도의 데이터베이스가 필요합니다. 
* 데이터베이스의 다양한 섹션이 규정 준수, 성능 또는 지정학적인 이유로 여러 지역에 상주해야 할 수 있습니다. 

분산된 장치에서 데이터 수집과 같은 다른 시나리오에서는 분할을 사용하여 일시적으로 구성된 데이터베이스 집합을 채울 수 있습니다. 예를 들어, 매일 또는 주별로 별도의 데이터베이스를 전용할 수 있습니다. 이 경우 분할 키는 날짜를 나타내는 정수(분할된 테이블의 모든 행에 있음)일 수 있으며, 응용 프로그램에서 해당하는 범위를 포함하는 데이터베이스의 하위 집합으로 날짜 범위에 대한 정보를 검색하는 쿼리를 라우팅해야 합니다.
 
분할은 응용 프로그램의 모든 트랜잭션이 분할 키의 단일 값으로 제한될 수 있는 경우에 가장 적합합니다. 그렇게 하면 모든 트랜잭션이 특정 데이터베이스에 로컬이 됩니다.

일부 응용 프로그램은 각 테넌트에 대해 별도의 데이터베이스를 만드는 가장 간단한 접근 방식을 사용합니다. 이 방식은 테넌트 단위에서 격리, 백업/복원 기능 및 리소스 확장 기능을 제공하는 **단일 테넌트 분할 패턴**입니다. 단일 테넌트 분할을 사용하면 각 데이터베이스가 특정 테넌트 ID 값(또는 고객의 키 값)과 연결되지만 해당 키가 데이터 자체에 존재하지 않아도 됩니다. 각 요청을 적절한 데이터베이스에 라우팅하는 것은 응용 프로그램의 책임이고- 탄력적 데이터베이스 클라이언트 라이브러리는 이것을 단순하게 해줍니다.

![다중 테넌트 대 단일 테넌트][3]

다른 시나리오에서는 여러 테넌트를 개별 데이터베이스로 격리하지 않고 함께 데이터베이스에 포함합니다. 이 방식은 일반적인 **다중 테넌트 분할 패턴**이며, 응용 프로그램이 매우 작은 테넌트 여러 개를 관리하는 경우 적용될 수 있습니다. 다중 테넌트 분할에서 데이터베이스 테이블의 행은 모두 테넌트 ID 또는 키 분할을 식별하는 키 ID를 제공하도록 설계되었습니다. 또한 응용 프로그램 계층이 적합한 데이터베이스로 테넌트의 요청을 라우팅하고 탄력적 데이터베이스 클라이언트 라이브러리가 보조할 수 있습니다. .또한, 행 수준 보안은 행 각각의 세부정보에 액세스 할 수 있는 필터에 사용됩니다, 자세한 내용은 [탄력적 데이터베이스 도구 및 행 수준 보안을 제공하는 다중 테넌트 응용 프로그램](sql-database-elastic-tools-multi-tenant-row-level-security.md)을 참조하세요. 데이터베이스 간 데이터 재배포는 다중 테넌트 분할 패턴을 필요로 할 수 있고, 탄력적 데이터베이스 분할 병합 도구는 이 작업을 수월하게 만들어줍니다.

[AZURE.INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

<!--Anchors-->
<!--Image references-->
[1]: ./media/sql-database-elastic-scale-introduction/overview.png
[2]: ./media/sql-database-elastic-scale-intro/tenancy.png
[3]: ./media/sql-database-elastic-scale-introduction/single_v_multi_tenant.png
[4]: ./media/sql-database-elastic-scale-introduction/h_versus_vert.png
 

<!---HONumber=July15_HO4-->