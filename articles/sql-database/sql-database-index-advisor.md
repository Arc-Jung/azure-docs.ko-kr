<properties 
   pageTitle="Azure SQL 데이터베이스 인덱스 관리자" 
   description="Azure SQL 데이터베이스 인덱스 관리자는 현재 쿼리 성능을 향상 시킬 수 있는 기존 SQL 데이터베이스에 대한 새 인덱스를 권장 합니다." 
   services="sql-database" 
   documentationCenter="" 
   authors="stevestein" 
   manager="jeffreyg" 
   editor="monicar"/>

<tags
   ms.service="sql-database"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="data-management" 
   ms.date="12/01/2015"
   ms.author="sstein"/>

# SQL 데이터베이스 인덱스 관리자

Azure SQL 데이터베이스 인덱스 관리자는 현재 쿼리 성능을 향상 시킬 수 있는 기존 SQL 데이터베이스에 대한 새 인덱스를 권장 합니다.

SQL 데이터베이스 서비스는 SQL 데이터베이스에 대한 기록 리소스 사용량을 분석 하여 인덱스 성능을 평가 하고 데이터베이스의 일반적인 작업을 실행 하기 위해 가장 적합한 인덱스를 사용하는 것이 좋습니다.

인덱스 advisor는 생성할 인덱스의 권장 사항을 제공하여 인덱스 관리를 더욱 쉽게 만들어줍니다. V12 서버에서는 [Azure 포털](https://portal.azure.com/)내에서 몇 번의 클릭만으로 인덱스 advisor는 인덱스를 만들고 유효성을 검사할 수 있습니다. 인덱스를 만든 후 SQL 데이터베이스 서비스는 데이터베이스 작업의 성능을 분석하고 새 인덱스의 영향에 대한 세부정보를 제공합니다. 권장된 인덱스가 성능에 부정적인 영향을 끼칠 것이라고 분석하는 경우 인덱스는 자동으로 되돌려집니다.

인덱스 관리자를 사용하면 데이터베이스 성능을 튜닝하는 시간이 더 짧습니다.


> [AZURE.NOTE]인덱스 관리자는 현재 미리 보기로 제공 하고 오직 [Azure 포털](https://portal.azure.com/)에서만 사용할 수 있습니다.


## 미리보기 고려 사항

인덱스 관리자는 현재 미리 보기에 다음과 같은 제한 사항이 있습니다.

- 인덱스 권장사항은 V12서버에서만 자동으로 생성되고 유효성 검사를 받습니다(권장사항 및 인덱스 생성 스크립트는 V12 전용입니다.)
- 권장 사항 및 관리는 비클러스터형 인덱스에만 사용할 수 있습니다.

## 필수 조건

보고, 만들 인덱스 권장사항, Azure에서 올바른 [역할 기반 액세스 제어](role-based-access-control-configure.md)허가가 필요합니다.

- **판독기**, **SQL DB 참가자** 권장 구성을 보려면 권한이 필요 합니다.
- **소유자**, **SQL DB 참가자** 모든 동작을 실행, 만들기 또는 인덱스를 삭제 및 생성 그리고 취소 하려면 권한이 필요 합니다.


## 인덱스 관리자를 사용하여

인덱스 관리자는 사용이 쉽습니다. 데이터베이스의 인덱스 관리를 쉽게 하기 위해 다음 지침을 따르세요.

- 먼저 인덱스 권장 구성의 목록을 검토하고 만들 인덱스를 결정 합니다. 권장 사항 목록을 예상되는 성능의 영향순으로 정렬 및 레이블 합니다. 
- 권장된 인덱스를 만들거나 무시합니다. 포털에서 **Create Index**를 클릭하여 인덱스를 만들거나, 인덱스 생성 스크립트를 실행하여 수동으로 만들수 있습니다.
- 수동으로 만든 인덱스의 생성프로세스를 모니터하여 성능 영향을 측정합니다. 자동으로 만든 인덱스는 모니터링 및 성능영향 분석이 Azure SQL 데이터베이스 서비스에 의해 자동으로 수행됩니다. 



## 권장 인덱스 검토

인덱스 관리자는 인덱스 [Azure 포털](https://portal.azure.com/) 내의 데이터베이스 블레이드의 인덱스 권장사항 목록을 제공합니다. 위에서 선택한 권장사항은 선택된 생성된 새 인덱스가 성능을 얻는 데이터베이스의 각 테이블을 보여줍니다.

### 현재 사용 가능한 인덱스 권장 구성 검토:

1. [Azure 포털](https://portal.azure.com/)에 로그인합니다.
2. 왼쪽 메뉴에서 **찾아보기**를 클릭합니다.
3. **찾아보기** 블레이드에서 **SQL 데이터베이스**를 클릭합니다.
4. **SQL 데이터베이스** 블레이드에서, 검토할 인덱스 권장구성 데이터베이스를 클릭합니다.
5. **인덱스 관리자**를 클릭하여 열고 선택된 데이터베이스의 사용 가능한**인덱스 권장 구성**을 봅니다.

> [AZURE.NOTE]인덱스 권장구성의 데이터베이스를 가져오려면 일주일의 사용기간이 필요하고, 그 기간 내에 활동이 필요합니다. 연관된 활동 또한 필요합니다. 인덱스 관리자는 일관성있는 쿼리 패턴을 임의 연결 상태가 좋지 않은 버스트 활동보다 더욱 쉽게 최적화할 수 있습니다.

![권장된 인덱스][3]

권장 사항은 아래 4개의 카테고리에서 성능의 잠재적 영향 순으로 정렬됩니다.

| 영향 | 설명 |
| :--- | :--- |
| 높음 | 높은 영향 권장사항은 가장 중요한 성능 영향을 제공합니다. |
| 고급 | 고급 영향 권장사항은 성능을 눈에 띄게 향상시킵니다. |
| 보통 | 중간 영향 권장 사항은 성능을 향상시키지만, 크게 향상시키지는 않습니다. |
| 낮음 | 낮은 영향 권장 사항은 인덱스가 없는 것보다 나은 성능을 제공하지만, 향상된 기능이 눈에 띄지는 않습니다. 
새 인덱스를 만들기 위해 좋은 후보를 확인 하려면 영향 태그를 사용 합니다.

### 권장된 인덱스 목록을 관리합니다.

권장사항 인덱스의 목록이 사용자가 필요없다고 생각되는 인덱스를 포함할 경우, 인덱스 관리자는 해당 인덱스 권장사항을 삭제합니다.(나중에 다시 필요할 경우 **권장 인덱스** 를 다시 추가할 수 있습니다.)

#### 인덱스 권장 사항을 버립니다.

1. **권장된 인덱스 목록**의 인덱스를 선택합니다.
1. **인덱스 세부정보** 블레이드에서 **인덱스 삭제**클릭합니다.

#### 삭제된 인덱스를 확인하고, 주 목록에 다시 추가합니다.

1. **인덱스 권장 구성** 블레이드에서 **삭제된 권장 인덱스**보기를 클릭합니다.
1. 자세히 보기 목록에서 삭제된 인덱스를 선택합니다.
1. 필요에 따라, **인덱스 권장 구성**으로 다시 추가 하고 싶다면 **삭제 취소**를 클릭하세요.



## 새 인덱스 만들기

인덱스 관리자는 인덱스를 생성 방법에 대한 모든 권한을 제공 합니다. 각 권장사항은 T-SQL 인덱스 생성 스크립트를 제공하고 데이터베이스에 작업이 실행되기 전에 어떻게 인덱스가 만들어지는 대해 정확한 세부사항을 검토할 수 있습니다

인덱스 권장 구성은 모든 Azure SQL 데이터베이스 서버에서 사용 가능하지만, V12서버에서만 자동 인덱스 생성을 제공합니다. 비 V12 서버도 인덱스 관리자를 사용할 수 있지만, 아래 설명과 같이 수동으로 인덱스를 생성해야 합니다.

자동 및 수동 인덱스 생성 모두 간단히 **인덱스 권장 구성** 블레이드의 권장 인덱스를 선택하고 아래의 내용을 따라하면 됩니다.

### 자동 인덱스 생성 (V12 서버에만 해당)

데이터베이스 V12 서버의 경우 포털에서 원하는 인덱스를 **Create Index**클릭하여 쉽게 만들수 있습니다.

인덱스 생성 동안 데이터베이스는 온라인 상태가 됩니다. 인덱스 관리자를 사용하여 데이터베이스가 오프라인 되지않게 합니다.

또한, **인덱스 생성**으로 생성된 인덱스는 더 이상 어떠한 성능 모니터링도 필요하지 않습니다. 인덱스가 성능에 부정적인 영향을 끼칠 가능성이 있는 경우, 인덱스는 자동으로 되돌려집니다. 인덱스 생성 사용 후, 새 인덱스의 영향을 받는 metric은 포털에서 사용할 수 있습니다.


### 수동 인덱스 생성 (모든 서버)

포털의 아무 권장사항이나 선택한 후 **스크립트 보기**를 클릭합니다. 권장 인덱스를 생성할 데이터베이스를 통해 스크립트를 실행합니다. 수동으로 생성된 인덱스는 실제성능에 대해 모니터링하고 유효성 검사를 실시하지 않으므로 필요한 경우 인덱스 생성 후 인덱스를 성능을 향상시키거나 조절 혹은 삭제하기 위해 모니터링 하는 것이 좋습니다. 인덱스 만들기에 대한 세부 정보는 [CREATE INDEX (TRANSACT-SQL)](https://msdn.microsoft.com/library/ms188783.aspx)를 참조하세요.


### 인덱스 생성 취소.

**보류** 상태인 인덱스를 취소할 수 있습니다. 생성되고 있는 인덱스(**실행 중** 상태)는 취소할 수 없습니다.

1. **인덱스 작업** 영역에서 **보류 중**인 인덱스를 선택하여 **인덱스 세부 정보** 블레이드를 엽니다.
1. **취소**를 클릭하여 인덱스 생성 프로세스를 중단합니다.

## 인덱스를 생성 후 인덱스 작업 모니터링

인덱스 생성은 즉시 생성되지 않습니다. 포털은 인덱스 작업의 상태에 대한 세부정보를 제공합니다. 다음은 인덱스를 관리할 때 인덱스 안에 나타날 수 있는 상태입니다.

| 상태 | 설명 |
| :--- | :--- |
| Pending | 인덱스 만들기 명령을 내리면 인덱스는 생성을 예약합니다. |
| Executing | 인덱스 만들기 명령 실행되는 중이며 인덱스가 현재 생성 됩니다. |
| 성공 | 인덱스가 성공적으로 만들어졌습니다. |
| Failed | 인덱스가 만들어지지 않았습니다. 일시적인 문제일 수도 있고, 테이블의 스키마변경 문제일 수도 있고, 스크립트가 더 이상 유효하지 않을 수도 있습니다. |
| 되돌리기 | 인덱스 생성 과정이 취소되거나 성능기준에 맞지 않다고 여겨져서 자동적으로 되돌리는 중입니다. |



![권장된 인덱스][4]



## 인덱스 삭제
인덱스 관리자를 사용하여 생성된 인덱스를 제거할 수 있습니다.


1. **인덱스 작업** 목록에서 성공적으로 생성된 인덱스를 선택합니다.
1. **인덱스 세부 정보** 블레이드에서 **인덱스 삭제**를 클릭하거나 DROP INDEX 스크립트에서 **스크립트 보기**를 클릭합니다.



## 요약

인덱스 권장구성은 인덱스 생성에 관한 자동화 된 환경을 제공 및 각 SQL 데이터베이스를 분석하고 최상의 인덱스를 권장합니다. 데이터베이스 블레이드의 **인덱스 관리자** 타일을 클릭하여 인덱스 권장 사항을 봅니다.



## 다음 단계

인덱스 권장사항을 모니터링하고 개선된 성능을 계속 적용합니다. 데이터베이스 워크로드는 동적 이며 지속적으로 변경합니다. 인덱스 관리자는 모니터링 및 데이터베이스 성능을 잠재적으로 향상시킬 인덱스를 계속 추천하고 모니터링 할 것입니다.


<!--Image references-->
[1]: ./media/sql-database-index-advisor/index-recommendations.png
[2]: ./media/sql-database-index-advisor/index-details.png
[3]: ./media/sql-database-index-advisor/recommended-indexes.png
[4]: ./media/sql-database-index-advisor/index-operations.png

<!---HONumber=AcomDC_1203_2015-->