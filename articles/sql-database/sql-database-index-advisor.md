<properties 
   pageTitle="Azure SQL 데이터베이스 인덱스 관리자" 
   description="Azure SQL 데이터베이스 인덱스 관리자는 현재 쿼리 성능을 향상 시킬 수 있는 기존 SQL 데이터베이스에 대한 새 인덱스를 권장 합니다." 
   services="sql-database" 
   documentationCenter="" 
   authors="stevestein" 
   manager="jeffreyg" 
   editor="monicar"/>

<tags
   ms.service="sql-database"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="data-management" 
   ms.date="01/23/2016"
   ms.author="sstein"/>

# SQL 데이터베이스 인덱스 관리자

Azure SQL 데이터베이스 인덱스 관리자는 현재 쿼리 성능을 향상시킬 수 있는 기존 SQL 데이터베이스에 대한 인덱스 권장 구성을 제공합니다. SQL 데이터베이스 서비스에서는 SQL 데이터베이스의 사용 기록을 분석하여 인덱스 성능을 평가합니다. 데이터베이스의 일반적인 워크로드를 실행하는 데 가장 적합한 인덱스를 사용하는 것이 좋습니다.

인덱스 관리자는 다음과 같이 데이터베이스 성능을 튜닝하는 데 도움을 줍니다.

- 만들 인덱스에 대한 권장 구성 제공(권장 구성은 비클러스터형 인덱스에만 사용할 수 있음)
- 삭제할 인덱스에 대한 권장 구성 제공(인덱스 삭제 권장 구성은 미리 보기에 있으며 현재 중복된 인덱스에만 적용함)
- 인덱스 권장 구성을 사용자 조작 없이 자동으로 적용하도록 옵트인하게 함 (권장 구성을 자동화하려면 [쿼리 저장소](https://msdn.microsoft.com/library/dn817826.aspx)가 활성화되고 실행되어야 함)
- 성능에 좋지 않은 영향을 주는 권장 구성을 자동으로 롤백합니다. 


이 문서에서는 V12 서버용 인덱스 관리자에 대해 설명합니다. 인덱스 권장 구성은 V11 서버용으로 사용할 수 있지만 권장 구성을 구현하려면 제공된 Transact-SQL(T-SQL) 스크립트를 실행해야 합니다. 관리자는 V11 서버에서 인덱스 작업을 되돌리지 않으므로 필요에 따라 성능에 미치는 영향을 모니터링하고 되돌려야 합니다.


### 권한

보고, 만들 인덱스 권장사항, Azure에서 올바른 [역할 기반 액세스 제어](../active-directory/role-based-access-control-configure.md)허가가 필요합니다.

- **판독기**, **SQL DB 참가자** 권장 구성을 보려면 권한이 필요 합니다.
- **소유자**, **SQL DB 참가자** 모든 동작을 실행, 만들기 또는 인덱스를 삭제 및 생성 그리고 취소 하려면 권한이 필요 합니다.


## 인덱스 권장 구성 보기

인덱스 권장 구성 페이지에서 성능 향상을 위한 잠재적 영향을 기준으로 상위 제안된 인덱스를 봅니다. 마지막 몇 가지 인덱스 작업의 상태도 볼 수 있습니다. 세부 정보를 보려면 권장 구성 또는 상태를 선택합니다.

인덱스 권장 구성을 보려면

1. [Azure 포털](https://portal.azure.com/)에 로그인합니다.
2. **찾아보기** > **SQL 데이터베이스**를 클릭하고 해당 데이터베이스를 선택합니다.
5. **모든 설정** > **인덱스 관리자**를 클릭하여 선택된 데이터베이스의 사용 가능한 **인덱스 권장 구성**을 봅니다.

> [AZURE.NOTE] 인덱스 권장구성의 데이터베이스를 가져오려면 일주일의 사용기간이 필요하고, 그 기간 내에 활동이 필요합니다. 연관된 활동 또한 필요합니다. 인덱스 관리자는 일관성있는 쿼리 패턴을 임의 연결 상태가 좋지 않은 버스트 활동보다 더욱 쉽게 최적화할 수 있습니다. 권장 구성을 사용할 수 없는 경우 **인덱스 권장 구성** 페이지에서 이유를 설명하는 메시지를 제공해야 합니다.

![권장된 인덱스](./media/sql-database-index-advisor/recommendations.png)

권장 사항은 아래 4개의 카테고리에서 성능의 잠재적 영향 순으로 정렬됩니다.

| 영향 | 설명 |
| :--- | :--- |
| 높음 | 높은 영향 권장사항은 가장 중요한 성능 영향을 제공합니다. |
| 고급 | 고급 영향 권장사항은 성능을 눈에 띄게 향상시킵니다. |
| 보통 | 중간 영향 권장 사항은 성능을 향상시키지만, 크게 향상시키지는 않습니다. |
| 낮음 | 낮은 영향 권장 사항은 인덱스가 없는 것보다 나은 성능을 제공하지만, 향상된 기능이 눈에 띄지는 않습니다. 
새 인덱스를 만들기 위해 좋은 후보를 확인 하려면 영향 태그를 사용 합니다.


### 목록에서 인덱스 권장 구성 제거

권장된 인덱스 목록에 목록에서 제거하려는 인덱스가 포함되어 있는 경우 권장 구성을 삭제할 수 있습니다.

1. **권장된 인덱스** 목록의 권장 구성을 선택합니다.
2. **인덱스 세부정보** 블레이드에서 **인덱스 삭제**클릭합니다.


원하는 경우 삭제된 인덱스를 **권장된 인덱스** 목록에 다시 추가할 수 있습니다.

1. **인덱스 권장 구성** 블레이드에서 **삭제된 권장 인덱스**보기를 클릭합니다.
1. 자세히 보기 목록에서 삭제된 인덱스를 선택합니다.
1. 필요에 따라, **인덱스 권장 구성**으로 다시 추가 하고 싶다면 **삭제 취소**를 클릭하세요.



## 인덱스 권장 구성 적용

인덱스 관리자는 아래의 3가지 옵션을 사용하여 인덱스 권장 구성을 사용하도록 설정하는 방법을 완전히 제어할 수 있게 합니다.

- 개별 권장 구성을 한 번에 하나씩 적용합니다.
- 인덱스 관리자가 인덱스 권장 구성을 자동으로 적용할 수 있도록 합니다.
- 권장 구성을 구현하려면 데이터베이스에 대해 권장 T-SQL 스크립트를 수동으로 실행합니다.

권장 구성을 선택하여 세부 정보를 본 다음 **스크립트 보기**를 클릭하여 권장 구성이 어떻게 만들어지는지에 대해 정확한 세부 사항을 검토합니다.

관리자가 권장 구성을 적용하는 동안 데이터베이스는 온라인 상태로 유지됩니다. 인덱스 관리자를 사용해도 데이터베이스는 오프라인으로 되지 않습니다.

### 개별 권장 구성 적용

권장 구성을 한 번에 하나씩 검토하고 수락할 수 있습니다.

1. **인덱스 권장 구성** 블레이드에서 권장 구성을 클릭합니다.
2. **인덱스 세부 정보** 블레이드에서 **적용**을 클릭합니다.

    ![권장 구성 적용](./media/sql-database-index-advisor/apply.png)


### 자동 인덱스 관리 사용

인덱스 관리자가 권장 구성을 자동으로 구현하도록 설정할 수 있습니다. 권장 구성은 사용할 수 있을 때 자동으로 적용됩니다. 서비스에서 관리되는 모든 인덱스 작업처럼 성능에 좋지 않은 영향을 주는 경우 권장 구성이 되돌려집니다.

1. **인덱스 권장 구성** 블레이드에서 **관리자 설정**을 클릭합니다.

    ![관리자 설정](./media/sql-database-index-advisor/settings.png)

2. 관리자가 자동으로 인덱스를 **만들거나** **삭제**하도록 설정합니다.

    ![권장된 인덱스](./media/sql-database-index-advisor/automation.png)




### 권장 T-SQL 스크립트를 수동으로 실행

권장 구성을 선택한 다음 **스크립트 보기**를 클릭합니다. 권장 구성을 수동으로 적용하도록 데이터베이스에 대해 이 스크립트를 실행합니다.

*수동으로 실행된 인덱스는 성능에 미치는 서비스 영향에 대해 모니터링하고 유효성 검사를 실시하지 않으므로* 필요한 경우 인덱스 생성 후 인덱스를 성능을 향상시키거나 조절 또는 삭제하기 위해 모니터링하는 것이 좋습니다. 인덱스 만들기에 대한 세부 정보는 [CREATE INDEX (TRANSACT-SQL)](https://msdn.microsoft.com/library/ms188783.aspx)를 참조하세요.


### 인덱스 생성 취소.

**보류** 상태인 인덱스를 취소할 수 있습니다. 생성되고 있는 인덱스(**실행 중** 상태)는 취소할 수 없습니다.

1. **인덱스 작업** 영역에서 **보류 중**인 인덱스를 선택하여 **인덱스 세부 정보** 블레이드를 엽니다.
2. **취소**를 클릭하여 인덱스 생성 프로세스를 중단합니다.



## 인덱스 작업 모니터링

권장 구성을 적용해도 즉각적으로 일어나지 않을 수 있습니다. 포털은 인덱스 작업의 상태에 대한 세부정보를 제공합니다. 다음은 인덱스를 관리할 때 인덱스 안에 나타날 수 있는 상태입니다.

| 상태 | 설명 |
| :--- | :--- |
| Pending | 인덱스 만들기 명령을 내리면 인덱스는 생성을 예약합니다. |
| Executing | 인덱스 만들기 명령 실행되는 중이며 인덱스가 현재 생성 됩니다. |
| 성공 | 인덱스가 성공적으로 만들어졌습니다. |
| Failed | 인덱스가 만들어지지 않았습니다. 일시적인 문제일 수도 있고, 테이블의 스키마변경 문제일 수도 있고, 스크립트가 더 이상 유효하지 않을 수도 있습니다. |
| 되돌리기 | 인덱스 생성 과정이 취소되거나 성능기준에 맞지 않다고 여겨져서 자동적으로 되돌리는 중입니다. |

세부 정보를 보려면 목록에서 In Process 권장 구성을 클릭합니다.

![권장된 인덱스](./media/sql-database-index-advisor/operations.png)



### 인덱스 되돌리기

관리자를 사용하여 인덱스를 만든 경우(즉 수동으로 T-SQL 스크립트를 실행하지 않음) 관리자가 성능에 좋지 않은 영향을 알게 되면 자동으로 인덱스를 되돌립니다. 어떤 이유로든 단순히 인덱스 관리자 작업을 되돌리려면 다음을 수행할 수 있습니다.


1. **인덱스 작업** 목록에서 성공적으로 생성된 인덱스를 선택합니다.
2. **인덱스 세부 정보** 블레이드에서 **되돌리기**를 클릭하거나 실행할 수 있는 DROP INDEX 스크립트에서 **스크립트 보기**를 클릭합니다.

![권장된 인덱스](./media/sql-database-index-advisor/details.png)


## 인덱스 권장 구성의 성능 영향 모니터링

권장 구성이 구현된 후 인덱스 세부 정보 블레이드의 **쿼리 예측**을 클릭하여 [쿼리 성능 예측](sql-database-query-performance.md)을 열고 상위 쿼리의 성능 영향을 확인할 수 있습니다.

![성능에 미치는 영향을 모니터링합니다.](./media/sql-database-index-advisor/query-insights.png)


## 요약

인덱스 관리자는 SQL 데이터베이스의 인덱스를 관리하기 위해 인덱스 권장 구성 및 자동화된 환경을 제공합니다. 인덱스 관리자는 T-SQL 스크립트 및 개별적인 완전 자동 인덱스 관리 옵션을 제공하여 데이터베이스 인덱스를 최적화하고 궁극적으로 쿼리 성능을 향상시키도록 지원합니다.



## 다음 단계

인덱스 권장사항을 모니터링하고 개선된 성능을 계속 적용합니다. 데이터베이스 워크로드는 동적 이며 지속적으로 변경합니다. 인덱스 관리자는 모니터링 및 데이터베이스 성능을 잠재적으로 향상시킬 인덱스를 계속 추천하고 모니터링 할 것입니다.

<!---HONumber=AcomDC_0224_2016-->