---
title: 저장소 취약성 평가 검사결과 방화벽 및 VNet 뒤에 액세스할 수 있는 저장소 계정
description: 방화벽 이나 VNet을 통해 액세스할 수 있는 저장소 계정에 취약성 평가(VA) 검사를 저장하는 방법에 대한 지침을 제공합니다.
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.topic: conceptual
author: barmichal
ms.author: mibar
ms.reviewer: vanto
ms.date: 04/17/2020
ms.openlocfilehash: 36783c84acc22d6bc1084c2c13f455dedbfc77ca
ms.sourcegitcommit: d57d2be09e67d7afed4b7565f9e3effdcc4a55bf
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/22/2020
ms.locfileid: "81771860"
---
# <a name="store-vulnerability-assessment-scan-results-in-a-storage-account-accessible-behind-firewalls-and-vnets"></a>저장소 취약성 평가 검사결과 방화벽 및 VNet 뒤에 액세스할 수 있는 저장소 계정

특정 VNet 또는 서비스에 대해 Azure의 저장소 계정에 대한 액세스를 제한하는 경우 SQL Database 또는 관리되는 인스턴스에 대한 취약성 평가(VA) 검색이 해당 저장소 계정에 액세스할 수 있도록 적절한 구성을 사용하도록 설정해야 합니다.

## <a name="enable-azure-sql-database-va-scanning-access-to-the-storage-account"></a>Azure SQL Database VA 저장소 계정에 대한 검색 액세스 사용

VA 저장소 계정을 특정 네트워크 또는 서비스에서만 액세스할 수 있도록 구성한 경우 Azure SQL Database에 대한 VA 검사가 저장소 계정에 검사를 저장할 수 있는지 확인해야 합니다. 사용 중인 저장소 계정을 확인하려면 [Azure 포털의](https://portal.azure.com) **SQL 서버** 창으로 이동하여 **보안에서** **고급 데이터 보안을**선택합니다.

:::image type="content" source="media/sql-database-vulnerability-assessment-storage/va-storage.png" alt-text="va-스토리지":::

기존 저장소 계정을 사용하거나 새 저장소 계정을 만들어 Azure SQL Server의 모든 데이터베이스에 대한 VA 검사 결과를 저장할 수 있습니다.

저장소 계정이 포함된 **리소스 그룹으로** 이동하여 **저장소 계정** 창에 액세스합니다. **설정에서** **방화벽 및 가상 네트워크를**선택합니다.

신뢰할 **수 있는 Microsoft 서비스에서 이 저장소 계정에 액세스할 수 있도록 허용하는** 것이 확인되었는지 확인합니다.

:::image type="content" source="media/sql-database-vulnerability-assessment-storage/storage-allow-microsoft-services.png" alt-text="스토리지 허용 마이크로 소프트 서비스":::

## <a name="store-va-scan-results-for-azure-sql-managed-instance-in-a-storage-account-that-can-be-accessed-behind-a-firewall-or-vnet"></a>방화벽 또는 VNet 뒤에서 액세스할 수 있는 저장소 계정에 Azure SQL 관리 인스턴스에 대한 VA 검사 결과를 저장합니다.

관리되는 인스턴스는 신뢰할 수 있는 Microsoft 서비스가 아니며 저장소 계정과 다른 VNet을 가지고 있기 때문에 VA 검사를 실행하면 오류가 발생합니다.

관리되는 인스턴스에서 VA 검사를 지원하려면 다음 단계를 따르십시오.

1. SQL **관리 인스턴스** 창에서 **개요** 제목 아래에서 **가상 네트워크/서브넷** 링크를 클릭합니다. 그러면 가상 **네트워크** 창으로 이동합니다.

   :::image type="content" source="media/sql-database-managed-instance-public-endpoint-configure/mi-overview.png" alt-text="미 개요2":::

1. **설정에서** **서브넷을 선택합니다.** 새 창에서 **서브넷을** 클릭하여 서브넷을 추가하고 *Microsoft.sql\managedInstance*에 위임합니다. 자세한 내용은 [서브넷 관리를](../virtual-network/virtual-network-manage-subnet.md)참조하십시오.

   :::image type="content" source="media/sql-database-vulnerability-assessment-storage/mi-subnets.png" alt-text="미 서브넷":::

1. 가상 **네트워크** 창에서 **설정에서** **서비스 끝점을**선택합니다. 새 창에서 **추가를** 클릭하고 *Microsoft.Storage* 서비스를 새 서비스 끝점으로 추가합니다. *관리 인스턴스* 서브넷이 선택되어 있는지 확인합니다. **추가**를 클릭합니다.

   :::image type="content" source="media/sql-database-vulnerability-assessment-storage/mi-service-endpoint.png" alt-text="mi-서비스 엔드포인트":::

1. VA 스캔을 저장하기 위해 선택한 **저장소 계정으로** 이동합니다. **설정에서** **방화벽 및 가상 네트워크를**선택합니다. **기존 가상 네트워크 추가**를 클릭합니다. 관리되는 인스턴스 가상 네트워크 및 서브넷을 선택하고 **추가 를**클릭합니다.

   :::image type="content" source="media/sql-database-vulnerability-assessment-storage/storage-firewall.png" alt-text="스토리지 방화벽":::

이제 저장소 계정에 관리형 인스턴스에 대한 VA 검사를 저장할 수 있습니다.

## <a name="next-steps"></a>다음 단계

- [취약점 평가](sql-vulnerability-assessment.md)
- [Azure Storage 계정 만들기](../storage/common/storage-account-create.md)
- [Azure SQL Database에 대한 고급 데이터 보안](sql-database-advanced-data-security.md)