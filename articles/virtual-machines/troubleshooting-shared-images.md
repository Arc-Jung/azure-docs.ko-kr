---
title: Azure에서 공유 이미지 문제 해결
description: 공유 이미지 갤러리와 관련 된 문제를 해결 하는 방법을 알아봅니다.
author: olayemio
ms.service: virtual-machines
ms.subservice: imaging
ms.topic: troubleshooting
ms.workload: infrastructure
ms.date: 10/27/2020
ms.author: olayemio
ms.reviewer: cynthn
ms.openlocfilehash: 507dd224ddeb935cc8b3718bb2e2628be36066f4
ms.sourcegitcommit: b4647f06c0953435af3cb24baaf6d15a5a761a9c
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/02/2021
ms.locfileid: "101676016"
---
# <a name="troubleshoot-shared-image-galleries-in-azure"></a>Azure에서 공유 이미지 갤러리 문제 해결

공유 이미지 갤러리, 이미지 정의 및 이미지 버전에서 작업을 수행 하는 데 문제가 있는 경우 디버그 모드에서 실패 명령을 다시 실행 합니다. PowerShell을 사용 하 여 스위치를 Azure CLI 및 스위치로 전달 하 여 디버그 모드를 활성화 `--debug` `-Debug` 합니다. 오류를 찾았으면이 문서에 따라 문제를 해결 합니다.


## <a name="creating-or-modifying-a-gallery"></a>갤러리 만들기 또는 수정 ##

*갤러리 이름이 잘못 되었습니다. 허용 되는 문자는 영어 영숫자 문자, 밑줄 및 마침표는 중간에 최대 80 자까지 허용 됩니다. 대시를 포함 하 여 다른 모든 특수 문자는 허용 되지 않습니다.*  
**원인**: 갤러리 이름이 명명 요구 사항을 충족 하지 않습니다.  
**해결 방법**: 다음 조건을 충족 하는 이름을 선택 합니다. 
- 에는 80 자 제한이 있습니다.
- 영어 문자, 숫자, 밑줄 및 마침표만 포함
- 문자 또는 숫자로 시작 하 고 종료 합니다.

*엔터티 이름 ' galleryName '은 (는) 유효성 검사 규칙 (^ [^ \_ \w] [\w-. \_ ]) {0,79} 에 따라 유효 하지 않습니다. (? <! [-.]) $.*  
**원인**: 갤러리 이름이 명명 요구 사항을 충족 하지 않습니다.  
**해결 방법**: 다음 조건을 충족 하는 갤러리의 이름을 선택 합니다. 
- 에는 80 자 제한이 있습니다.
- 영어 문자, 숫자, 밑줄 및 마침표만 포함
- 문자 또는 숫자로 시작 하 고 종료 합니다.

*제공 된 리소스 이름 <galleryName \> 에 잘못 된 후행 문자 (<문자)가 있습니다 \> . 이름은 <문자로 끝날 수 없습니다.\>*  
**원인**: 갤러리의 이름이 마침표 또는 밑줄로 끝납니다.  
**해결 방법**: 다음 조건을 충족 하는 갤러리의 이름을 선택 합니다. 
- 에는 80 자 제한이 있습니다.
- 영어 문자, 숫자, 밑줄 및 마침표만 포함
- 문자 또는 숫자로 시작 하 고 종료 합니다.

*제공 된 위치 <지역은 \> ' Microsoft. Compute/갤러리 ' 리소스 종류에 사용할 수 없습니다. 리소스 종류에 사용할 수 있는 지역 목록은 ...*  
**원인**: 갤러리에 지정 된 지역이 잘못 되었거나 액세스 요청이 필요 합니다.  
**해결 방법**: 지역 이름의 철자가 정확한 지 확인 합니다. 이 명령을 실행 하 여 액세스할 수 있는 지역을 확인할 수 있습니다. 지역이 목록에 없으면 [액세스 요청](/troubleshoot/azure/general/region-access-request-process)을 제출 합니다.

*중첩 된 리소스를 삭제 하기 전에 리소스를 삭제할 수 없습니다.*  
**원인**: 하나 이상의 기존 이미지 정의가 포함 된 갤러리를 삭제 하려고 했습니다. 갤러리는 비어 있어야 삭제할 수 있습니다.  
**해결 방법**: 갤러리 내의 모든 이미지 정의를 삭제 하 고 계속 해 서 갤러리를 삭제 합니다. 이미지 정의에 이미지 버전이 포함 되어 있는 경우 이미지 정의를 삭제 하기 전에 이미지 버전을 삭제 해야 합니다.

*갤러리 이름 ' <galleryName \> '이 (가) 구독 ' ' 내에서 고유 하지 않습니다 <subscriptionId> . 다른 갤러리 이름을 선택 하십시오.*  
**원인**: 이름이 같은 기존 갤러리가 있으며 이름이 같은 다른 갤러리를 만들려고 했습니다.  
**해결 방법**: 갤러리에 대해 다른 이름을 선택 합니다.

*리소스 \> \_ \> 그룹 <resourceGroup의 위치 <지역 1에 <galleryName 리소스가 이미 있습니다 \> . 같은 이름의 리소스는 <지역 2 지역에서 만들 수 없습니다 \_ \> . 새 리소스 이름을 선택 하십시오.*  
**원인**: 이름이 같은 기존 갤러리가 있으며 이름이 같은 다른 갤러리를 만들려고 했습니다.  
**해결 방법**: 갤러리에 대해 다른 이름을 선택 합니다.

## <a name="creating-or-modifying-image-definitions"></a>이미지 정의 만들기 또는 수정 ##

*' GalleryImage 속성 <속성 \> 을 변경할 수 없습니다.*  
**원인**: os 유형, os 상태, hyper-v 생성, 제품, 게시자 또는 SKU를 변경 하려고 했습니다. 이러한 속성을 변경 하는 것은 허용 되지 않습니다.  
**해결 방법**: 대신 새 이미지 정의를 만듭니다.

*리소스 \> \_ \> 그룹 <resourceGroup의 위치 <지역 1에 <GalleryName/imagedefinitionname 리소스가 이미 있습니다 \> . 같은 이름의 리소스는 <지역 2 지역에서 만들 수 없습니다 \_ \> . 새 리소스 이름을 선택 하십시오.*  
**원인**: 동일한 갤러리와 리소스 그룹에 동일한 이름의 기존 이미지 정의가 있습니다. 동일한 갤러리에서 다른 지역에 있는 동일한 이름으로 다른 이미지 정의를 만들려고 했습니다.  
**해결 방법**: 이미지 정의에 다른 이름을 사용 하거나 이미지 정의를 다른 갤러리 또는 리소스 그룹에 넣습니다.

*제공 된 리소스 이름 <galleryName \> /<imageDefinitionName \> 에 잘못 된 후행 문자 (<문자)가 있습니다 \> . 이름은 <문자로 끝날 수 없습니다.\>*  
**원인**: imagedefinitionname 이름 <\> 마침표 또는 밑줄로 끝납니다.  
**해결 방법**: 다음 조건을 충족 하는 이미지 정의의 이름을 선택 합니다. 
- 에는 80 자 제한이 있습니다.
- 영어 문자, 숫자, 밑줄, 하이픈 및 마침표만 포함
- 는 영어 문자 또는 숫자로 시작 하 고 끝납니다.

*엔터티 이름 <imageDefinitionName은 \> 유효성 검사 규칙에 따라 잘못 되었습니다. ^ [^ \_ \\ W] [ \\ W-. \_ ] {0,79} (? <! [-.]) $"*  
**원인**: imagedefinitionname 이름 <\> 마침표 또는 밑줄로 끝납니다.  
**해결 방법**: 다음 조건을 충족 하는 이미지 정의의 이름을 선택 합니다. 
- 에는 80 자 제한이 있습니다.
- 영어 문자, 숫자, 밑줄, 하이픈 및 마침표만 포함
- 문자 또는 숫자로 시작 하 고 종료 합니다.

*자산 이름 <galleryImage 속성이 \> 잘못 되었습니다. 비워 둘 수 없습니다. 허용 되는 문자는 대/소문자, 숫자, 하이픈 (-), 마침표 (.), 밑줄 ( \_ )입니다. 이름은 마침표 (.)로 끝날 수 없습니다. 이름 길이는 <숫자 문자를 초과할 수 없습니다 \> .*  
**원인**: 게시자, 제품 또는 SKU 값이 명명 요구 사항을 충족 하지 않습니다.  
**해결 방법**: 다음 조건을 충족 하는 값을 선택 합니다. 
- 128-게시자의 경우 자, 제품 및 SKU의 경우 64 문자 제한을 갖습니다.
- 영어 문자, 숫자, 하이픈, 밑줄 및 마침표만 포함
- 마침표로 끝나지 않음

*중첩 리소스에서 요청 된 작업을 수행할 수 없습니다. 부모 리소스 <galleryName \> 를 찾을 수 없습니다.*  
**원인**: 이름이 <galleryName \> 현재 구독 및 리소스 그룹에 포함 된 갤러리가 없습니다.  
**해결 방법**: 갤러리, 구독 및 리소스 그룹의 이름이 올바른지 확인 합니다. 그렇지 않으면 <galleryName 이라는 새 갤러리를 만듭니다 \> .

*제공 된 위치 <지역은 \> ' Microsoft. Compute/갤러리 ' 리소스 종류에 사용할 수 없습니다. 리소스 종류에 사용할 수 있는 지역 목록은 ...*  
**원인**: <지역 \> 이름이 잘못 되었거나 액세스 요청이 필요 합니다.  
**해결 방법**: 지역 이름의 철자가 정확한 지 확인 합니다. 이 명령을 실행 하 여 액세스할 수 있는 지역을 확인할 수 있습니다. 지역이 목록에 없으면 [액세스 요청](/troubleshoot/azure/general/region-access-request-process)을 제출 합니다.

*값 <값을 직렬화 할 수 없습니다. \> ' iso-8601 ', ISO8601Error: iso 8601 시간 지정자 ' '이 (가) 없습니다. Datetime 문자열 <값을 구문 분석할 수 없습니다.\>*  
**원인**: 속성에 제공 된 값의 형식이 날짜로 올바르게 지정 되지 않았습니다.  
**해결 방법**: yyyy-mm-dd, yyyy-mm-dd, Yyyy-mm-dd 또는 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)-유효한 형식으로 날짜를 입력 합니다 .이 경우

*String을 DateTimeOffset: <값으로 변환할 수 \> 없습니다. 경로 ' properties. <속성 \> '*  
**원인**: 속성에 제공 된 값의 형식이 날짜로 올바르게 지정 되지 않았습니다.  
**해결 방법**: yyyy-mm-dd, yyyy-mm-dd, Yyyy-mm-dd 또는 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)-유효한 형식으로 날짜를 입력 합니다 .이 경우

*EndOfLifeDate은 미래의 날짜로 설정 되어야 합니다.*  
**원인**: 수명 종료 날짜 속성의 서식이 오늘 날짜 이후의 날짜로 올바르게 지정 되지 않았습니다.  
**해결 방법**: yyyy-mm-dd, yyyy-mm-dd, Yyyy-mm-dd 또는 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)-유효한 형식으로 날짜를 입력 합니다 .이 경우

*인수--<속성 \> : 잘못 된 int 값: <값\>*  
**원인**: <속성 \> 은 정수 값만 허용 하 고 <값 \> 은 정수가 아닙니다.  
**해결 방법**: 정수 값을 선택 합니다.

*<속성의 최소값은 \> <속성의 최 댓 값 보다 크지 않아야 합니다 \> .*  
**원인**: <속성에 제공 된 최소값이 \> <속성에 대해 제공 된 최대값 보다 높습니다 \> .  
**해결 방법**: 최소값이 최 댓 값 보다 작거나 같도록 값을 변경 합니다.

*갤러리 이미지: \> (게시자: <게시자 \> , 제품: <제안 \> , SKU: <sku)로 식별 되는 <imagedefinitionname이 \> 이미 있습니다. 다른 게시자, 제품, sku 조합을 선택 합니다.*  
**원인**: 동일한 갤러리에서 기존 이미지 정의와 동일한 게시자, 제품 및 SKU를 사용 하 여 새 이미지 정의를 만들려고 했습니다.  
**해결 방법**: 갤러리 내에서 모든 이미지 정의는 게시자, 제품 및 SKU의 고유한 조합을 포함 해야 합니다. 고유한 조합을 선택 하거나 새 갤러리를 선택 하 고 이미지 정의를 다시 만듭니다.

*중첩 된 리소스를 삭제 하기 전에 리소스를 삭제할 수 없습니다.*  
**원인**: 이미지 버전이 포함 된 이미지 정의를 삭제 하려고 했습니다. 이미지 정의는 비어 있어야 삭제할 수 있습니다.  
**해결 방법**: 이미지 정의 안의 모든 이미지 버전을 삭제 한 다음 계속 해 서 이미지 정의를 삭제 합니다.

*매개 변수 <속성을 바인딩할 수 없습니다 \> . 값 <값 \> 을 propertyType <형식으로 변환할 수 없습니다 \> . 식별자 이름 <값을 올바른 열거자 이름과 일치 시킬 수 없습니다 \> . 다음 열거자 이름 중 하나를 지정 하 고 다시 시도 하세요. <choice1 \> , <choice2 \> , ...*  
**원인**: 속성에 사용할 수 있는 값에 대 한 제한 된 목록이 있고 <값 \> 이 그 중 하나가 아닙니다.  
**해결 방법**: 가능한 <선택 값 중 하나를 선택 \> 합니다.

*매개 변수 <속성을 바인딩할 수 없습니다 \> . 값 <값을 system.string \> 형식으로 변환할 수 없습니다 &quot; . DateTime&quot;*  
**원인**: 속성에 제공 된 값의 형식이 날짜로 올바르게 지정 되지 않았습니다.  
**해결 방법**: yyyy-mm-dd, yyyy-mm-dd, Yyyy-mm-dd 또는 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)-유효한 형식으로 날짜를 입력 합니다 .이 경우

*매개 변수 <속성을 바인딩할 수 없습니다 \> . 값 <값을 system.string \> 형식으로 변환할 수 없습니다 &quot; .&quot;*  
**원인**: <속성 \> 은 정수 값만 허용 하 고 <값 \> 은 정수가 아닙니다.  
**해결 방법**: 정수 값을 선택 합니다.

*ZRS 저장소 계정 유형은이 지역에서 지원 되지 않습니다.*  
**원인**: 아직 지원 하지 않는 지역에서 표준 ZRS (영역 중복 저장소)를 선택 했습니다.  
**해결 방법**: storage 계정 유형을 **Premium \_ LRS** 또는 **Standard \_ LRS** 로 변경 합니다. ZRS preview가 설정 된 최신 [지역 목록은](../storage/common/storage-redundancy.md#zone-redundant-storage) 설명서를 참조 하세요.

## <a name="creating-or-updating-image-versions"></a>이미지 버전 만들기 또는 업데이트 ##

*제공 된 위치 <지역은 \> ' Microsoft. Compute/갤러리 ' 리소스 종류에 사용할 수 없습니다. 리소스 종류에 사용할 수 있는 지역 목록은 ...*  
**원인**: <지역 \> 이름이 잘못 되었거나 액세스 요청이 필요 합니다.  
**해결 방법**: 지역 이름의 철자가 정확한 지 확인 합니다. 이 명령을 실행 하 여 액세스할 수 있는 지역을 확인할 수 있습니다. 지역이 목록에 없으면 [액세스 요청](/troubleshoot/azure/general/region-access-request-process)을 제출 합니다.

*중첩 리소스에서 요청 된 작업을 수행할 수 없습니다. 부모 리소스 <galleryName/imageDefinitionName \> 을 찾을 수 없습니다.*  
**원인**: \> 현재 구독 및 리소스 그룹에 <GalleryName/imagedefinitionname의 갤러리가 없습니다.  
**해결 방법**: 갤러리, 구독 및 리소스 그룹의 이름이 올바른지 확인 합니다. 그렇지 않은 경우에는 이름이 <galleryName \> 및/또는 \> 지정 된 리소스 그룹에 <imagedefinitionname 이라는 이미지 정의를 사용 하 여 새 갤러리를 만듭니다.

*매개 변수 <속성을 바인딩할 수 없습니다 \> . 값 <값을 system.string \> 형식으로 변환할 수 없습니다 &quot; . DateTime&quot;*  
**원인**: 속성에 제공 된 값의 형식이 날짜로 올바르게 지정 되지 않았습니다.  
**해결 방법**: yyyy-mm-dd, yyyy-mm-dd, Yyyy-mm-dd 또는 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)-유효한 형식으로 날짜를 입력 합니다 .이 경우

*매개 변수 <속성을 바인딩할 수 없습니다 \> . 값 <값을 system.string \> 형식으로 변환할 수 없습니다 &quot; .&quot;*  
**원인**: <속성 \> 은 정수 값만 허용 하 고 <값 \> 은 정수가 아닙니다.  
**해결 방법**: 정수 값을 선택 합니다.

*갤러리 이미지 버전 게시 프로필 영역 <publishingRegions \> 는 이미지 버전 <sourceRegion의 위치를 포함 해야 합니다.\>*  
**원인**: 원본 이미지의 위치 (<sourceRegion)가 \> <publishingRegions 목록에 포함 되어야 합니다 \> .  
**해결 방법**: \> <publishingRegions 목록에 <sourceRegion를 포함 \> 합니다.

*\>매개 변수 <속성 값 <값 \> 이 범위를 벗어났습니다. 값은 <minValue \> <int32.maxvalue \> (포함) 사이 여야 합니다.*  
**원인**: <값 \> 이 <속성에 사용할 수 있는 값의 범위를 \> 벗어났습니다.  
**해결 방법**: <minValue 범위 내에 있는 값을 선택 하 \> 고 int32.maxvalue \> (포함)를 <합니다.

*원본 <resourceID \> 를 찾을 수 없습니다. 원본이 있는지 확인 하 고 갤러리 이미지 버전과 동일한 지역에 있는지 확인 하세요.*  
**원인**: <resourceid에 소스가 없거나 \> , <resourceID의 소스가 \> 만들 갤러리 이미지와 동일한 지역에 있지 않습니다.  
**해결 방법**: resourceid \> 값 <올바른지, 갤러리 이미지 버전의 원본 지역이 <resourceID 값의 지역과 동일한 지 확인 \> 합니다.

*속성 ' galleryImageVersion. storageProfile Profile. \> source.id '은 (는) 변경할 수 없습니다.*  
**원인**: 갤러리 이미지 버전의 원본 ID를 만든 후에는 변경할 수 없습니다.  
**해결 방법**: 원본 id가 기존 원본 id와 동일한 지 확인 하 고, 이미지 버전의 버전 번호를 변경 하거나, 현재 이미지 버전을 삭제 한 후 다시 시도 하십시오.

*입력 데이터 디스크에서 중복 된 lun 번호가 검색 되었습니다. Lun 번호는 각 데이터 디스크에 대해 고유 해야 합니다.*  
**원인**: 디스크 및/또는 디스크 스냅숏의 목록을 사용 하 여 이미지 버전을 만드는 경우 두 개 이상의 디스크 또는 디스크 스냅숏에 동일한 LUN이 있습니다.  
**해결 방법**: 중복 된 lun을 제거 하거나 변경 합니다.

*중복 된 소스 id가 입력 디스크에 있습니다. 원본 id는 각 디스크에 대해 고유 해야 합니다.*  
**원인**: 디스크 및/또는 디스크 스냅숏의 목록을 사용 하 여 이미지 버전을 만드는 경우 두 개 이상의 디스크 또는 디스크 스냅숏에 동일한 리소스 ID가 있습니다.  
**해결 방법**: 중복 된 디스크 원본 id를 제거 하거나 변경 합니다.

*속성 id <\> 경로 ' properties. storageProfile. <\> diskimages '이 (가) 잘못 되었습니다. '/Subscriptions/{subscriptionId} ' 또는 '/providers/{resourceProviderNamespace}/'로 시작 하는 정규화 된 리소스 Id가 있어야 합니다.*  
**원인**: <resourceID \> 값의 형식이 잘못 되었습니다.  
**해결 방법**: 리소스 ID가 올바른지 확인 합니다.

*원본 id: <resourceID는 \> 관리 되는 이미지, 가상 머신 또는 다른 갤러리 이미지 버전 이어야 합니다.*  
**원인**: <resourceID \> 값의 형식이 잘못 되었습니다.  
**해결 방법**: vm, 관리 되는 이미지 또는 갤러리 이미지 버전을 원본 이미지로 사용 하는 경우 vm, 관리 되는 이미지 또는 갤러리 이미지 버전의 리소스 ID가 올바른지 확인 합니다.

*원본 id: <resourceID는 \> 관리 디스크 또는 스냅숏 이어야 합니다.*  
**원인**: <resourceID \> 값의 형식이 잘못 되었습니다.  
**해결 방법**: 디스크 및/또는 디스크 스냅숏을 이미지 버전의 원본으로 사용 하는 경우 디스크 및/또는 디스크 스냅숏의 리소스 id가 올바른지 확인 합니다.

*<resourceID에서 갤러리 이미지 버전을 만들 수 없습니다. \> 부모 갤러리 이미지의 OS 상태 (<osstate \_ 1 \> )는 osstate 2 <되지 않기 때문입니다 \_ \> .*  
**원인**: 운영 체제 상태 (일반화 또는 특수)가 이미지 정의에 지정 된 운영 체제 상태와 일치 하지 않습니다.  
**해결 방법**: <osstate 1의 운영 체제 상태를 사용 하는 vm을 기반으로 하는 원본을 선택 \_ \> 하거나 <osstate 2 기반 vm에 대 한 새 이미지 정의를 만듭니다 \_ \> .

*Id가 ' <resourceID ' 인 리소스의 \> 하이퍼바이저 생성 [' <v # 1 ']이 (가) \_ \> 부모 갤러리 이미지 하이퍼바이저 생성 [' <v # \_ 2 \> ']과 (와) 다릅니다.*  
**원인**: 이미지 버전의 하이퍼바이저 생성이 이미지 정의에 지정 된 하이퍼바이저 생성과 일치 하지 않습니다. 이미지 정의 운영 체제는 <V # \_ 1 이며 \> 이미지 버전 운영 체제는 <v # \_ 2입니다 \> .  
**해결 방법**: 이미지 정의와 동일한 하이퍼바이저 생성을 사용 하 여 소스를 선택 하거나 이미지 버전과 동일한 하이퍼바이저 생성을 포함 하는 새 이미지 정의를 만들고 선택 합니다.

*Id가 ' <resourceID ' 인 리소스의 \> os 유형 [' <OsType 1 ']이 (가) \_ \> 부모 갤러리 이미지 os 유형 생성 [' <OsType \_ 2 \> ']과 (와) 다릅니다.*  
**원인**: 이미지 버전의 하이퍼바이저 생성이 이미지 정의에 지정 된 하이퍼바이저 생성과 일치 하지 않습니다. 이미지 정의 <운영 체제는 OsType \_ 1 이며 \> 이미지 버전 운영 체제는 OsType \_ 2 <\> .  
**해결 방법**: 이미지 정의와 동일한 운영 체제 (Linux/Windows)를 사용 하 여 원본을 선택 하거나, 이미지 버전과 운영 체제를 생성 하는 새 이미지 정의를 만들고 선택 합니다.

*원본 가상 컴퓨터 <resourceID \> 에는 임시 OS 디스크를 사용할 수 없습니다.*  
**원인**: resourceID <의 원본에 \> 임시 OS 디스크가 포함 되어 있습니다. 공유 이미지 갤러리는 현재 삭제 된 OS 디스크를 지원 하지 않습니다.  
**해결 방법**: 사용 후 삭제 OS 디스크를 사용 하지 않는 VM을 기반으로 하는 다른 원본을 선택 합니다.

*원본 가상 컴퓨터 <resourceID \> \> 는 UltraSSD 계정 형식에 저장 된 디스크 [' <디스크가 ']를 포함할 수 없습니다.*  
**원인**: 디스크 <디스크가는 \> 울트라 SSD 디스크입니다. 공유 이미지 갤러리는 현재 울트라 SSD 디스크를 지원 하지 않습니다.  
**해결 방법**: 프리미엄 SSD, 표준 SSD 및/또는 관리 디스크 표준 HDD 포함 된 원본을 사용 합니다.

*Managed Disks에서 원본 가상 머신 <resourceID \> 를 만들어야 합니다.*  
**원인**: resourceID <의 가상 머신에서 \> 관리 되지 않는 디스크를 사용 합니다.  
**해결 방법**: 프리미엄 SSD, 표준 SSD 및/또는 표준 HDD 관리 디스크만 포함 된 VM을 기반으로 원본을 사용 합니다.

*' <resourceID ' 원본에 요청이 너무 많습니다 \> . 원본에서 요청 수를 줄이거나 잠시 기다린 후 다시 시도 하세요.*  
**원인**: 요청 수가 너무 많아이 이미지 버전의 소스를 현재 제한 하 고 있습니다.  
**해결 방법**: 나중에 이미지 버전을 만들어 보세요.

*' <diskEncryptionSetID ' 디스크 암호화 집합이 \> 갤러리 리소스와 동일한 구독 ' <subscriptionID '에 있어야 합니다 \> .*  
**원인**: 디스크 암호화 집합은 생성 된 것과 동일한 구독 및 지역 에서만 사용할 수 있습니다.  
**해결 방법**: 이미지 버전과 동일한 구독 및 지역에서 암호화 집합을 만들거나 사용 합니다.

*암호화 된 원본: ' <resourceID \> '는 현재 갤러리 이미지 버전 구독 ' <subscriptionID 1 '과 (와) 다른 구독 ID에 \_ \> 있습니다. 암호화 되지 않은 원본으로 다시 시도 하거나 소스의 ' <subcriptionID 2 ' 구독을 사용 \_ 하 여 \> 갤러리 이미지 버전을 만드세요.*  
**원인**: 공유 이미지 갤러리는 현재 원본 이미지가 암호화 된 경우 다른 원본 이미지의 다른 구독에서 이미지 버전을 만드는 것을 지원 하지 않습니다.  
**해결 방법**: 암호화 되지 않은 소스를 사용 하거나 원본과 동일한 구독에서 이미지 버전을 만듭니다.

*DiskEncryptionSetID <디스크 암호화 집합을 \> 찾을 수 없습니다.*  
**원인**: 디스크 암호화가 올바르지 않을 수 있습니다.  
**해결 방법**: 디스크 암호화 집합의 리소스 ID가 올바른지 확인 합니다.

*이미지 버전 이름이 잘못 되었습니다. 이미지 버전 이름은 주 (int) 뒤에와 야 합니다. Minor (int). Patch (int) 형식 (예: 1.0.0, 2018.12.1 등)*  
**원인**: 이미지 버전의 올바른 형식은 마침표로 구분 되는 3 개의 정수입니다. 이미지 버전 이름이 올바른 형식을 충족 하지 않습니다.  
**해결 방법**: 주 형식 (int)을 따르는 이미지 버전 이름을 사용 합니다. Minor (int). Patch (int). 예: 1.0.0. 또는 2018.12.1.

*매개 변수 galleryArtifactVersion. publishingProfile. dataDiskImages. Disk; 값이 잘못 되었습니다.*  
**원인**: 데이터 디스크 이미지에 사용 되는 디스크 암호화 집합의 리소스 ID가 잘못 된 형식을 사용 합니다.  
**해결 방법**: 디스크 암호화 집합의 리소스 ID가/Subscriptions/<subscriptionID \> /Resourcegroups/<ResourceGroupName/providers/Microsoft.Compute/<diskEncryptionSetName 형식으로 되어 있는지 확인 \> \> 합니다.

*매개 변수 galleryArtifactVersion. publishingProfile. Diskimage. Disk Setid의 값이 잘못 되었습니다.*  
**원인**: OS 디스크 이미지에서 사용 되는 디스크 암호화 집합의 리소스 ID가 잘못 된 형식을 사용 합니다.  
**해결 방법**: 디스크 암호화 집합의 리소스 ID가/Subscriptions/<subscriptionID \> /Resourcegroups/<ResourceGroupName/providers/Microsoft.Compute/<diskEncryptionSetName 형식으로 되어 있는지 확인 \> \> 합니다.

*\> \> 업데이트 갤러리 이미지 버전 요청에 대해 지역 [<region]에 설정 된 디스크 암호화를 사용 하 여 새 데이터 디스크 이미지 암호화 lun [<번호]을 지정할 수 없습니다. 이 버전을 업데이트 하려면 새 lun을 제거 합니다. 데이터 디스크 이미지 암호화 설정을 변경 해야 하는 경우 올바른 설정을 사용 하 여 새 갤러리 이미지 버전을 만들어야 합니다.*  
**원인**: 기존 이미지 버전의 데이터 디스크에 암호화를 추가 했습니다. 기존 이미지 버전에는 암호화를 추가할 수 없습니다.  
**해결 방법**: 새 갤러리 이미지 버전을 만들거나 추가 된 암호화 설정을 제거 합니다.

*갤러리 아티팩트 버전 원본은 storageProfile에서 직접 또는 개별 OS 또는 데이터 디스크 내 에서만 지정할 수 있습니다. 원본 유형 (사용자 이미지, 스냅숏, 디스크, 가상 머신)은 하나만 제공할 수 있습니다.*  
**원인**: 소스 ID가 없습니다.  
**해결 방법**: 원본의 원본 ID가 존재 하는지 확인 합니다.

*소스를 찾을 수 없습니다. <resourceID \> . 소스가 있는지 확인 하세요.*  
**원인**: 원본의 리소스 ID가 잘못 되었을 수 있습니다.  
**해결 방법**: 원본의 리소스 ID가 올바른지 확인 합니다.

*' \_ \> \> <지역 \_ 2 ' 지역에 있는 해당 디스크에 대해 디스크 암호화 설정 ' <diskpublishingProfile; '이 (가) 사용 되기 때문에 대상 영역 ' <지역 1 '의 디스크 ' galleryArtifactVersion .에 디스크 암호화 집합이 필요 합니다. \>*  
**원인**: <지역 2의 OS 디스크에서 암호화를 사용 \_ \> 했지만 <지역 1에는 사용 하지 \_ 않았습니다 \> .  
**해결 방법**: OS 디스크에서 암호화를 사용 하는 경우 모든 지역에서 암호화를 사용 합니다.

*' \> \_ \> <diskencryptionsetid ' 디스크 암호화 집합이 ' \> <지역 \_ 2 ' 지역에서 해당 하는 디스크에 사용 되 고 있으므로 대상 영역 ' <지역 1 '의 디스크 \> ' LUN <번호 '에 디스크 암호화 집합이 필요 합니다.*  
**원인**: 암호화는 <영역 2의 LUN <번호에서 데이터 디스크에 사용 \> \_ \> 되었지만 <지역 1에는 사용 되지 \_ 않았습니다 \> .  
**해결 방법**: 데이터 디스크에서 암호화를 사용 하는 경우 모든 지역에서 암호화를 사용 합니다.

*DataDiskImages에 잘못 된 lun [<number \> ]가 지정 되었습니다. Lun은 다음 값 [' 0, 9 '] 중 하나 여야 합니다.*  
**원인**: 암호화에 지정 된 LUN이 VM에 연결 된 디스크에 대 한 lun과 일치 하지 않습니다.  
**해결 방법**: 암호화의 LUN을 VM에 있는 데이터 디스크의 lun으로 변경 합니다.

*\>대상 영역 ' <region ' dataDiskImages에 중복 된 ' <number ' lun이 지정 되었습니다. \>*  
**원인**: <영역에서 사용 되는 암호화 설정이 \> LUN을 두 번 이상 지정 했습니다.  
**해결 방법**: \> 모든 lun이 <지역에서 고유한 지 확인 하기 위해 <지역에서 lun을 변경 \> 합니다.

*OSDiskImage 및 DataDiskImage는 동일한 blob <sourceID를 가리킬 수 없습니다.\>*  
**원인**: OS 디스크의 원본 및 하나 이상의 데이터 디스크가 고유 하지 않습니다.  
**해결 방법**: os 디스크 및/또는 데이터 디스크의 원본을 변경 하 여 os 디스크와 각 데이터 디스크가 고유한 지 확인 합니다.

*대상 게시 영역에서는 중복 된 영역을 사용할 수 없습니다.*  
**원인**: 지역이 게시 영역 사이에 두 번 이상 나열 됩니다.  
**해결 방법**: 중복 된 영역을 제거 합니다.

*새 데이터 디스크를 추가 하거나 기존 이미지에서 데이터 디스크의 LUN을 변경 하는 것은 허용 되지 않습니다.*  
**원인**: 이미지 버전에 대 한 업데이트 호출에 새 데이터 디스크가 포함 되어 있거나 디스크에 대 한 새 LUN이 있습니다.  
**해결 방법**: 기존 이미지 버전의 lun 및 데이터 디스크를 사용 합니다.

*DiskEncryptionSetID <디스크 암호화 집합은 \> 갤러리 리소스와 동일한 구독 <subscriptionID에 있어야 합니다 \> .*  
**원인**: 공유 이미지 갤러리는 현재 다른 구독에 설정 된 디스크 암호화를 사용 하도록 지원 하지 않습니다.  
**해결 방법**: 동일한 구독에서 이미지 버전 및 디스크 암호화 집합을 만듭니다.

## <a name="creating-or-updating-a-vm-or-scale-sets-from-an-image-version"></a>이미지 버전에서 VM 또는 확장 집합 만들기 또는 업데이트 ##

*클라이언트의 범위 <resourceID에서 ' Microsoft. Compute/갤러리/이미지/버전/읽기 ' 작업을 수행할 수 있는 권한이 있지만 \> , 현재 테 넌 트 <tenantId1에는 \> 연결 된 구독 <subscriptionId2에 액세스할 수 있는 권한이 없습니다 \> .*  
**원인**: 다른 테 넌 트에서 SIG 이미지를 통해 가상 머신 또는 확장 집합이 생성 되었습니다. 가상 머신 또는 확장 집합을 변경 하려고 했지만 이미지를 소유 하는 구독에 대 한 액세스 권한이 없습니다.  
**해결 방법**: 이미지 버전의 구독 소유자에 게 문의 하 여 이미지 버전에 대 한 읽기 권한을 부여 합니다.

*<resourceID 갤러리 이미지는 \> <지역 지역에서 사용할 수 없습니다 \> . 이 지역에 복제 하려면 이미지 소유자에 게 문의 하거나 요청 된 지역을 변경 하세요.*  
**원인**: 갤러리 이미지에 대 한 게시 된 지역 목록에 없는 지역에서 VM을 만드는 중입니다.  
**해결 방법**: 이미지를 영역에 복제 하거나 갤러리 이미지의 게시 영역에 있는 지역 중 하나에서 VM을 만듭니다.

*' OsProfile ' 매개 변수는 허용 되지 않습니다.*  
**원인**: 특수 이미지 버전에서 만든 VM에 대 한 관리자 사용자 이름, 암호 또는 SSH 키가 제공 되었습니다.  
**해결 방법**: 해당 이미지에서 VM을 만들려는 경우 관리자 사용자 이름, 암호 또는 SSH 키를 포함 하지 마세요. 그렇지 않으면 일반화 된 이미지 버전을 사용 하 여 관리자 사용자 이름, 암호 또는 SSH 키를 제공 합니다.

*필수 매개 변수 ' osProfile '가 누락 되었습니다 (null).*  
**원인**: VM이 일반화 된 이미지에서 만들어지고 관리자 사용자 이름, 암호 또는 SSH 키가 누락 되었습니다. 일반화 된 이미지는 관리자 사용자 이름, 암호 또는 SSH 키를 유지 하지 않기 때문에 VM 또는 확장 집합을 만드는 동안 이러한 필드를 지정 해야 합니다.  
**해결 방법**: 관리자 사용자 이름, 암호 또는 SSH 키를 지정 하거나 특수 이미지 버전을 사용 합니다.

*\>부모 갤러리 이미지의 OS 상태 (' 특수화 됨 ')가 ' 일반화 '가 아니기 때문에 <resourceID에서 갤러리 이미지 버전을 만들 수 없습니다.*  
**원인**: 이미지 버전이 일반화 된 원본에서 만들어지지만 부모 정의는 특수 합니다.  
**해결 방법**: 특수 한 소스를 사용 하 여 이미지 버전을 만들거나 일반화 된 부모 정의를 사용 합니다.

*\>VM 크기 집합의 현재 OS 상태가 일반화 되어 있으므로 가상 머신 확장 집합 <vmssName으로 업데이트할 수 없습니다 .이는 특수화 된 업데이트 된 갤러리 이미지 OS 상태와 다릅니다.*  
**원인**: 확장 집합의 현재 원본 이미지가 일반화 된 원본 이미지 이지만 특수화 된 원본 이미지를 사용 하 여 업데이트 되 고 있습니다. 확장 집합의 현재 원본 이미지와 새 원본 이미지의 상태는 동일 해야 합니다.  
**해결 방법**: 확장 집합을 업데이트 하려면 일반화 된 이미지 버전을 사용 합니다.

*공유 이미지 <갤러리에서 <diskEncryptionSetId가 설정 된 디스크 암호화가 \> \> 구독 <subscriptionId1에 속하므로 \> 구독 <subscriptionId2에서 리소스 ' '에 사용할 수 없습니다.\>*  
**원인**: 이미지 버전을 암호화 하는 데 사용 되는 디스크 암호화 집합이 이미지 버전을 호스트 하는 구독과 다른 구독에 있습니다.  
**해결 방법**: 이미지 버전 및 디스크 암호화 집합에 동일한 구독을 사용 합니다.

*VM 또는 가상 머신 확장 집합을 만드는 시간이 깁니다.*  
**해결 방법**: VM 또는 가상 머신 확장 집합을 만들려는 이미지 버전의 **OSType** 에 이미지 버전을 만드는 데 사용한 것과 동일한 원본 **OSType** 있는지 확인 합니다. 

## <a name="creating-a-disk-from-an-image-version"></a>이미지 버전에서 디스크 만들기 ##

*ImageReference 매개 변수 값이 잘못 되었습니다.*  
**원인**: SIG 이미지 버전에서 디스크로 내보내려고 했지만 이미지에 존재 하지 않는 LUN 위치를 사용 했습니다.    
**해결 방법**: 이미지 버전을 확인 하 여 사용 중인 LUN 위치를 확인 합니다.

## <a name="sharing-resources"></a>리소스 공유

Azure [RBAC (역할 기반 액세스 제어)](../role-based-access-control/rbac-and-directory-admin-roles.md)를 사용 하 여 구독 간에 이미지 갤러리, 이미지 정의 및 이미지 버전 리소스를 공유할 수 있습니다. 

## <a name="replication-speed"></a>복제 속도

**--Expand connectingtosource** 플래그를 사용 하 여 지정 된 모든 대상 지역에 대 한 복제가 완료 되었는지 확인 합니다. 그렇지 않은 경우 작업이 완료 될 때까지 최대 6 시간 동안 기다립니다. 작업이 실패하면 명령을 다시 트리거하여 이미지 버전을 만들고 복제하세요. 이미지 버전이 복제 되는 대상 지역이 많은 경우 단계에서 복제를 수행 하는 것이 좋습니다.

## <a name="azure-limits-and-quotas"></a>Azure 한도 및 할당량 

[Azure 한도 및 할당량](../azure-resource-manager/management/azure-subscription-service-limits.md)은 모든 공유 이미지 갤러리, 이미지 정의 및 이미지 버전 리소스에 적용됩니다. 구독에 대 한 제한 내에 있는지 확인 합니다. 


## <a name="next-steps"></a>다음 단계

[공유 이미지 갤러리](./shared-image-galleries.md)에 대해 자세히 알아보세요.