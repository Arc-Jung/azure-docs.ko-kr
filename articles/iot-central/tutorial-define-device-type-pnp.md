---
title: Azure IoT Central에서 새 디바이스 유형 정의 | Microsoft Docs
description: 이 자습서에서는 작성기처럼 Azure IoT Central 애플리케이션에서 새 디바이스 유형을 만드는 방법을 보여 줍니다. 유형에 대한 원격 분석, 상태, 속성 및 명령을 정의합니다.
author: dominicbetts
ms.author: dobett
ms.date: 08/06/2019
ms.topic: tutorial
ms.service: iot-central
services: iot-central
ms.custom: mvc
manager: philmea
ms.openlocfilehash: a622aa85d1d0a9dcd5d5ad9b2b30e7a3120ea974
ms.sourcegitcommit: b3bad696c2b776d018d9f06b6e27bffaa3c0d9c3
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/21/2019
ms.locfileid: "69878634"
---
# <a name="tutorial-define-a-new-device-type-in-your-azure-iot-central-application-preview-features"></a>자습서: Azure IoT Central 애플리케이션에서 새 디바이스 유형 정의(미리 보기 기능)

[!INCLUDE [iot-central-pnp-original](../../includes/iot-central-pnp-original-note.md)]

이 자습서에서는 작성기로서 Microsoft Azure IoT Central 애플리케이션에서 새 디바이스 유형을 정의하기 위해 디바이스 템플릿을 사용하는 방법을 알려줍니다. 디바이스 템플릿은 디바이스의 기능을 정의합니다. 기능에는 디바이스에서 보내는 원격 분석, 디바이스 속성 및 디바이스에서 응답하는 명령이 포함됩니다.

이 자습서에서는 **환경 센서** 디바이스 템플릿을 만듭니다. 환경 센서 디바이스는 다음과 같습니다.

* 원격 분석(예: 온도)을 보냅니다.
* 디바이스별 속성(예: 밝기 수준)을 보고합니다.
* 명령(예: 설정 및 해제)에 응답합니다.
* 일반 디바이스 속성(예: 펌웨어 버전 및 일련 번호)을 보고합니다.

이 자습서에서는 다음 방법에 대해 알아봅니다.

> [!div class="checklist"]
> * 새 디바이스 템플릿을 만듭니다.
> * 디바이스 기능 모델을 가져옵니다.
> * 클라우드 속성을 만듭니다.
> * 디바이스 원격 분석에 대한 시각화를 정의합니다.
> * 디바이스 템플릿을 게시합니다.
> * 디바이스 템플릿에 대한 시뮬레이션된 디바이스를 만듭니다.
> * 시뮬레이션된 디바이스를 봅니다.

## <a name="prerequisites"></a>필수 조건

이 자습서를 완료하려면 Azure IoT Central 애플리케이션이 필요합니다. [Azure IoT Central 애플리케이션](quick-deploy-iot-central-pnp.md?toc=/azure/iot-central-pnp/toc.json&bc=/azure/iot-central-pnp/breadcrumb/toc.json) 빠른 시작을 완료한 경우 빠른 시작에서 만든 애플리케이션을 다시 사용할 수 있습니다. 그렇지 않은 경우 빈 Azure IoT Central 애플리케이션을 만들려면 다음 단계를 완료합니다.

1. Azure IoT Central [애플리케이션 관리자](https://aka.ms/iotcentral) 페이지로 이동합니다.

1. Azure 구독이 있으면 액세스하는 데 사용하는 자격 증명을 사용하여 로그인하고, 그렇지 않으면 Microsoft 계정을 사용하여 서명합니다.

    ![조직 계정 입력](./media/tutorial-define-device-type-pnp/sign-in.png)

1. 새로운 Azure IoT Central 애플리케이션 만들기를 시작하려면 **새 애플리케이션**을 선택합니다.

IoT 플러그 앤 플레이를 포함한 미리 보기 기능을 사용하는 새 Azure IoT Central 애플리케이션을 만들려면 다음을 수행합니다.

1. **평가판**을 선택합니다. 평가판 애플리케이션을 만드는 경우 Azure 구독이 필요하지 않습니다.

    디렉터리 및 구독에 대한 자세한 내용은 [애플리케이션 만들기 빠른 시작](quick-deploy-iot-central-pnp.md?toc=/azure/iot-central-pnp/toc.json&bc=/azure/iot-central-pnp/breadcrumb/toc.json)을 참조하세요.

1. **미리 보기 애플리케이션**을 선택합니다.

1. 선택적으로 **Contoso 공조 장치** 같은 친숙한 애플리케이션 이름을 선택할 수 있습니다. Azure IoT Central은 사용자를 위해 고유한 URL 접두사를 생성합니다. 이 URL 접두사를 더욱 기억하기 쉬운 것으로 변경할 수 있습니다.

1. 평가판 애플리케이션을 만드는 경우 연락처 세부 정보를 제공해야 합니다.

1. **만들기**를 선택합니다.

    ![Azure IoT Central 애플리케이션 페이지](./media/tutorial-define-device-type-pnp/iotcentralcreate.png)

    자세한 내용은 [애플리케이션 만들기 빠른 시작](quick-deploy-iot-central-pnp.md?toc=/azure/iot-central-pnp/toc.json&bc=/azure/iot-central-pnp/breadcrumb/toc.json)을 참조하세요.

또한 [IoT 플러그 앤 플레이](https://aka.ms/iot-pnp-docs) 디바이스 기능 모델이 포함된 **EnvironmentalSensorInline.capabilitymodel.json** 파일의 로컬 복사본이 필요합니다. [여기](https://raw.githubusercontent.com/Azure/IoTPlugandPlay/master/samples/EnvironmentalSensorInline.capabilitymodel.json)에서 다운로드할 수 있습니다. 마우스 오른쪽 단추로 페이지를 클릭하고, **다른 이름으로 저장**을 선택합니다.

파일이 다운로드되면 텍스트 편집기에서 파일을 열고 `<YOUR_COMPANY_NAME_HERE>`의 두 인스턴스를 사용자의 이름으로 바꿉니다. a-z, A-Z, 0-9 및 밑줄 문자만 사용합니다.

## <a name="create-a-template"></a>템플릿 만들기

작성기처럼 애플리케이션에서 디바이스 템플릿을 만들고 편집할 수 있습니다. 디바이스 템플릿이 게시되면 시뮬레이션된 디바이스를 생성하거나 디바이스 템플릿을 구현하는 실제 디바이스를 연결할 수 있습니다. 시뮬레이션된 디바이스를 사용하면 실제 디바이스를 연결하기 전에 애플리케이션의 동작을 테스트할 수 있습니다.

새 디바이스 템플릿을 애플리케이션에 추가하려면 **디바이스 템플릿** 페이지로 이동합니다. 이렇게 하려면 왼쪽 탐색 메뉴에서 **디바이스 템플릿** 탭을 선택합니다.

![디바이스 템플릿 페이지](./media/tutorial-define-device-type-pnp/devicedefinitions.png)

### <a name="add-a-device-capability-model"></a>디바이스 기능 모델 추가

IoT Central에는 디바이스 기능 모델을 작성하기 위한 몇 가지 옵션이 있습니다. 사용자 지정 모델을 처음부터 만들거나, 파일에서 가져오거나, 디바이스 카탈로그에서 선택하거나, 디바이스 기능 모델이 퍼블릭 리포지토리에 게시된 디바이스 우선 연결을 통해 IoT 플러그 앤 플레이 디바이스를 연결하도록 선택할 수 있습니다. 이 자습서에서는 디바이스 기능 모델을 파일에서 가져옵니다.

다음 단계에서는 **환경 센서** 디바이스의 기능 모델을 가져오는 방법을 보여 줍니다. 이러한 디바이스는 온도와 같은 원격 분석을 애플리케이션에 보냅니다.

1. 새 디바이스 템플릿을 추가하려면 **디바이스 템플릿** 페이지에서 **+ 새로 만들기**를 선택합니다.

1. 디바이스 기능 모델 목록에서 **사용자 지정**을 선택합니다.

1. 디바이스 템플릿 이름으로 **환경 센서**를 입력합니다.

1. **기능 모델 가져오기**를 선택하여 JSON 파일에서 새 디바이스 기능 모델을 만듭니다. **EnvironmentalSensorInline.capabilitymodel.json** 파일을 로컬 머신에 저장한 폴더로 이동합니다. **EnvironmentalSensorInline.capabilitymodel.json** 파일을 선택한 다음, 가져오기를 선택합니다. 환경 센서 기능 모델에 **환경 센서** 및 **디바이스 정보** 인터페이스가 포함됩니다.

    ![환경 센서 디바이스 기능 모델](./media/tutorial-define-device-type-pnp/newdevicecapabilitymodel.png)

    이러한 인터페이스는 **환경 센서** 디바이스의 기능을 정의합니다. 기능에는 디바이스에서 보내는 원격 분석, 디바이스에서 보고하는 속성 및 디바이스에서 응답하는 명령이 포함됩니다.

### <a name="add-cloud-properties"></a>클라우드 속성 추가

디바이스 템플릿에는 클라우드 속성이 포함될 수 있습니다. 클라우드 속성은 IoT Central 애플리케이션에만 있으며 디바이스에서 보내거나 받지 않습니다.

1. **클라우드 속성**, **+ 클라우드 속성 추가**를 차례로 선택합니다. 다음 표의 정보를 사용하여 클라우드 속성을 디바이스 템플릿에 추가합니다.

    | 표시 이름      | 의미 체계 유형 | 스키마 |
    | ----------------- | ------------- | ------ |
    | 마지막 서비스 날짜 | 없음          | Date   |
    | 고객 이름     | 없음          | 문자열 |

1. **저장**을 선택하여 변경 내용을 저장합니다.

    ![클라우드 속성](media/tutorial-define-device-type-pnp/cloudproperties.png)

### <a name="add-customizations"></a>사용자 지정 추가

인터페이스를 수정하거나 디바이스 기능 모델의 버전을 관리할 필요가 없는 기능에 IoT Central 관련 기능을 추가해야 하는 경우 사용자 지정을 사용합니다. 기능 모델이 초안 또는 게시 상태이면 필드를 사용자 지정할 수 있습니다. 인터페이스 호환성이 손상되지 않는 필드만 사용자 지정할 수 있습니다. 예를 들어 다음을 수행할 수 있습니다.

- 기능의 표시 이름과 단위를 사용자 지정합니다.
- 값이 차트에 표시될 때 사용할 기본 색을 추가합니다.
- 속성의 초기 값, 최솟값 및 최댓값을 지정합니다.

기능 이름 또는 기능 유형은 사용자 지정할 수 없습니다.


## <a name="create-views"></a>뷰 만들기

작성기처럼 환경 센서 디바이스와 관련된 정보를 운영자에게 표시하도록 애플리케이션을 사용자 지정할 수 있습니다. 사용자 지정을 사용하면 운영자가 애플리케이션에 연결된 환경 센서 디바이스를 관리할 수 있습니다. 운영자가 디바이스와 상호 작용하는 데 사용할 다음 두 가지 유형의 보기를 만들 수 있습니다.

* 디바이스 및 클라우드 속성을 보고 편집하는 양식
* 디바이스를 시각화하는 대시보드

### <a name="generate-default-views"></a>기본 보기 생성

기본 보기를 생성하면 중요한 디바이스 정보를 빠르게 시각화할 수 있습니다. 디바이스 템플릿에 대해 최대 세 개의 기본 보기를 생성할 수 있습니다.

* **명령** 보기를 사용하면 운영자가 명령을 디바이스에 보낼 수 있습니다.
* **개요** 보기는 차트와 메트릭을 사용하여 디바이스 원격 분석을 표시합니다.
* **정보** 보기는 디바이스 속성을 표시합니다.

**기본 보기 생성**을 선택하면 해당 보기가 디바이스 템플릿의 **보기** 섹션 아래에 자동으로 추가됩니다.

### <a name="configure-a-view-to-visualize-devices"></a>디바이스를 시각화하도록 보기 구성

디바이스 대시보드를 사용하면 운영자가 차트와 메트릭을 사용하여 디바이스를 시각화할 수 있습니다. 작성기로서 디바이스 대시보드에 표시되는 정보를 정의할 수 있습니다. 디바이스에 대해 여러 개의 대시보드를 정의할 수 있습니다. 환경 센서 원격 분석을 시각화하는 대시보드를 만들려면 **보기**, **디바이스를 시각화하는 중**을 차례로 선택합니다.

1. 모든 디바이스 속성, 클라우드 속성, 원격 분석 및 정적 옵션이 오른쪽 패널에 나열됩니다. 이러한 항목 중 하나를 보기로 끌어서 놓을 수 있습니다. 속성을 보기로 끌어옵니다. 기어 아이콘을 사용하여 타일을 구성할 수 있습니다.

1. 원격 분석을 그리는 차트를 추가하려면 **습도** 및 **온도**, **결합**을 차례로 선택합니다. 이 차트를 다른 형식(예: 원형 차트 또는 막대형 차트)으로 보려면 타일 위쪽의 **시각화 변경** 단추를 선택합니다.

1. **저장**을 선택하여 보기를 저장합니다.

다른 속성 또는 원격 분석 값을 표시하는 타일을 추가할 수 있습니다. 정적 텍스트, 링크 및 이미지도 추가할 수 있습니다. 대시보드에서 타일을 이동하거나 크기를 조정하려면 마우스 포인터를 타일 위로 이동하여 해당 타일을 새 위치로 끌거나 크기를 조정합니다.

### <a name="add-a-device-form"></a>디바이스 양식 추가

디바이스 양식을 사용하면 운영자가 쓰기 가능한 디바이스 속성 및 클라우드 속성을 편집할 수 있습니다. 작성기처럼 여러 양식을 정의하고, 각 양식에 표시할 디바이스 및 클라우드 속성을 선택할 수 있습니다. 또한 읽기 전용 디바이스 속성을 양식에 표시할 수 있습니다.

환경 센서 속성을 보고 편집할 양식을 만들려면 다음을 수행합니다.

1. **디바이스 및 클라우드 데이터를 편집하는 중** 타일을 선택합니다.

1. **환경 센서 속성**이라는 양식 이름을 입력합니다.

1. **고객 이름** 및 **마지막 서비스 날짜** 클라우드 속성을 양식의 기존 섹션으로 끕니다.

1. **밝기 수준** 및 **디바이스 상태** 디바이스 속성을 선택합니다. 그런 다음, **섹션 추가**를 선택합니다. 섹션의 제목을 **센서 속성**으로 편집합니다. **적용**을 선택합니다.

1. **남아 있는 배터리**, **디바이스 모델**, **펌웨어 버전**, **제조업체** 및 **일련 번호** 디바이스 속성을 선택합니다. 그런 다음, **섹션 추가**를 선택합니다. 섹션의 제목을 **디바이스 속성**으로 편집합니다. **적용**을 선택합니다.

1. **저장**을 선택하여 보기를 저장합니다.


## <a name="publish-device-template"></a>디바이스 템플릿 게시

시뮬레이션된 환경 센서를 만들거나 실제 환경 센서를 연결하려면 먼저 디바이스 템플릿을 게시해야 합니다.

디바이스 템플릿을 게시하려면 다음을 수행합니다.

1. **디바이스 템플릿** 페이지에서 디바이스 템플릿으로 이동합니다.

1. **게시**를 선택합니다.

1. **디바이스 템플릿 게시** 대화 상자에서 **게시**를 선택합니다.

    ![게시된 모델](media/tutorial-define-device-type-pnp/publishedmodel.png)

디바이스 템플릿이 게시되면 해당 템플릿이 **디바이스** 페이지 및 운영자에게 표시됩니다. 게시된 디바이스 템플릿에서 새 버전을 만들어야 디바이스 기능 모델을 편집할 수 있습니다. 그러나 클라우드 속성, 사용자 지정 및 보기는 버전 관리를 수행하지 않고도 게시된 디바이스 템플릿에서 업데이트할 수 있습니다. 변경되면 **게시**를 선택하여 해당 변경 내용을 운영자에게 푸시합니다.

## <a name="next-steps"></a>다음 단계

이 자습서에서는 다음 방법에 대해 알아보았습니다.

* 새 디바이스 템플릿 만들기
* 디바이스 기능 모델을 가져옵니다.
* 클라우드 속성을 만듭니다.
* 사용자 지정을 만듭니다.
* 디바이스 원격 분석에 대한 시각화를 정의합니다.
* 디바이스 템플릿을 게시합니다.

Azure IoT Central 애플리케이션에서 디바이스 템플릿을 만들었으므로 제안되는 다음 단계는 다음과 같습니다.

> [!div class="nextstepaction"]
> [디바이스 추가](tutorial-add-device-pnp.md?toc=/azure/iot-central-pnp/toc.json&bc=/azure/iot-central-pnp/breadcrumb/toc.json)
