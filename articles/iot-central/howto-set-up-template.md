---
title: Azure IoT Central 애플리케이션에서 디바이스 템플릿 설정 | Microsoft Docs
description: 측정값, 설정, 속성, 규칙 및 대시보드로 디바이스 템플릿을 설정하는 방법을 알아봅니다.
author: viv-liu
ms.author: viviali
ms.date: 06/19/2019
ms.topic: conceptual
ms.service: iot-central
services: iot-central
manager: peterpr
ms.openlocfilehash: 63c0a04a6d18d6af850b1492d2efa9df9aa65219
ms.sourcegitcommit: b3bad696c2b776d018d9f06b6e27bffaa3c0d9c3
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/21/2019
ms.locfileid: "69877374"
---
# <a name="set-up-a-device-template"></a>디바이스 템플릿 설정

[!INCLUDE [iot-central-original-pnp](../../includes/iot-central-original-pnp-note.md)]

디바이스 템플릿은 Azure IoT Central 애플리케이션에 연결하는 디바이스 유형의 특징과 동작을 정의하는 청사진입니다.

예를 들어 작성기는 다음과 같은 특징을 가진 연결 된 팬의 장치 템플릿을 만들 수 있습니다.

- 온도 원격 분석 측정값
- 위치 측정
- 팬 모터 오류 이벤트 측정값
- 팬 작동 상태 측정값
- 팬 속도 설정
- 경고를 보내는 규칙
- 디바이스의 전체 보기를 제공하는 대시보드

운영자는 이 디바이스 템플릿에서 **fan-1**, **fan-2** 등의 이름을 가진 실제 팬 디바이스를 만들고 연결할 수 있습니다. 이 모든 팬에는 측정값, 설정, 속성 및 규칙과, 애플리케이션 사용자가 모니터링하고 관리할 수 있는 대시보드가 있습니다.

> [!NOTE]
> 작성자와 관리자만이 디바이스 템플릿을 만들고, 편집하고, 삭제할 수 있습니다. 모든 사용자는 기존 디바이스 템플릿의 **Device Explorer** 페이지에서 디바이스를 만들 수 있습니다.

## <a name="create-a-device-template"></a>디바이스 템플릿 만들기

1. **디바이스 템플릿** 페이지로 이동합니다.

2. 템플릿을 만들려면 먼저 **+ 새로 만들기**를 선택 합니다.

3. 신속 하 게 시작 하려면 미리 작성 된 기존 템플릿을 선택 합니다. 그렇지 않으면 **사용자 지정**을 선택 하 고 이름을 입력 한 다음 **만들기** 를 클릭 하 여 사용자 고유의 템플릿을 처음부터 빌드합니다.

   ![장치 템플릿 라이브러리](./media/howto-set-up-template/newtemplate.png)

4. 사용자 지정 템플릿을 만들 때 새 장치 템플릿에 대 한 **장치 세부 정보** 페이지가 표시 됩니다. 디바이스 템플릿을 만들면 IoT Central에서 시뮬레이션된 디바이스를 자동으로 만듭니다. 시뮬레이션된 디바이스를 사용하면 실제 디바이스를 연결하기 전에 애플리케이션의 동작을 테스트할 수 있습니다.

다음 섹션에서는 **디바이스 템플릿** 페이지의 각 탭에 대해 설명합니다.

## <a name="measurements"></a>측정값

측정값은 디바이스에서 오는 데이터입니다. 디바이스 기능에 맞게 여러 측정값을 디바이스 템플릿에 추가할 수 있습니다.

- **원격 분석** 측정값은 시간이 지나면 디바이스를 통해 수집되는 숫자 데이터 요소입니다. 연속 스트림으로 표시됩니다. 온도를 예로 들 수 있습니다.
- **이벤트** 측정값은 디바이스에서 중요한 부분을 나타내는 특정 시점 데이터입니다. 심각도 수준은 이벤트의 중요도를 나타냅니다. 팬 모터 오류를 예로 들 수 있습니다.
- **상태** 측정값은 시간에 따른 디바이스 또는 디바이스 구성 요소의 상태를 나타냅니다. 예를 들어 팬 모드의 상태를 **작동 중**과 **중지됨**의 두 가지로 정의할 수 있습니다.
- **위치** 측정은의 일정 시간 동안 장치의 경도 및 위도 좌표입니다. 예를 들어 팬을 한 위치에서 다른 위치로 이동할 수 있습니다.

### <a name="create-a-telemetry-measurement"></a>원격 분석 측정값 만들기

새 원격 분석 측정을 추가 하려면 **+ 새 측정**을 선택 하 고, 측정 유형으로 **원격 분석** 을 선택 하 고, 양식에 세부 정보를 입력 합니다.

> [!NOTE]
> 실제 디바이스를 연결할 때 원격 분석 측정값이 애플리케이션에 표시되려면 디바이스 템플릿의 필드 이름이 해당 디바이스 코드의 속성 이름과 일치해야 합니다. 다음 섹션에서 디바이스 템플릿 정의를 계속하면서 설정, 디바이스 속성 및 명령을 구성할 때도 동일하게 수행합니다.

예를 들어 새로운 온도 원격 분석 측정값을 추가할 수 있습니다.

| 표시 이름        | 필드 이름    |  단위    | 최소   |최대|
| --------------------| ------------- |-----------|-------|---|
| 온도         | temp          |  degC     |  0    |100|

![온도 측정값에 대한 세부 정보가 있는 "원격 분석 만들기" 양식](./media/howto-set-up-template/measurementsform.png)

**저장**을 선택하면 측정값 목록에 **온도** 측정값이 나타납니다. 잠시 후에 시뮬레이션된 디바이스의 온도 데이터 시각화가 표시됩니다.

원격 분석을 표시할 때 다음 집계 옵션 중에서 선택할 수 있습니다. 평균, 최소값, 최대값, 합계 및 개수입니다. 차트의 기본 집계로 **평균이** 선택 됩니다.

> [!NOTE]
> 원격 분석 측정값의 데이터 형식은 부동 소수점 숫자입니다.

### <a name="create-an-event-measurement"></a>이벤트 측정값 만들기

새 이벤트 측정을 추가 하려면 **+ 새 측정** 을 선택 하 고 **이벤트** 를 측정 유형으로 선택 합니다. **이벤트 만들기** 양식의 세부 정보를 입력합니다.

이벤트의 **표시 이름**, **필드 이름** 및 **심각도** 세부 정보를 입력합니다. 사용 가능한 세 가지 수준의 심각도인 **오류**, **경고**, **정보** 중에서 선택할 수 있습니다.

예를 들어 새로운 **팬 모터 오류** 이벤트를 추가할 수 있습니다.

| 표시 이름        | 필드 이름    |  기본 심각도 |
| --------------------| ------------- |-----------|
| 팬 모터 오류     | fanmotorerror |  Error    |

![팬 모터 이벤트 세부 정보가 있는 "이벤트 만들기" 양식](./media/howto-set-up-template/eventmeasurementsform.png)

**저장**을 선택하면 측정값 목록에 **팬 모터 오류** 측정값이 나타납니다. 잠시 후에 시뮬레이션된 디바이스의 이벤트 데이터 시각화가 표시됩니다.

이벤트에 대 한 자세한 정보를 보려면 차트에서 이벤트 아이콘을 선택 합니다.

!["팬 모터 오류" 이벤트 세부 정보](./media/howto-set-up-template/eventmeasurementsdetail.png)

> [!NOTE]
> 이벤트 측정값의 데이터 형식은 문자열입니다.

### <a name="create-a-state-measurement"></a>상태 측정값 만들기

새 상태 측정을 추가 하려면 **+ 새 측정** 단추를 선택 하 고 **상태** 를 측정 유형으로 선택 합니다. **상태 만들기** 양식의 세부 정보를 입력합니다.

이벤트의 **표시 이름**, **필드 이름** 및 **값** 세부 정보를 입력합니다. 또한 각 값은 차트 및 테이블에 값을 표시할 때 사용할 표시 이름을 가질 수 있습니다.

예를 들어 디바이스에서 **작동 중** 및 **중지됨**의 두 가지 값을 보낼 수 있는 새로운 **팬 모드** 상태를 추가할 수 있습니다.

| 표시 이름 | 필드 이름    |  값 1   | 표시 이름 | 값 2    |표시 이름  |
| -------------| ------------- |----------- | -------------| -----------| -------------|
| 팬 모드     | fanmode       |  1         | 운영    |     0      | 중지됨      |

![팬 모드 세부 정보가 있는 "상태 편집" 양식](./media/howto-set-up-template/statemeasurementsform.png)

**저장**을 선택하면 측정값 목록에 **팬 모드** 측정값이 나타납니다. 잠시 후에 시뮬레이션된 디바이스의 상태 데이터 시각화가 표시됩니다.

짧은 기간 내에 디바이스에서 보낸 데이터 요소가 너무 많은 경우 상태 측정값은 다른 시각적 개체로 표시됩니다. 차트를 선택 하 여 해당 기간 내에 있는 모든 데이터 요소를 시간 순서로 표시 합니다. 시간 범위를 좁히고 차트에 표시되는 측정값을 볼 수도 있습니다.

> [!NOTE]
> 상태 측정값의 데이터 형식은 문자열입니다.

### <a name="create-a-location-measurement"></a>위치 측정 만들기

새 위치 측정을 추가 하려면 **+ 새 측정값**을 선택 하 고, 측정 유형으로 **위치** 를 선택 하 고, **측정값 만들기** 폼에 세부 정보를 입력 합니다.

예를 들어 새 위치 원격 분석 측정을 추가할 수 있습니다.

| 표시 이름        | 필드 이름    |
| --------------------| ------------- |
| 자산 위치      |  assetloc     |

![위치 측정에 대 한 세부 정보가 포함 된 "위치 만들기" 양식](./media/howto-set-up-template/locationmeasurementsform.png)

**저장**을 선택 하면 측정 목록에 **위치** 측정이 표시 됩니다. 잠시 동안 시뮬레이션 된 장치에서 위치 데이터의 시각화가 표시 됩니다.

위치를 표시할 때 다음 옵션 중에서 선택할 수 있습니다. 최신 위치 및 위치 기록. **위치 기록은** 선택한 시간 범위에 대해서만 적용 됩니다.

위치 측정의 데이터 형식은 경도, 위도 및 선택도가 포함 된 개체입니다. 다음 코드 조각에서는 JavaScript 구조를 보여 줍니다.

```javascript
assetloc: {
  lon: floating point number,
  lat: floating point number,
  alt?: floating point number
}
```

실제 장치가 연결 되 면 단위로 추가한 위치가 장치에서 보낸 값으로 업데이트 됩니다. 위치 측정을 구성한 후 [지도를 추가 하 여 장치 대시보드의 위치를 시각화할](#add-a-location-measurement-in-the-dashboard)수 있습니다.

## <a name="settings"></a>설정

설정은 디바이스를 제어합니다. 운영자는 설정을 통해 디바이스에 입력을 제공할 수 있습니다. 디바이스 템플릿에 여러 설정을 추가할 수 있으며, 설정은 운영자가 사용할 수 있도록 **설정** 탭에 타일로 표시됩니다. 숫자, 텍스트, 날짜, 토글 및 섹션 레이블의 다양 한 설정 유형을 추가할 수 있습니다.

설정의 상태는 세 가지 중 하나입니다. 디바이스가 이러한 상태를 보고합니다.

- **동기화됨**: 디바이스가 설정 값을 반영하도록 변경되었습니다.

- **Pending**: 디바이스가 현재 설정 값으로 변경되고 있습니다.

- **오류**: 디바이스에서 오류를 반환했습니다.

예를 들어 **설정을** 선택 하 고 새 **숫자** 설정을 입력 하 여 새 팬 속도 설정을 추가할 수 있습니다.

| 표시 이름  | 필드 이름    |  단위  | 10진수 |초기|
| --------------| ------------- |---------| ---------|---- |
| 팬 속도     | fanSpeed      | RPM     | 2        | 0   |

![속도 설정의 세부 정보가 있는 “숫자 구성” 양식](./media/howto-set-up-template/settingsform.png)

**저장**을 선택하면 **팬 속도** 설정이 타일로 나타납니다. 운영자는 **Device Explorer** 페이지의 설정을 사용하여 디바이스의 팬 속도를 변경할 수 있습니다.

## <a name="properties"></a>속성

속성은 장치 (예: 고정 장치 위치 및 일련 번호)와 연결 된 메타 데이터입니다. **속성** 탭에 타일로 표시되는 여러 개의 속성을 디바이스 템플릿에 추가합니다. 속성에는 숫자, 텍스트, 날짜, 토글, 장치 속성, 레이블 또는 고정 위치와 같은 형식이 있습니다. 연산자는 장치를 만들 때 속성의 값을 지정 하 고, 언제 든 지 이러한 값을 편집할 수 있습니다. 디바이스 속성은 읽기 전용이며 디바이스에서 애플리케이션으로 전송됩니다. 운영자는 장치 속성을 변경할 수 없습니다. 실제 장치가 연결 되 면 장치 속성 타일이 응용 프로그램에서 업데이트 됩니다.

속성에는 다음 두 카테고리가 있습니다.

- 디바이스가 IoT Central 애플리케이션에 보고하는 ‘디바이스 속성’. 디바이스 속성은 디바이스에서 보고하는 읽기 전용 값이며, 실제 디바이스가 연결되면 애플리케이션에서 업데이트됩니다.
- 애플리케이션에 저장되며 운영자가 편집할 수 있는 ‘애플리케이션 속성’. 응용 프로그램 속성은 응용 프로그램에만 저장 되며 장치에는 표시 되지 않습니다.

예를 들어 디바이스의 마지막 서비스 날짜를 **속성** 탭의 새 **Date** 속성(애플리케이션 속성)으로 추가할 수 있습니다.

| 표시 이름  | 필드 이름 | 초기 값   |
| --------------| -----------|-----------------|
| 마지막 서비스 날짜      | lastServiced        | 2019/01/29     |

![“속성” 탭의 “마지막 서비스 날짜 구성”](./media/howto-set-up-template/propertiesform.png)

**저장**을 선택하면 디바이스의 마지막 서비스 날짜가 타일로 표시됩니다.

타일을 만든 후 **Device Explorer**에서 애플리케이션 속성 값을 변경할 수 있습니다.

### <a name="create-a-location-property"></a>Location 속성 만들기

Azure IoT Central에서 위치 데이터에 지리적 컨텍스트를 제공 하 고 모든 위도/경도 좌표 또는 주소를 매핑할 수 있습니다. Azure Maps는 IoT Central에서 이 기능을 구현합니다.

다음 두 가지 종류의 위치 속성을 추가할 수 있습니다.

- 애플리케이션에 저장되는 **애플리케이션 속성인 위치**. 응용 프로그램 속성은 응용 프로그램에만 저장 되며 장치에는 표시 되지 않습니다.
- 디바이스에서 애플리케이션에 보고하는 **디바이스 속성인 위치**. 이 형식의 속성은 정적 위치에 사용 하는 것이 가장 좋습니다.

> [!NOTE]
> 속성으로 서의 위치는 기록을 기록 하지 않습니다. 기록이 필요 하면 위치 측정을 사용 합니다.

#### <a name="add-location-as-an-application-property"></a>애플리케이션 속성으로 위치 추가

IoT Central 애플리케이션에서 Azure Maps를 사용하여 애플리케이션 속성으로 위치 속성을 만들 수 있습니다. 예를 들어 디바이스 설치 주소를 추가할 수 있습니다.

1. **속성** 탭으로 이동합니다.

2. 라이브러리에서 **위치**를 선택합니다.

3. **표시 이름** 및 **필드 이름**과 선택적으로 위치의 **초기 값**을 구성합니다.

    | 표시 이름  | 필드 이름 | 초기 값 |
    | --------------| -----------|---------|
    | 설치 주소 | installAddress | Microsoft, 1 Microsoft Way, Redmond, WA 98052   |

   ![위치에 대한 세부 정보가 있는 "위치 구성" 양식](./media/howto-set-up-template/locationcloudproperty2.png)

   위치를 추가하려면 지원되는 두 가지 형식이 있습니다.
   - **주소로서 위치**
   - **좌표로서 위치**

4. **저장**을 선택합니다. 운영자는 **Device Explorer**에서 위치 값을 업데이트할 수 있습니다.

#### <a name="add-location-as-a-device-property"></a>디바이스 속성으로 위치 추가

디바이스에서 보고하는 디바이스 속성으로 위치 속성을 만들 수 있습니다. 예를 들어, 디바이스 위치를 추적하려면

1. **속성** 탭으로 이동합니다.

2. 라이브러리에서 **디바이스 속성**을 선택합니다.

3. 표시 이름과 필드 이름을 구성하고 데이터 형식으로 **위치**를 선택합니다.

    | 표시 이름  | 필드 이름 | 데이터 형식 |
    | --------------| -----------|-----------|
    | 디바이스 위치 | deviceLocation | 위치  |

   > [!NOTE]
   > 필드 이름은 해당 디바이스 코드의 속성 이름과 일치해야 합니다.

   ![위치에 대한 세부 정보가 있는 "디바이스 속성 구성" 양식](./media/howto-set-up-template/locationdeviceproperty2.png)

실제 장치가 연결 되 면 장치 속성으로 추가한 위치가 장치에서 보낸 값으로 업데이트 됩니다. Location 속성을 구성한 후 [지도를 추가 하 여 장치 대시보드의 위치를 시각화할](#add-a-location-property-in-the-dashboard)수 있습니다.

## <a name="commands"></a>명령

명령은 디바이스를 원격으로 관리하는 데 사용합니다. 운영자는 명령을 사용하여 디바이스에서 명령을 실행할 수 있습니다. 디바이스 템플릿에 여러 명령을 추가할 수 있으며, 명령은 운영자가 사용할 수 있도록 **명령** 탭에 타일로 표시됩니다. 디바이스의 작성자는 요구 사항에 따라 자유롭게 명령을 정의할 수 있습니다.

명령과 설정의 차이

- **설정**: 설정은 디바이스에 적용할 구성입니다. 변경할 때까지 해당 구성을 디바이스에서 유지하려고 합니다. 예를 들어, 냉동기 온도를 설정하고 냉동기를 다시 시작해도 해당 설정이 유지되기를 바랍니다.

- **명령**: IoT Central을 통해 원격으로 디바이스에서 명령을 즉시 실행하려는 경우 명령을 사용합니다. 디바이스가 연결되지 않은 경우 명령은 시간 초과되고 실패합니다. 예를 들어, 디바이스를 다시 시작하려 합니다.

예를 들어 **명령** 탭을 선택한 다음 **+ 새 명령**을 선택 하 고 새 명령 세부 정보를 입력 하 여 새 **Echo** 명령을 추가할 수 있습니다.

| 표시 이름  | 필드 이름 | 기본 시간 제한 | 데이터 형식 |
| --------------| -----------|---------------- | --------- |
| Echo 명령  | echo       |  30             | text      |

![Echo에 대한 세부 정보가 있는 "명령 구성" 양식](./media/howto-set-up-template/commandsecho1.png)

**저장**을 선택하면 **Echo** 명령이 타일로 표시되며, 실제 디바이스가 연결되면 **Device Explorer**에서 사용할 수 있습니다. 명령이 성공적으로 실행 되려면 명령의 필드 이름이 해당 장치 코드의 속성 이름과 일치 해야 합니다.

[샘플 C 장치 코드에 대 한 링크는 다음과 같습니다.](https://github.com/Azure/iot-central-firmware/blob/ad40358906aeb8f2040a822ba5292df866692c16/MXCHIP/mxchip_advanced/src/AzureIOTClient.cpp#L34)

## <a name="rules"></a>규칙

운영자는 규칙을 사용하여 거의 실시간으로 디바이스를 모니터링할 수 있습니다. 규칙은 규칙이 트리거될 때 이메일 보내기 같은 작업을 자동으로 호출합니다. 현재는 한 가지 종류의 규칙을 사용할 수 있습니다.

- 선택한 디바이스가 지정된 임계값을 초과하면 트리거되는 **원격 분석** 규칙입니다. [원격 분석 규칙에 대해 자세히 알아보세요.](howto-create-telemetry-rules.md)

## <a name="dashboard"></a>대시보드

대시보드는 운영자가 장치에 대 한 정보를 표시 하는 위치입니다. 작성기로,이 페이지에 타일을 추가 하 여 운영자가 장치의 작동 방식을 이해할 수 있도록 도와줍니다. 이미지, 꺾은선형 차트, 가로 막대형 차트, KPI(핵심 성과 지표), 설정 및 속성, 레이블 등 여러 유형의 대시보드 타일을 추가할 수 있습니다.

예를 들어 **설정 및 속성** 타일을 추가하면 **대시보드** 탭을 선택하고 라이브러리에서 타일을 선택하여 현재 설정 및 속성 값의 선택 항목을 표시할 수 있습니다.

![설정 및 속성에 대한 세부 정보가 있는 "디바이스 세부 정보 구성" 양식](./media/howto-set-up-template/dashboardsettingsandpropertiesform1.png)

이제 운영자가 **Device Explorer**에서 대시보드를 보면 타일이 표시됩니다.

### <a name="add-a-location-measurement-in-the-dashboard"></a>대시보드에서 위치 측정 추가

위치 측정을 구성한 경우 장치 대시보드의 지도를 사용 하 여 위치를 시각화할 수 있습니다. 위치 측정의 경우 위치 기록을 그리는 옵션이 있습니다.

1. **대시보드** 탭으로 이동합니다.

1. 디바이스 대시보드의 라이브러리에서 **맵**을 선택합니다.

1. 지도에 제목을 지정합니다. 다음 예제에는 **현재 위치**의 제목 장치가 있습니다. 그런 다음 **측정** 탭에서 이전에 구성한 위치 측정을 선택 합니다. 다음 예제에서는 **자산 위치** 측정을 선택 합니다.

   ![제목 및 속성에 대한 세부 정보가 있는 "맵 구성" 양식](./media/howto-set-up-template/locationcloudproperty5map.png)

1. **저장**을 선택합니다. 이제 맵 타일이 선택한 위치를 표시합니다.

지도 타일의 크기를 조정할 수 있습니다. 운영자가 **Device Explorer**에서 대시보드를 볼 때 사용자가 구성한 모든 대시보드 타일 (위치 맵 포함)이 표시 됩니다.

### <a name="add-a-location-property-in-the-dashboard"></a>대시보드에서 location 속성 추가

Location 속성을 구성한 경우 장치 대시보드의 지도를 사용 하 여 위치를 시각화할 수 있습니다.

1. **대시보드** 탭으로 이동합니다.

1. 디바이스 대시보드의 라이브러리에서 **맵**을 선택합니다.

1. 지도에 제목을 지정합니다. 다음 예제에는 **현재 위치**의 제목 장치가 있습니다. 그런 다음, **속성** 탭에서 이전에 구성한 위치 속성을 선택합니다. 다음 예제에서는 **장치 위치** 측정을 선택 합니다.

   ![제목 및 속성에 대 한 세부 정보를 사용 하 여 지도 양식 구성](./media/howto-set-up-template/locationcloudproperty6map.png)

1. **저장**을 선택합니다. 이제 맵 타일이 선택한 위치를 표시합니다.

지도 타일의 크기를 조정할 수 있습니다. 운영자가 **Device Explorer**에서 대시보드를 볼 때 사용자가 구성한 모든 대시보드 타일 (위치 맵 포함)이 표시 됩니다.

Azure IoT Central에서 타일을 사용 하는 방법에 대해 자세히 알아보려면 [대시보드 타일 사용](howto-use-tiles.md)을 참조 하세요.

## <a name="next-steps"></a>다음 단계

Azure IoT Central 애플리케이션에서 디바이스 템플릿을 설정하는 방법을 알아보았으니 다음을 수행할 수 있습니다.

- [새 디바이스 템플릿 버전 만들기](howto-version-device-template.md)
- [Azure IoT Central 애플리케이션에 MXChip IoT DevKit 디바이스 연결](howto-connect-devkit.md)
- [Azure IoT Central 응용 프로그램에 일반 클라이언트 응용 프로그램 연결 (node.js)](howto-connect-nodejs.md)
