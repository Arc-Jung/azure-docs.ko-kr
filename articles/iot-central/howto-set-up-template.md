---
title: Azure IoT Central 응용 프로그램에서 디바이스 템플릿 설정 | Microsoft Docs
description: 측정값, 설정, 속성, 규칙 및 대시보드로 디바이스 템플릿을 설정하는 방법을 알아봅니다.
author: viv-liu
ms.author: viviali
ms.date: 10/26/2018
ms.topic: conceptual
ms.service: iot-central
services: iot-central
manager: peterpr
ms.openlocfilehash: 61bc9da45ac420e5683be1ea3ad253eae9c0ba5a
ms.sourcegitcommit: 48592dd2827c6f6f05455c56e8f600882adb80dc
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/26/2018
ms.locfileid: "50158944"
---
# <a name="set-up-a-device-template"></a>디바이스 템플릿 설정

디바이스 템플릿은 Azure IoT Central 애플리케이션에 연결하는 디바이스 유형의 특징과 동작을 정의하는 청사진입니다.

예를 들어 작성자는 다음과 같은 특징을 가진 IoT 연결 팬 디바이스 템플릿을 만들 수 있습니다.

- 온도 원격 분석 측정값

- 팬 모터 오류 이벤트 측정값

- 팬 작동 상태 측정값

- 팬 속도 설정

- 위치 속성

- 경고를 보내는 규칙

- 디바이스의 전체 보기를 제공하는 대시보드

운영자는 이 디바이스 템플릿에서 **fan-1**, **fan-2** 등의 이름을 가진 실제 팬 디바이스를 만들고 연결할 수 있습니다. 이 모든 팬에는 측정값, 설정, 속성 및 규칙과, 애플리케이션 사용자가 모니터링하고 관리할 수 있는 대시보드가 있습니다.

> [!NOTE]
> 작성자와 관리자만이 디바이스 템플릿을 만들고, 편집하고, 삭제할 수 있습니다. 모든 사용자는 기존 디바이스 템플릿의 **Device Explorer** 페이지에서 디바이스를 만들 수 있습니다.

## <a name="create-a-device-template"></a>디바이스 템플릿 만들기

1. **응용 프로그램 작성기** 페이지로 이동합니다.

2. 빈 템플릿을 만들려면 **디바이스 템플릿 만들기**를 선택한 다음, **사용자 지정**을 선택합니다.

3. 새 디바이스 템플릿의 이름(예: Refrigerator-1)을 입력하고 **만들기**를 선택합니다.

   ![템플릿 이름이 "Refrigerator"인 디바이스 세부 정보 페이지](./media/howto-set-up-template/devicedetailspage.png)

4. 현재 위치는 시뮬레이션된 새 디바이스의 **디바이스 세부 정보** 페이지입니다. 디바이스 템플릿을 만들면 시뮬레이션된 디바이스가 자동으로 만들어집니다. 시뮬레이션된 디바이스는 데이터를 보고하며, 실제 디바이스처럼 제어할 수 있습니다.

이제 **디바이스 세부 정보** 페이지의 각 탭을 살펴보겠습니다.

## <a name="measurements"></a>측정값

측정값은 디바이스에서 오는 데이터입니다. 디바이스 기능에 맞게 여러 측정값을 디바이스 템플릿에 추가할 수 있습니다.

- **원격 분석** 측정값은 시간이 지나면 장치를 통해 수집되는 숫자 데이터 요소입니다. 연속 스트림으로 표시됩니다. 온도를 예로 들 수 있습니다.
- **이벤트** 측정값은 장치에서 중요한 부분을 나타내는 특정 시점 데이터입니다. 심각도 수준은 이벤트의 중요도를 나타냅니다. 팬 모터 오류를 예로 들 수 있습니다.
- **상태** 측정값은 시간에 따른 장치 또는 장치 구성 요소의 상태를 나타냅니다. 예를 들어 팬 모드의 상태를 **작동 중**과 **중지됨**의 두 가지로 정의할 수 있습니다.

### <a name="create-a-telemetry-measurement"></a>원격 분석 측정값 만들기
새 원격 분석 측정값을 추가하려면 **템플릿 편집**을 선택한 다음 **+ 새 측정값** 단추를 클릭합니다. 측정값 형식으로 **원격 분석**을 선택하고 **원격 분석 만들기** 양식의 세부 정보를 입력합니다.

> [!NOTE]
> 실제 디바이스를 연결할 때 원격 분석 측정값이 애플리케이션에 표시되려면 디바이스 템플릿의 필드 이름이 해당 디바이스 코드의 속성 이름과 일치해야 합니다. 다음 섹션에서 디바이스 템플릿 정의를 계속하면서 설정, 디바이스 속성 및 명령을 구성할 때도 동일하게 수행합니다.

예를 들어 새로운 온도 원격 분석 측정값을 추가할 수 있습니다.
| 표시 이름        | 필드 이름    |  Units    | Min   |max|
| --------------------| ------------- |-----------|-------|---|
| 온도         | temp          |  degC     |  0    |100|

![온도 측정값에 대한 세부 정보가 있는 "원격 분석 만들기" 양식](./media/howto-set-up-template/measurementsform.png)

**완료**를 선택하면 측정값 목록에 **온도** 측정값이 나타납니다. 잠시 후에 시뮬레이션된 디바이스에서 생성한 온도 데이터의 시각화를 확인할 수 있습니다. 디바이스 템플릿을 만드는 경우 물리적/실제 디바이스를 연결하기 전에 애플리케이션 동작을 테스트할 수 있게 해주는 시뮬레이션된 디바이스가 템플릿에서 생성됩니다.


> [!NOTE]
  원격 분석 측정값의 데이터 형식은 부동 소수점 숫자입니다.

### <a name="create-an-event-measurement"></a>이벤트 측정값 만들기
새 이벤트 측정값을 추가하려면 **템플릿 편집**을 선택한 다음 **+ 새 측정값** 단추를 클릭합니다. 측정값 형식으로 **이벤트**를 선택하고 **이벤트 만들기** 양식의 세부 정보를 입력합니다.

이벤트의 **표시 이름**, **필드 이름** 및 **심각도** 세부 정보를 입력합니다. **오류**, **경고**, **정보**의 세 가지 심각도 수준 중에서 선택할 수 있습니다.  

예를 들어 새로운 **팬 모터 오류** 이벤트를 추가할 수 있습니다.

| 표시 이름        | 필드 이름    |  기본 심각도 | 
| --------------------| ------------- |-----------|
| 팬 모터 오류     | fanmotorerror |  오류    | 

![팬 모터 이벤트 세부 정보가 있는 "이벤트 만들기" 양식](./media/howto-set-up-template/eventmeasurementsform.png)

**완료**를 선택하면 측정값 목록에 **팬 모터 오류** 측정값이 나타납니다. 작업자는 디바이스가 보내는 이벤트 데이터의 시각화를 볼 수 있습니다.

![이벤트 측정값 정의](./media/howto-set-up-template/eventmeasurementschart.png)

이벤트에 대한 추가 세부 정보를 보려면 차트에서 이벤트 아이콘을 선택합니다.

!["팬 모터 오류" 이벤트 세부 정보](./media/howto-set-up-template/eventmeasurementsdetail.png)

> [!NOTE]
  이벤트 측정값의 데이터 형식은 문자열입니다.

### <a name="create-a-state-measurement"></a>상태 측정값 만들기
새 상태 측정값을 추가하려면 **템플릿 편집**을 선택한 다음 **+ 새 측정값** 단추를 클릭합니다. 측정값 형식으로 **상태**를 선택하고 **상태 만들기** 양식의 세부 정보를 입력합니다.

이벤트의 **표시 이름**, **필드 이름** 및 **값** 세부 정보를 입력합니다. 또한 각 값은 차트 및 테이블에 값을 표시할 때 사용할 표시 이름을 가질 수 있습니다.

예를 들어 디바이스에서 **작동 중** 및 **중지됨**의 두 가지 값을 보낼 수 있는 새로운 **팬 모드** 상태를 추가할 수 있습니다.


| 표시 이름 | 필드 이름    |  값 1   | 표시 이름 | 값 2    |표시 이름  | 
| -------------| ------------- |----------- | -------------| -----------| -------------|
| 팬 모드     | fanmode       |  1         | 운영    |     0      | 중지됨      |

![팬 모드 세부 정보가 있는 "상태 편집" 양식](./media/howto-set-up-template/statemeasurementsform.png)

**완료**를 선택하면 측정값 목록에 **팬 모드** 상태 측정값이 나타납니다. 작업자는 디바이스가 보내는 상태 데이터의 시각화를 볼 수 있습니다.

![상태 측정값 정의](./media/howto-set-up-template/statemeasurementschart.png)

짧은 기간 내에 디바이스에서 보낸 데이터 요소가 너무 많은 경우 상태 측정값은 다음 스크린샷과 같이 다른 시각적 개체로 표시됩니다. 차트를 클릭하는 경우 해당 기간 내의 모든 데이터 요소가 시간순으로 표시됩니다. 시간 범위를 좁히고 차트에 표시되는 측정값을 볼 수도 있습니다.

> [!NOTE]
  상태 측정값의 데이터 형식은 문자열입니다.

## <a name="settings"></a>설정

설정은 디바이스를 제어합니다. 애플리케이션 운영자는 설정을 통해 디바이스에 입력을 제공할 수 있습니다. 디바이스 템플릿에 여러 설정을 추가할 수 있으며, 설정은 운영자가 사용할 수 있도록 **설정** 탭에 타일로 표시됩니다. 숫자, 텍스트, 날짜, 설정/해제, 선택 목록, 섹션 레이블 등 여러 유형의 설정을 추가할 수 있습니다. 

설정의 상태는 세 가지 중 하나입니다. 디바이스가 이러한 상태를 보고합니다.

- **동기화됨**: 설정 값을 반영하도록 장치가 변경되었습니다.

- **보류 중**: 장치가 현재 설정 값으로 변경 중입니다.

- **오류**: 장치에서 오류를 반환했습니다.

예를 들어, **템플릿 편집**을 선택하고 새 **숫자** 설정을 입력하면 새 팬 속도 설정을 추가할 수 있습니다.

| 표시 이름  | 필드 이름    |  Units  | 10진수 |Initial|
| --------------| ------------- |---------| ---------|---- |
| 팬 속도     | fanSpeed      | RPM     | 2        | 0   |

![속도 설정의 세부 정보가 있는 “숫자 구성” 양식](./media/howto-set-up-template/settingsform.png)

**저장**을 선택하면 **팬 속도** 설정이 타일로 표시되고 장치의 팬 속도를 변경하는 데 사용할 수 있게 됩니다.

타일을 만든 후 화면의 오른쪽 위에서 **완료**를 선택합니다. 실제 디바이스가 애플리케이션에 연결되면 설정 값이 동기화됨으로 변경됩니다.

![타일에 대한 "디자인 모드" 스위치가 있는 "설정" 탭](./media/howto-set-up-template/settingstile.png)

## <a name="properties"></a>properties

속성은 디바이스 위치나 일련 번호처럼 디바이스와 연결된 디바이스 메타데이터입니다. 디바이스 템플릿에 여러 속성을 추가할 수 있으며, 추가된 속성은 **속성** 탭에 타일로 표시됩니다. 숫자, 텍스트, 날짜, 설정/해제, 디바이스 속성, 레이블, 위치 등 여러 유형의 속성을 추가할 수 있습니다. 운영자는 디바이스를 만들 때 속성 값을 지정할 수 있으며, 언제든지 속성 값을 편집할 수 있습니다. 그러나 디바이스 속성은 읽기 전용이고 디바이스에서 애플리케이션으로 전송되므로 운영자가 변경할 수 없습니다. 실제 디바이스가 연결되면 애플리케이션에서 디바이스 속성 타일이 업데이트됩니다. 

속성에는 다음 두 카테고리가 있습니다.

- 장치가 IoT Central 응용 프로그램에 보고하는 **장치** 속성. 디바이스에서 보고하는 읽기 전용 값이며 실제 디바이스가 연결되면 애플리케이션에서 업데이트됩니다. 
- 순수하게 응용 프로그램에만 저장되며 운영자가 편집할 수 있는 **응용 프로그램** 속성. 디바이스는 애플리케이션 속성을 인식하지 않습니다.

예를 들어, **템플릿 편집**을 선택하고 새 속성을 입력하면 디바이스 위치를 새 **텍스트** 속성(애플리케이션 속성)으로 추가할 수 있습니다.

| 표시 이름  | 필드 이름 | 선행 공백 지우기  | 후행 공백 지우기  | 대/소문자 구분| 최소 길이 | 최대 길이 |
| --------------| -----------|---------| ---------|---- |----|----|
| 위치      | loc        | 꺼짐     |  꺼짐     | 혼합  | 0 | 100|

!["속성" 탭의 "텍스트 구성" 양식](./media/howto-set-up-template/propertiesform.png)

**저장**을 선택하면 장치 위치가 타일로 표시됩니다.

![위치 타일](./media/howto-set-up-template/propertiestile.png)

타일을 만든 후 응용 프로그램 속성 값을 변경할 수 있습니다. 먼저 화면의 오른쪽 윗부분에서 **완료**를 선택합니다.

### <a name="create-a-location-property-through-azure-maps"></a>Azure Maps를 통해 위치 속성 만들기
Azure IoT Central에서 위치 데이터에 지리적 컨텍스트를 제공하고 거리 주소의 모든 위도 및 경도 좌표를 매핑할 수 있습니다. 또는 단순히 위도 및 경고 좌표를 매핑할 수 있습니다. Azure Maps는 IoT Central에서 이 기능을 구현합니다.

다음 두 가지 종류의 위치 속성을 추가할 수 있습니다.
- 단순히 응용 프로그램에 저장되는 **응용 프로그램 속성으로 위치** 디바이스는 애플리케이션 속성을 인식하지 않습니다.
- 장치에서 응용 프로그램에 보고하는 **장치 속성인 위치**.

#### <a name="add-location-as-an-application-property"></a>응용 프로그램 속성으로 위치 추가 
IoT Central 애플리케이션에서 Azure Maps를 사용하여 애플리케이션 속성으로 위치 속성을 만들 수 있습니다. 예를 들어 디바이스 설치 주소를 추가할 수 있습니다. 

1. **속성** 탭에서 **템플릿 편집**을 선택합니다.

   ![디자인 모드가 켜진 "속성" 탭](./media/howto-set-up-template/locationcloudproperty1.png)

2. 라이브러리에서 **위치**를 선택합니다.
3. **표시 이름** 및 **필드 이름**과 선택적으로 위치의 **초기 값**을 구성합니다. 

    | 표시 이름  | 필드 이름 | 초기 값 |
    | --------------| -----------|---------| 
    | 설치 주소 | insta_address | Microsoft, 1 Microsoft Way, Redmond, WA 98052   |

   ![위치에 대한 세부 정보가 있는 "위치 구성" 양식](./media/howto-set-up-template/locationcloudproperty2.png)

   위치를 추가하려면 지원되는 두 가지 형식이 있습니다.
   - **주소로서 위치**
   - **좌표로서 위치** 

4. **저장**, **완료**를 차례로 선택합니다. 이제 연산자는 위치 필드 양식에서 위치 값을 업데이트할 수 있습니다. 

#### <a name="add-location-as-a-device-property"></a>디바이스 속성으로 위치 추가 

디바이스에서 보고하는 디바이스 속성으로 위치 속성을 만들 수 있습니다. 예를 들어, 디바이스 위치를 추적하려면

1. **속성** 탭에서 **템플릿 편집**을 선택합니다.

   ![디자인 모드가 켜진 "속성" 탭](./media/howto-set-up-template/locationdeviceproperty1.png)

2. 라이브러리에서 **디바이스 속성**을 선택합니다.
3. 표시 이름과 필드 이름을 구성하고 데이터 형식으로 **위치**를 선택합니다. 

    | 표시 이름  | 필드 이름 | 데이터 형식 |
    | --------------| -----------|-----------| 
    | 디바이스 위치 | deviceLoc| location  |

   > [!NOTE]
   > 필드 이름은 해당 디바이스 코드의 속성 이름과 일치해야 합니다.

   ![위치에 대한 세부 정보가 있는 "디바이스 속성 구성" 양식](./media/howto-set-up-template/locationdeviceproperty2.png)

실제 디바이스가 연결되면 디바이스 속성으로 추가한 위치가 디바이스에서 전송한 값으로 업데이트됩니다. 응용 프로그램 속성으로 추가한 위치인 설치 주소는 편집 가능한 타일입니다. 위치 속성을 구성했으므로 [디바이스 대시보드에서 위치를 시각화하려면 지도를 추가](#add-an-azure-maps-location-in-the-dashboard)할 수 있습니다.

## <a name="commands"></a>명령

명령은 디바이스를 원격으로 관리하는 데 사용합니다. 애플리케이션 작업자가 디바이스에서 즉시 명령을 실행할 수 있게 합니다. 디바이스 템플릿에 여러 명령을 추가할 수 있으며, 명령은 운영자가 사용할 수 있도록 **명령** 탭에 타일로 표시됩니다. 디바이스의 작성자는 요구 사항에 따라 자유롭게 명령을 정의할 수 있습니다.

명령과 설정의 차이 

* **설정**: 설정은 장치에 적용하려는 구성이며, 사용자가 구성을 변경하기 전까지는 장치가 해당 구성을 지속하게 됩니다. 예를 들어, 냉동기 온도를 설정하고 냉동기를 다시 시작해도 해당 설정이 유지되기를 바랍니다. 

* **명령**: IoT Central에서 원격으로 장치에 명령을 즉시 실행하기 위해 명령을 사용합니다. 디바이스가 연결되지 않은 경우 명령은 시간 초과되고 실패합니다. 예를 들어, 디바이스를 다시 시작하려 합니다.  


예를 들어 **템플릿 편집**을 선택하고 **+ 새 명령**을 클릭한 다음 새 명령을 입력하면 새 **에코** 명령을 추가할 수 있습니다.

| 표시 이름  | 필드 이름 | 기본 시간 제한 | 데이터 형식 |
| --------------| -----------|---------------- | --------- | 
| Echo 명령  | echo       |  30             | text      |

![Echo에 대한 세부 정보가 있는 "명령 구성" 양식](./media/howto-set-up-template/commandsecho.png)

**저장**, **완료**를 차례로 선택하면 **에코** 명령이 타일로 표시되며, 실제 장치가 연결되면 장치를 에코하는 데 사용하도록 준비됩니다. 명령을 실행하려면 명령의 필드 이름이 해당 디바이스 코드의 속성 이름과 일치해야 합니다.


## <a name="rules"></a>규칙

운영자는 규칙을 사용하여 거의 실시간으로 디바이스를 모니터링할 수 있습니다. 규칙은 규칙이 트리거될 때 이메일 보내기 같은 작업을 자동으로 호출합니다. 현재는 한 가지 종류의 규칙을 사용할 수 있습니다.

- 선택한 장치가 지정된 임계값을 초과하면 트리거되는 **원격 분석** 규칙입니다. [원격 분석 규칙에 대해 자세히 알아보세요.](howto-create-telemetry-rules.md)

## <a name="dashboard"></a>대시보드

대시보드는 운영자가 디바이스에 대한 정보를 볼 수 있는 곳입니다. 작성자는 디바이스의 동작에 대한 운영자의 이해를 도와주는 타일을 이 페이지에 추가할 수 있습니다. 디바이스 템플릿에 대시보드 타일을 여러 개 추가할 수 있습니다. 이미지, 꺾은선형 차트, 가로 막대형 차트, KPI(핵심 성과 지표), 설정 및 속성, 레이블 등 여러 유형의 대시보드 타일을 추가할 수 있습니다.

예를 들어 **설정 및 속성** 타일을 추가하여 현재 설정 및 속성 값의 선택 항목을 표시할 수 있습니다. 이렇게 하려면 **템플릿 편릿**을 선택하고 라이브러리에서 타일을 선택합니다.

![설정 및 속성에 대한 세부 정보가 있는 "디바이스 세부 정보 구성" 양식](./media/howto-set-up-template/dashboardsettingsandpropertiesform.png)

이제 운영자는 대시보드를 볼 때 디바이스의 속성 및 설정을 표시하는 이 타일을 볼 수 있습니다.

![타일에 대한 설정 및 속성이 표시된 “대시보드” 탭](./media/howto-set-up-template/dashboardtile.png)

### <a name="add-an-azure-maps-location-in-the-dashboard"></a>대시보드에서 Azure Maps 위치 추가

앞서 [Azure Maps를 통해 위치 만들기](#create-a-location-property-through-azure-maps)에서 위치 속성을 구성한 경우 디바이스 대시보드에서 지도를 사용하여 위치를 시각화할 수 있습니다.

1. **대시보드** 탭에서 **템플릿 편집**을 선택합니다.

   ![디자인 모드가 켜진 "대시보드" 탭](./media/howto-set-up-template/locationcloudproperty4map.png)

2. 디바이스 대시보드의 라이브러리에서 **맵**을 선택합니다. 
3. 제목을 지정합니다. 아래 예제에서는 설치 위치라는 제목이 있습니다. 그런 다음, 속성 탭에서 이전에 구성한 위치 속성을 선택합니다. 아래 예제에서는 **설치 주소**가 선택되었습니다.

   ![제목 및 속성에 대한 세부 정보가 있는 "맵 구성" 양식](./media/howto-set-up-template/locationcloudproperty5map.png)

4. **저장**을 선택합니다. 이제 맵 타일이 선택한 위치를 표시합니다. 

   ![선택한 위치가 있는 맵 타일](./media/howto-set-up-template/locationcloudproperty6map.png) 

맵을 원하는 크기로 조정할 수 있습니다. 이제 연산자가 대시보드를 볼 때 위치 맵을 포함하여 구성한 모든 대시보드 타일을 볼 수 있습니다.

## <a name="next-steps"></a>다음 단계

Azure IoT Central 응용 프로그램에서 디바이스 템플릿을 설정하는 방법을 알아보았으니 다음을 수행할 수 있습니다.

> [!div class="nextstepaction"]
> [새 장치 템플릿 버전 만들기](howto-version-devicetemplate.md)
