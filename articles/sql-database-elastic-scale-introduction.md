<properties title="Azure SQL Database Elastic Scale" pageTitle="Azure SQL 데이터베이스의 탄력적인 확장" description="Easily scale database resources in the cloud using Elastic Scale feature of Azure SQL Database." metaKeywords="sharding,elastic scale, Azure SQL DB sharding" services="sql-database" documentationCenter=""  manager="jhubbard" authors="sidneyh@microsoft.com"/>

<tags ms.service="sql-database" ms.workload="sql-database" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="10/02/2014" ms.author="sidneyh" />

#Azure SQL 데이터베이스의 탄력적인 확장 
Azure SQL 데이터베이스 탄력적인 확장 공개 미리 보기입니다! 

###약속 및 도전 과제
Azure SQL 데이터베이스의 탄력적인 확장은 클라우드 컴퓨팅의 약속을 전달하고, Azure SQL DB 플랫폼에서 수직적으로 바인딩되지 않은 용량과 탄력성을 모두 허용합니다. 현재까지 클라우드 서비스 공급자는 계산 및 Blob 저장소의 범위 없는 용량을 중심으로 대부분의 측면을 제공할 수 있습니다. 하지만 탄력성은 클라우드에서 상태 저장 데이터 처리와 관련하여 특히 관계형 데이터베이스 관리와 관련하여 여전히 도전 과제로 남아 있습니다. 이러한 과제는 다음 두 시나리오에서 가장 눈에 띄게 등장합니다. 

* 작업의 관계형 데이터베이스에 대한 용량 확장 및 축소
* 상태 저장 데이터베이스 작업 및 해당 데이터에 대한 사용률 핫스팟 관리

일반적으로 이러한 시나리오는 응용 프로그램의 데이터 계층을 호스트하는 하드웨어를 구입하여 해결합니다. 그러나 이 옵션은 미리 정의된 상용 하드웨어에서 모든 처리가 이루어지는 클라우드에서는 제한됩니다. 분할 또는 용량상의 이유로 여러 단위에 걸친 데이터 배포 및 처리는, 비용 및 탄력성 측면에서 기존 확장 접근 방식에 대한 탁월한 대안입니다. 몇 년 동안 고객은 원활한 분할을 위해 Azure SQL DB 위에 고유한 규모 확장 방법을 구현해야 했습니다. 일부 경우에, 이는 수백 또는 수천 개의 Azure SQL 데이터베이스 관리를 의미합니다. 또한 데이터 계층에 응용 프로그램의 비즈니스 논리가 아닌 분할의 복잡성을 다루는 코드가 많다는 것을 의미합니다. 

수년에 걸쳐 직접 고객과 협력하면서, Microsoft는 이러한 프로젝트에서 몇 가지 분할 등장의 패턴을 발견했습니다. Azure SQL 데이터베이스의 탄력적인 확장은 이러한 패턴을 중심으로 클라이언트 라이브러리 및 서비스 제공 사항을 제공합니다. 탄력적인 확장을 통해 Azure 응용 프로그램의 상태 저장 데이터 계층을 더욱 쉽게 개발, 확장 및 관리할 수 있습니다.

그런 다음 분할에 대한 인프라를 구축하지 않고 응용 프로그램의 비즈니스 논리에 집중할 수 있습니다.  


##기능 

분할을 사용한 확장 응용 프로그램 개발, 확장 및 관리는 개발자뿐 아니라 관리자에게도 도전 과제를 제공합니다. Azure SQL DB의 탄력적인 확장은 이러한 두 역할의 작업을 한층 수월하게 만듭니다. 그래픽의 숫자는 이 공개 미리 보기 릴리스에서 제공되는 주요 기능을 간략하게 설명합니다. 
아래쪽 부분에서는 분할된 데이터베이스라고 하는 여러 데이터베이스에 걸쳐 응용 프로그램의 데이터 계층과 해당 데이터의 분포를 보여 줍니다. 여기서는 여러 데이터베이스가 여러 분할된 데이터베이스에 대한 데이터를 저장한다고 가정합니다. 

여기에 사용되는 용어의 정의는 [탄력적인 확장 용어집](./sql-database-elastic-scale-glossary.md)을 참조하세요.

###분할을 사용하는 탄력적인 확장 

![][1]

이 그림은 왼쪽 및 오른쪽에 개발자와 관리자를 보여 줍니다. 고객은 고유한 의미 체계를 가진 분할된 데이터베이스 간 작업과 반대로 분할된 데이터베이스 로컬 작업을 제출할 때 전체 T-SQL 기능을 가져올 수 있습니다. 
Azure SQL 데이터베이스의 탄력적인 확장에 대한 공개 미리 보기 릴리스는 다음과 같은 특정 기능을 통해 분할된 Azure SQL DB 응용 프로그램 개발을 한층 수월하게 만듭니다. 

* **분할된 데이터베이스 맵 관리**: 분할된 데이터베이스 맵 관리(1)는 분할된 데이터베이스에 대한 다양한 메타데이터를 관리하는 응용 프로그램의 기능입니다. 분할된 데이터베이스 맵 관리는 탄력적인 확장 클라이언트 라이브러리의 기능입니다. 개발자는 이 기능을 사용하여 분할된 데이터베이스를 등록하고, 개별 분할 키 또는 키 값 범위의 분할된 데이터베이스 매핑을 설명하고, 데이터 계층의 분할된 데이터베이스 레이아웃이 용량 변경 내용을 반영하여 수정될 때 이 메타데이터를 유지 관리합니다. 분할된 데이터베이스 맵 관리는 고객이 직접 분할을 구현할 때 응용 프로그램에서 작성해야 하는 보일러 플레이트 코드의 상당 부분을 구성합니다. 자세한 내용은 [분할된 데이터베이스 맵 관리](./sql-database-elastic-scale-shard-map-management.md)를 참조하세요.
 
* **데이터 종속 라우팅**: 응용 프로그램에 들어오는 요청이 있다고 가정하겠습니다. 요청의 분할 키 값에 따라 응용 프로그램에서 이 분할 키 값에 대한 데이터를 유지하는 올바른 분할된 데이터베이스를 확인하고 이 분할된 데이터베이스(2)에 대한 연결을 열어서 요청을 처리해야 합니다. 데이터 종속 라우팅은 응용 프로그램의 분할된 데이터베이스 맵에 대한 간편한 단일 호출 을 사용하여 연결을 열 수 있는 기능을 제공합니다. 데이터 종속 라우팅은 지금은 탄력적인 확장 클라이언트 라이브러리의 기능에서 담당하는 인프라 코드의 다른 영역이었습니다. 자세한 내용은 [데이터 종속 라우팅](./sql-database-elastic-scale-data-dependent-routing.md)을 참조하세요.

* **MSQ(분할된 다중 데이터베이스 쿼리)**: 분할된 다중 데이터베이스 쿼리 요청은 한 요청이 여러(또는 모든) 분할된 데이터베이스와 관련된 경우 작동합니다. 분할된 다중 데이터베이스 쿼리(3)는 모든 분할된 데이터베이스 또는 분할된 데이터베이스 집합에서 동일한 T-SQL 코드를 실행합니다. 참여하는 분할된 데이터베이스의 결과는 UNION ALL 의미 체계를 사용하는 전반적인 결과 집합으로 병합됩니다. 클라이언트 라이브러리를 통해 노출되는 이 기능은 연결 관리, 스레드 관리, 오류 처리, 중간 결과 처리 등 많은 작업을 처리합니다. MSQ는 수백 개까지 분할된 데이터베이스를 쿼리할 수 있습니다. 자세한 내용은 [다중 분할 쿼리](./sql-database-elastic-scale-multishard-querying.md)를 참조하세요.

* **분할된 데이터베이스의 탄력성**: 이 기능을 사용하면 관리자가 PowerShell 스크립트를 통해 그리고 Azure 자동화 서비스를 사용하여 분할된 환경의 수직적(단일 분할된 데이터베이스의 상위 또는 하위 버전 연결) 및 수평적(분할된 데이터베이스 맵에서 분할된 데이터베이스 추가 또는 제거) 크기 조정을 자동화할 수 있습니다. 자세한 내용은 [분할된 데이터베이스의 탄력성](./sql-database-elastic-scale-elasticity.md)을 참조하세요.

* **분할/병합 서비스**: 비즈니스 모멘텀과 연계하여 용량을 변경해야 할 경우 응용 프로그램은 여러 데이터베이스(4)에서 데이터를 유연하게 재배포해야 합니다. 탄력적인 확장은 데이터 계층 용량의 확장 및 축소를 위해 그리고 데이터 이동과 관련된 상황에서 분할된 응용 프로그램의 핫스팟 관리를 위해 고객 호스트 서비스 환경을 제공합니다. 필요에 따라 여러 분할된 데이터베이스 간에 shardlet을 이동하는 기본 기능을 기반으로 하며, 분할된 데이터베이스 맵 관리에 통합되어 일관된 매핑 및 정확한 데이터 종속 라우팅 연결을 유지합니다. 자세한 내용은 [탄력적인 확장을 사용하는 분할 및 병합](./sql-database-elastic-scale-overview-split-and-merge.md)을 참조하세요.

##일반적인 분할 패턴

**분할**이란 여러 독립 데이터베이스에 걸쳐 동일하게 구조화된 많은 데이터를 분산하는 기법입니다. 특히 최종 고객 또는 비즈니스에 대한 SAAS(Software as a Service) 제품으로 소프트웨어를 만드는 클라우드 개발자가 이 기법을 많이 사용합니다. 이러한 최종 고객을 보통 "테넌트"라고 합니다. 분할은 다음과 같은 여러 가지 이유로 필요할 수 있습니다. 

* 총 데이터 양이 너무 커서 단일 데이터베이스의 제약 조건에 맞지 않습니다. 
* 전반적인 작업의 트랜잭션 처리량이 단일 데이터베이스의 기능을 초과합니다. 
* 테넌트는 물리적으로 서로 격리되어야 할 수 있으므로 각 테넌트에는 별도의 데이터베이스가 필요합니다. 
* 데이터베이스의 다양한 섹션은 규정 준수, 성능 또는 지정학적인 이유로 여러 지역에 상주해야 할 수 있습니다. 

분산된 장치에서 데이터 수집과 같은 다른 시나리오에서는 분할을 사용하여 일시적으로 구성된 데이터베이스 집합을 채울 수 있습니다. 예를 들어, 매일 또는 주별로 별도의 데이터베이스를 전용할 수 있습니다. 이 경우 분할 키는 날짜를 나타내는 정수(분할된 테이블의 모든 행에 있음)일 수 있으며, 응용 프로그램에서 문제의 범위를 포함하는 데이터베이스의 하위 집합으로 날짜 범위에 대한 정보를 검색하는 쿼리를 라우팅해야 합니다.
 
분할은 응용 프로그램의 모든 트랜잭션이 분할 키의 단일 값으로 제한될 수 있는 경우에 가장 적합합니다. 그렇게 하면 모든 트랜잭션이 특정 데이터베이스에 로컬이 됩니다. 

일부 응용 프로그램은 각 테넌트에 대해 별도의 데이터베이스를 만드는 가장 간단한 접근 방식을 사용합니다. 이것이 바로 테넌트 세분성 수준으로 격리, 백업/복원 기능 및 리소스 확장을 제공하는 **단일 테넌트 분할 패턴**입니다. 단일 테넌트 분할을 사용하면 각 데이터베이스가 특정 테넌트 ID 값(또는 고객의 키 값)과 연결되지만 해당 키가 데이터 자체에 존재하지 않아도 됩니다. 각 요청을 적절한 데이터베이스에 라우팅하는 것은 응용 프로그램의 책임입니다. 

![][2]

다른 시나리오에서는 여러 테넌트를 개별 데이터베이스로 격리하지 않고 함께 데이터베이스에 포함합니다. 이것이 일반적인 **다중 테넌트 분할 패턴**이며, 응용 프로그램이 다수의 매우 작은 테넌트를 관리한다는 사실과, 비용, 효율성을 고려한 패턴입니다. 다중 테넌트 분할에서 데이터베이스 테이블의 행은 모두 테넌트 ID 또는 키 분할을 식별하는 키 ID를 제공하도록 설계되었습니다. 다시 한 번 말하지만, 응용 프로그램 계층이 적절한 데이터베이스로 테넌트의 요청을 라우팅하는 작업을 담당합니다. 

[AZURE.INCLUDE [elastic-scale-include](../includes/elastic-scale-include.md)]

<!--Anchors-->
<!--Image references-->
[1]:./media/sql-database-elastic-scale-intro/overview.png
[2]:./media/sql-database-elastic-scale-intro/tenancy.png
