<properties 
	pageTitle="Azure 검색을 위한 프로토타입 응용 프로그램 빌드" 
	description="첫 번째 응용 프로그램 프로토타입을 만들어 호스팅되는 클라우드 검색 서비스인 Azure 검색을 시작합니다." 
	services="search" 
	documentationCenter="" 
	authors="HeidiSteen" 
	manager="mblythe" 
	editor=""/>

<tags 
	ms.service="search" 
	ms.devlang="rest-api" 
	ms.workload="search" 
	ms.topic="article" 
	ms.tgt_pltfrm="na" 
	ms.date="11/04/2015" 
	ms.author="heidist"/>

# Azure 검색을 위한 프로토타입 응용 프로그램 빌드

호스팅되는 클라우드 검색에 대해 Azure 검색을 평가하는 개발자는 거의 항상 Azure 검색의 값을 사용자 지정 응용 프로그램에 추가하는 사전 테스트 응용 프로그램부터 시작합니다. 이 글에서는 프로토타입 프로세스 속도를 높일 수 있는 몇 가지 빌딩 블록을 제공합니다.
 
- Data.json 및 schema.json 파일을 포함하는 visual studio C# 프로젝트. 예제 데이터가 있으면 코드 작성에 앞서 솔루션을 즉시 빌드 및 실행하여 솔루션이 시스템에서 제대로 작동하는지 확인할 수 있습니다. 

	가능한 경우 이 독립형 분리 스키마와 데이터 파일을 해당 비즈니스 데이터로 대체하십시오. 그러면 응용 프로그램을 실행할 때 스키마에 따라 생성되는 인덱스와 데이터 파일 기반 문서를 Azure 검색에서 즉시 사용할 수 있습니다.

- Azure 검색에 업로드할 데이터를 구조화하는 방법에 대한 지침 각 인덱스마다 하나의 데이터 집합이 필요합니다. Azure 검색에서는 데이터 직렬화에 JSON을 사용합니다.

- 마지막으로, 검색 특정 기능(패싯 탐색, 튜닝 결과에 대한 점수 매기기 프로필, 미리 입력 또는 자동 완성 쿼리)과, 엄격한 전체 텍스트 검색 대체에서 사용할 수 없는 검색 페이지 관련 기능을 통합하여 프로토타입을 한 차원 높일 수 있는 몇 가지 추가적인 기능을 안내합니다.

결론적으로 데이터를 사용하여 Azure 검색 기반의 강력한 검색을 선보이는 프로토타입 응용 프로그램을 갖추게 됩니다.

## 데이터 준비

검색 작업은 Azure 검색에서 만드는 검색 인덱스에 대해 수행됩니다. 인덱스에는 프로필 및 제안자 점수 매기기 등을 포함한 여러 부분이 있지만 대규모 인덱스는 검색 작업에서 사용되는 데이터 필드로 구성됩니다.

필드를 제공하는 데이터 집합은 데이터 집합의 각 필드가 입력하려는 인덱스의 해당 필드에 매핑되는 플랫 데이터 파일(JSON)이어야 합니다. 점수 매기기 프로필 또는 CORS 옵션 등, 인덱스의 다른 부분은 스키마에서 직접 독립적으로 추가됩니다.

Azure 테이블 저장소 등, 기본적으로 JSON을 사용하는 데이터 원본은 관계형 데이터보다 사용이 간편하고 모든 필드를 한 행 집합에 제공하는 단일 뷰 또는 테이블이 필요한 데이터를 제공합니다.

프로토타입 예제 응용 프로그램의 코드를 사용하여 데이터 및 스키마 파일을 업로드하기 위해, 솔루션에 포함된 기존 스키마와 데이터 파일을 덮어쓸 수 있습니다.

> [AZURE.NOTE]일괄 처리로 데이터 업로드 등, 여러 데이터 파일을 로드할 수 있지만 동일한 인덱스에 업로드하는 모든 데이터 파일에서 데이터 구조가 같아야 합니다. 각 인덱스는 독립형 검색 모음으로 작동하므로 인덱스를 연결할 수 없습니다.

## 시스템에서 프로토타입 솔루션 테스트

1. [Azure 포털에서 Azure 검색서비스 만들기](search-create-service-portal.md)

    모든 기존 Azure 구독에 공유(무료) 버전의 서비스를 추가할 수 있습니다. 공유 서비스는 프로토타입에 자주 사용됩니다. 공유 서비스는 총 50MB 데이터 또는 10,000개 문서 중 먼저 도달하는 쪽을 제공합니다. 또한 데이터와 문서를 최대 3개 인덱스에 분산할 수 있습니다.

    프로토타입 샘플 응용 프로그램을 기본 제공 예제 데이터 파일로 실행할 경우, Azure 검색 서비스에서 이름이 "musicstoreindex"이고 246개 문서를 포함하는 278KB 인덱스 1개가 생성됩니다. 이 연습 뒷부분에서는 최대 ##개 문서와 ##MB를 사용하는 Adventure Works 데이터를 사용하여 이 인덱스를 새 행으로 교체합니다.

2. [프로토타입 작성기 솔루션 다운로드](http://go.microsoft.com/fwlink/p/?LinkId=536479). 인덱스에서의 만들기, 로드 및 쿼리에 사용되는 콘솔 응용 프로그램을 빌드하는 C# 형식의 Visual Studio 2013 솔루션입니다. Visual Studio가 없다면 무료 [Visual Studio 2013 Express Edition](http://www.visualstudio.com/products/visual-studio-express-vs.aspx) 버전을 사용해 보세요.

3. app.config를 편집하여 검색 서비스와 API 키를 대상으로 하는 구성 설정을 추가합니다.

	[포털의 서비스 대시보드](search-create-service-portal.md)에서 URL 및 admin API 키를 가져올 수 있습니다. URL의 경우 https 접두어와 `search.windows.net` 도메인을 포함한 서비스 이름의 전체 경로입니다.

4. 빌드 오류가 없는 상태에서 솔루션을 빌드합니다. 빌드 오류를 해결하기 위해 패키지를 업데이트해야 할 수 있습니다. 솔루션에서 **NuGet 패키지 관리**를 마우스 오른쪽 단추로 클릭하여 패키지를 업데이트합니다.

5. 기본 제공 스키마와 데이터 파일을 사용하여 솔루션을 실행합니다. 이 단계는 선택 사항이나, 자체 데이터 추가를 시작하기 전에 솔루션이 작동하는지 확인하게 됩니다. 콘솔은 다음과 같은 메시지를 출력합니다.

	- 인덱스 삭제됨(이름이 "musicstoreindex"인 인덱스가 있는 경우에만 발생)
	- 인덱스 생성됨(서비스에 이름이 "musicstoreindex"인 새 인덱스가 생성됨)
	- 문서 게시됨(각 JSON 파일마다 메시지 1개)
	- 5초 대기(첫 번째 쿼리를 실행하기 전에 인덱스 작업 완료)
	- 강화 없는 검색어 'best'의 검색 결과(인덱스에 데이터가 로드됨을 입증하는 단순 쿼리 실행)

6. 응용 프로그램을 중지하고 인덱스를 삭제하여 공간을 확보합니다.

    > [AZURE.TIP][포털](https://portal.azure.com)을 사용하여 인덱스를 삭제할 수 있습니다. 인덱스 이름을 클릭하여 인덱스 블레이드를 열고 **Delete** 명령을 사용할 수 있습니다.

## 사용자 데이터로 스키마 및 데이터 JSON 파일을 교체합니다.

프로토타입 솔루션에는 1개의 스키마 파일과, 3개의 데이터 파일(data1.json, data2.json, 및 data3.json)이 있습니다. 스키마 파일(schema.json)은 해당 데이터를 설명하는 스키마로 바꿔야 합니다.

기본적으로 이러한 파일은 다음 솔루션 폴더에 있습니다.

![][1]

JSON 파일에 데이터를 가져올 수 있는 경우, 해당 데이터로 기존 파일을 덮어쓴 다음 응용 프로그램을 실행하여 인덱스를 만들고 로드할 수 있습니다. 데이터를 여러 파일로 분산하면 배치 작업을 실험하는 데 도움이 됩니다.

데이터를 로드는 다른 방법에는 인덱서 사용이 있습니다(Azure DocumentDB 데이터 원본 또는 Azure SQL 데이터베이스 데이터 원본 필요). 추가적인 데이터 로드 방법을 시험하는 샘플 코드는 MSDN의 [Azure 검색 비디오 및 자습서 목록](search-video-demo-tutorial-list.md)에서 제공합니다.

### 쿼리 편집

솔루션에 탑재된 기본 쿼리는 기본 제공 데이터 파일의 필드와 구조를 참조합니다. 데이터 사용을 위해 데이터 파일을 덮어쓴 후에는 쿼리 코드를 주석 처리하거나, 스키마의 필드를 사용하도록 수정할 수 있습니다. 검색 쿼리 구문에 대한 자세한 내용은 [문서 검색](https://msdn.microsoft.com/library/azure/dn798927.aspx)을 참조하세요.

### 응용 프로그램 빌드 및 실행

**F5** 키를 눌러 앱을 실행합니다. 이전과 마찬가지로 인덱스가 생성, 로드, 쿼리 가능함을 나타내는 메시지가 나타나야 합니다.

이제 추가적인 조사 기준으로 사용할 수 있는 작동 가능한 인덱스가 생겼습니다.

이 시점에서 [Fiddler](search-fiddler.md) 또는 [Chrome Postman](search-chrome-postman.md) 쿼리로 전환하려면 검색 서비스 및 인덱스를 사용하도록 예제 응용 프로그램을 수정하거나, 데이터 가상화를 제공하는 사용자 지정 코드를 추가합니다.

## 점수 매기기 프로필 추가

포털이나 코드를 통해 [점수 매기기프로필](search-get-started-scoring-profiles.md)로 테스트하는 것이 좋습니다. 점수 매기기 프로필은 특정 필드에 있는 검색어의 중요도를 강화합니다. 예를 들어, 검색어가 도시명인 경우 도시 필드에 *시애틀*이 포함된 문서가 설명 필드에 *시애틀*이 포함된 문서보다 상위에 표시되기 바랍니다.

점수 매기기 프로필을 추가하여 인덱스를 변경합니다. 스키마를 수정할 때마다 인덱스를 다시 빌드하여 다시 로드해야 합니다. 이 때문에 프로토타입에 점수 매기기 프로필 코드 부분을 추가하는 것이 좋습니다(또는 인덱스 코드를 사용하게 점수 매기기 프로필 수정).

점수 매기기 프로필에 대한 참고 문서는 [점수 매기기 프로필 추가](https://msdn.microsoft.com/library/dn798928.aspx)를 참조하세요.

## 확인기 추가

확인기는 사용자의 텍스트 입력을 기초로 가능한 검색어 목록을 제시하는 인기 검색 기능을 말합니다(예: "wea"를 입력하면 자동으로 "weather", "weather channel", "weather underground" 등의 검색어 완성).

확인기를 추가하려면 인덱스 스키마에 섹션을 추가하여 쿼리 자동 완성 또는 미리 입력을 지정합니다. 대체로 반복값이 없는 이름 또는 더 짧은 문자열을 포함하는 필드가 가장 잘 작동합니다. 자세한 내용은 [인덱스 만들기](https://msdn.microsoft.com/library/dn798928.aspx)를 참조하세요.

## 언어 분석기 시도

언어 분석기는 필수와 비필수 단어 및 루트 형식과, 심지어 동의어까지 구분하는 언어 규칙을 제공합니다. 기본적으로 Azure 검색에서는 영어에 Lucene 언어 분석기를 사용합니다. 특정 필드에 대한 인덱스 속성으로 다른 분석기를 지정하여 다른 분석기를 사용하는 필드가 포함된 스키마와 문서를 빌드할 수 있습니다(예: 다국어 응용 프로그램의 경우 한 문서에서 프랑스와 영어로 필드 결합 가능). 자세한 내용은 [언어 지원](https://msdn.microsoft.com/library/dn879793.aspx)을 참조하세요.

## 다음 단계

이전 섹션에서는 인덱스를 수정하여 프로토타입에 다른 기능을 추가했습니다. 이제 인덱스 변경이 거의 완료되었습니다(남아 있는 유일한 스키마 변경인 CORS 활성화에 대해서는 다루지 않음).

이제 추가적인 프로토타입 작업은 검색을 좁히기 위한 패싯 탐색이나 다른 필터 사용 추가하는 외향적 초점과, 솔루션의 데이터 동기화에 대한 추가적인 탐색 등, 두 가지 방향으로 나아갈 수 있습니다. 많은 솔루션에는 휘발성 데이터가 있습니다. 기본 검색 동작 확인 후에는 대다수의 개발자들에게 트랜잭션 데이터베이스 시스템과 Azure 검색 인덱스 간 데이터 업데이트 동기화는 그 다음으로 중요한 항목입니다.

다음 링크를 따라 자세히 알아보세요.

- [Azure 검색을 사용한 개발 프로젝트의 일반적인 워크플로](search-workflow.md)

- [Azure 검색 인덱서 사용자 지정](search-indexers-customization.md)

- [Azure 검색의 패싯 탐색](search-faceted-navigation.md)

- [Azure 검색에서 검색 결과 페이징](search-pagination-page-layout.md)


<!--Image references-->
[1]: ./media/search-build-prototype/azsearch-datafiles.png
 

<!---HONumber=Nov15_HO2-->