<properties
	pageTitle="Azure 검색의 서비스 제한 사항 | Microsoft Azure"
	description="용량 계획에 사용되는 Azure 검색 제한 및 요청 및 응답 최대 제한입니다."
	services="search"
	documentationCenter=""
	authors="HeidiSteen"
	manager="mblythe"
	editor=""
    tags="azure-portal"/>

<tags
	ms.service="search"
	ms.devlang="NA"
	ms.workload="search"
	ms.topic="article"
	ms.tgt_pltfrm="na"
	ms.date="08/18/2015"
	ms.author="heidist"/>

# Azure 검색의 서비스 제한 사항

저장소, 작업 및 인덱스, 문서, 기타 개체의 수량에 대한 최대 제한은 Azure 검색 구독 방법에 따라 달라집니다. 무료 서비스는 평가 및 개념 증명 테스트를 위한 것이며, 리소스를 더욱 균등하게 공유할 수 있도록 모든 개체 및 작업에 더 낮은 제한이 설정되어 있습니다.

표준은 서비스에만 사용되는 전용 컴퓨터에서 실행됩니다. 단독으로 전용 서비스를 사용하면 최소 구성을 포함한 모든 수준에서 더 많은 저장소 및 처리 용량을 사용하며 확장하거나 축소할 수 있습니다.

## 무료(공유) 검색 서비스에 대한 최대 제한

Azure 구독자는 개발을 위한 공유(다중 테넌트) 검색 서비스 또는 소형 검색 응용 프로그램을 사용할 수 있습니다. 공유 서비스는 Azure 구독과 함께 제공됩니다. 이 서비스는 등록하기 전에 서비스를 시험해 볼 수 있는 무료 옵션입니다. 다음과 같은 것을 제공합니다.

Object|제한
------|-----
최대 인덱스 수|3
인덱스 당 최대 필드 수|1000
최대 문서 수|10000
최대 저장소 크기|50MB
최대 파티션|해당 없음
최대 복제본|해당 없음
최대 검색 단위|해당 없음
최대 인덱서 수|3
인덱서 데이터 원본의 최대 수|3
인덱서 호출당 인덱싱된 최대 문서 수|10000

쿼리와 관련된 할당량이나 최대 제한이 없는지 확인합니다. QPS(초당 쿼리 수)는 사용 가능한 대역폭 및 시스템 리소스에 대한 경합에 따라 달라집니다. 공유 서비스를 백업하는 Azure 계산 및 저장소 리소스는 여러 구독자가 공유하므로 동시에 실행되는 다른 작업의 수에 따라 솔루션의 QPS가 달라집니다.

## 표준(전용) 검색 서비스에 대한 최대 제한

표준 가격 책정 계층에서는 전용 검색 서비스에서 내 데이터만 저장되고 내 작업만 실행됩니다. 공유 서비스와 달리 전용 검색 서비스에 대한 리소스 할당은 조정이 가능하기 때문에 원하는 수준으로 자유롭게 확장할 수 있습니다. 파티션(저장소를 확장하려는 경우)와 복제본(고가용성을 제공하고 QPS 및 인덱스 성능을 확장하려는 경우)에 대해 리소스 수준을 독립적으로 설정할 수 있습니다. 다른 리소스 구성에 대해 알아보려면 [검색 솔루션 관리](search-manage.md)를 참조하세요.

다음 표는 상한값의 목록이지만, 허용 가능한 [파티션 및 복제본의 조합](#chart) 측면에서 용량을 이해하려면 매트릭스 차트를 검토해야 합니다.

Object|제한
------|----
최대 인덱스 수|검색 서비스 당 50
인덱스 당 최대 필드 수|1000
최대 문서 수|파티션당 15백만
최대 저장소 크기|파티션당 25GB
최대 파티션|검색 서비스 당 12
최대 복제본|검색 서비스 당 6
최대 검색 단위|검색 서비스 당 36
최대 검색 서비스|Azure 구독 당 12
최대 인덱서 수|검색 서비스 당 50
인덱서 데이터 원본의 최대 수|검색 서비스 당 50
인덱서 호출당 인덱싱된 최대 문서 수|Unlimited

Azure 검색에서 용량은 검색 단위별로 구입할 수 있습니다. 표준 가격 책정 계층에서는 검색 서비스당 최대 36개의 검색 단위를 사용할 수 있습니다. 이 제한은 파티션 및 복제본에 대한 개별 제한을 재정의합니다. 예를 들어, 서비스를 12개의 파티션과 6개의 복제본으로 확장하려는 경우 필요한 검색 단위는 72개로(12 x 6), 서비스당 36개의 검색 단위 제한을 초과하기 때문에 이렇게 확장할 수는 없습니다.

## 파티션 및 복제본 정보

**파티션**에서는 저장소와 IO를 제공합니다. 단일 검색 서비스에는 최대 12개의 파티션이 있을 수 있습니다. 각 파티션의 하드 한도는 문서 1500만 개 또는 저장소 25GB 중 먼저 도달하는 것으로 지정되어 있습니다. 파티션을 추가하면 검색 서비스에서 더 많은 문서를 로드할 수 있습니다. 예를 들어, 처음에 단일 파티션에 최대 25GB의 데이터를 저장할 수 있었던 서비스에 두 번째 파티션을 추가하면 최대 50GB의 데이터를 저장할 수 있습니다.

**복제본**은 검색 엔진의 복사본입니다. 단일 검색 서비스에 있을 수 있는 복제본 수는 최대 6개입니다. 읽기(쿼리)를 사용하려면 2개 이상의 복제본이 필요하고, 읽기/쓰기(쿼리, 인덱싱)를 사용하려면 3개 이상의 복제본이 필요합니다.

각 인덱스의 복사본이 각 복제본에서 실행됩니다. 복제본을 추가하면 인덱스의 추가 복사본을 온라인에서 사용할 수 있으므로 더 큰 쿼리 작업을 지원하고 여러 복제본 사이에서 요청 작업의 규형을 조정할 수 있습니다. 여러 개의 인덱스가 있고(예를 들어 6개) 3개의 복제본이 있는 경우 각 복제본에는 인덱스 6개 모두의 복사본이 포함됩니다.

쿼리의 복잡성과 경쟁 작업에 따라 쿼리 실행이 상당히 달라질 수 있으므로 예상 QPS(초당 쿼리 수)를 고정 값으로 제공하지는 않습니다. 평균적으로 복제본 하나에서는 약 15개의 QPS를 서비스할 수 있지만 쿼리의 복잡성과(패킷 쿼리가 더 복잡) 네트워크 대기 시간에 따라 처리량이 더 높거나 낮을 수도 있습니다. 복제본을 추가하면 확장성과 성능이 확실히 추가되지만 결과가 선형적으로 비례하지는 않는다는 점도 중요합니다. 복제본을 3개 추가한다고 해서 처리량이 3배가 되는 것은 아닙니다. 쿼리 대기 시간을 통해 추가 복제본의 필요성을 알 수 있습니다.

<a id="chart"></a>
## 파티션 및 복제본의 지원되는 조합

앞에서 설명한 대로 파티션 및 복제본에 대한 유효 제한은 선택한 리소스 조합에 따라 다르며 서비스당 36개의 검색 단위와 가까운 값을 유지합니다. 리소스는 검색 단위(SU)를 기준으로 할당됩니다. 전용 검색 서비스는 복제본 하나와 파티션 하나를 하나의 검색 단위로 사용하여 시작합니다.

추가 용량은 파티션 수에 복제본 수를 곱하여 계산하며, 그 결과는 해당 구성을 지원하기 위해 필요한 전체 검색 단위 수입니다.

다음 표는 세로 축에 복제본을 나열하고 가로 축에 파티션을 나열한 차트입니다. 교차점에는 각 조합을 지원하기 위해 필요한 검색 단위 수가 표시되며, 서비스당 36개의 검색 단위(SU) 제한이 적용됩니다. 예를 들어, 복제본이 6개이고 파티션이 2개인 경우 이 구성에는 12개의 검색 단위가 필요합니다. 4개의 복제본과 2개의 파티션을 사용하려면 8개의 검색 단위가 필요합니다. 일반적으로 대부분의 검색 응용 프로그램에는 파티션보다 복제본이 많이 필요합니다.

<table cellspacing="0" border="1">
<tr><td><b>복제본 6개</b></td><td>6 SU</td><td>12 SU</td><td>18 SU</td><td>24 SU</td><td>36 SU</td><td>해당 없음</td></tr>
<tr><td><b>복제본 5개</b></td><td>5 SU</td><td>10 SU</td><td>15 SU</td><td>20 SU</td><td>30 SU</td><td>해당 없음</td></tr>
<tr><td><b>복제본 4개</b></td><td>4 SU</td><td>8 SU</td><td>12 SU</td><td>16 SU</td><td>24 SU</td><td>해당 없음 </td></tr>
<tr><td><b>복제본 3개</b></td><td>3 SU</td><td>6 SU</td><td>9 SU</td><td>12 SU</td><td>18 SU</td><td>36 SU</td></tr>
<tr><td><b>복제본 2개</b></td><td>2 SU</td><td>4 SU</td><td>6 SU</td><td>8 SU</td><td>12 SU</td><td>24 SU</td></tr>
<tr><td><b>복제본 1개</b>.</td><td>1 SU</td><td>2 SU</td><td>3 SU</td><td>4 SU</td><td>6 SU</td><td>12 SU</td></tr>
<tr><td>해당 없음</td><td><b>파티션 1개</b></td><td><b>파티션 2개</b></td><td><b>파티션 3개</b></td><td><b>파티션 4개</b></td><td><b>파티션 6개</b></td><td><b>파티션 12개</b></td></tr>
</table>

검색 단위, 가격 및 용량에 대해서는 Azure 웹 사이트에서 자세히 설명합니다. 자세한 내용은 [가격 정보](http://azure.microsoft.com/pricing/details/search/)를 참조하세요.

> [AZURE.NOTE]선택한 파티션 수는 12를 고르게 나눌 수 있는 값이어야 합니다(특히 1, 2, 3, 4, 6, 12). Azure 검색에서 각 인덱스를 파티션 사이에 고르게 분할할 수 있도록 12개의 부분으로 미리 나누기 때문입니다. 예를 들어, 서비스에 3개의 파티션이 있는 상태에서 새 인덱스를 만들 경우 각 파티션에는 분할된 인덱스가 4부분씩 포함됩니다. Azure 검색에서 인덱스를 분할하는 방법은 구현에 관한 세부 정보이며 이후 릴리스에서 변경될 수 있습니다. 지금은 그 숫자가 12이지만 이후에 12가 아닌 값으로 바뀔 수도 있습니다.

## 고가용성을 위한 파티션 및 복제본 선택

확장이 쉽고 비교적 빠르기 때문에, 일반적으로 파티션 하나와 복제본 한두 개로 시작한 후 쿼리 볼륨이 커지면 확장하는 것이 좋습니다. 배포에서 파티션 하나로 충분한 저장소와 IO를 제공할 수 있는 경우도 많습니다(파티션당 문서 1500만 개).

그러나 쿼리 작업은 복제본의 영향을 크게 받습니다. 처리량이나 고가용성이 더 필요한 경우에는 추가 복제본이 필요할 수 있습니다.

고가용성을 위한 일반적인 권장 사항은 다음과 같습니다.

- 읽기 전용 작업(쿼리)의 고가용성을 위한 복제본 2개
- 읽기/쓰기 작업(쿼리 및 인덱싱)의 고가용성을 위한 복제본 3개 이상

현재, 재해 복구를 위한 기본 제공 메커니즘은 없습니다. 파티션이나 복제본을 제거하는 것은 재해 복구 목표를 달성하기 위한 전략으로 올바르지 않습니다. 대신, 서비스 수준에서 중복성을 추가하는 것이 좋습니다. 해결 방법에 대한 심층적인 설명은 [이 포럼 게시물](https://social.msdn.microsoft.com/Forums/ee108a26-00c5-49f6-b1ff-64c66c8b828a/dr-and-high-availability-for-azure-search?forum=azuresearch)을 참조하세요.

> [AZURE.NOTE]서비스 수준 계약 및 확장성은 표준 서비스의 기능이라는 점에 주의해야 합니다. 무료 서비스는 복제본과 파티션을 여러 구독자가 공유하는 고정 리소스 수준에서 제공됩니다. 무료 서비스로 시작한 후 업그레이드하려는 경우에는 표준 수준에서 새 Azure 검색 서비스를 만들고 인덱스와 데이터를 새로운 서비스에 다시 로드해야 합니다. 서비스 프로비저닝에 대한 자세한 내용은 [포털에서 Azure 검색 서비스 만들기](search-create-portal.md)를 참조하세요.

## API 키 제한

API 키는 서비스 인증에 사용됩니다. 두 가지 형식이 있습니다. 관리자 키는 요청 헤더에 지정됩니다. 쿼리 키는 URL에 지정됩니다. 키 관리에 대한 자세한 내용은 [Microsoft Azure에서 검색 서비스 관리](search-manage.md)를 참조하세요.

- 서비스당 최대 2개의 관리자 키
- 서비스당 최대 50개의 쿼리 키

## 요청 제한

- 요청당 최대 16MB
- URL 길이 최대 8KB
- 인덱스 업로드, 병합 또는 삭제 배치당 최대 1000개의 문서
- $orderby 절에 최대 32개의 필드
- 최대 검색어 크기는 UTF-8 인코딩된 텍스트로 32766바이트(32KB에서 2바이트를 뺀 값)입니다.

## 응답 제한

- 검색 결과 페이지당 반환되는 문서 최대 1000개
- 제안 API 요청당 반환되는 제안 최대 100개

<!---HONumber=Oct15_HO4-->