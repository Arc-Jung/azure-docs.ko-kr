---
title: Azure Data Factory에서 데이터 흐름 매핑 | Microsoft Docs
description: Azure Data Factory에서 데이터 흐름을 매핑하는 방법에 대 한 개요
author: kromerm
ms.author: makromer
ms.reviewer: daperlov
ms.service: data-factory
ms.topic: conceptual
ms.date: 10/7/2019
ms.openlocfilehash: 8d0ad794caee8a06c8d403a981037d6560fb3f43
ms.sourcegitcommit: 11265f4ff9f8e727a0cbf2af20a8057f5923ccda
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/08/2019
ms.locfileid: "72030172"
---
# <a name="what-are-mapping-data-flows"></a>매핑 Data Flows란?

데이터 흐름 매핑은 Azure Data Factory에서 시각적으로 디자인 된 데이터 변환입니다. 데이터 흐름을 통해 데이터 엔지니어는 코드를 작성 하지 않고도 그래픽 데이터 변환 논리를 개발할 수 있습니다. 결과 데이터 흐름은 확장 된 Spark 클러스터를 사용 하 여 Azure Data Factory 파이프라인 내에서 작업으로 실행 됩니다. 기존 Data Factory 일정, 제어, 흐름 및 모니터링 기능을 통해 데이터 흐름 활동을 조작 가능한 수 있습니다.

데이터 흐름을 매핑하면 코딩 없이도 완벽 한 시각적 환경을 제공 합니다. 데이터 흐름은 확장 된 데이터 처리를 위해 자신의 실행 클러스터에서 실행 됩니다. Azure Data Factory는 모든 코드 변환, 경로 최적화 및 데이터 흐름 작업의 실행을 처리합니다.

## <a name="getting-started"></a>시작

데이터 흐름을 만들려면 팩터리 리소스 아래에서 더하기 기호를 클릭 합니다. 

![새 데이터 흐름](media/data-flow/newdataflow2.png "새 데이터 흐름")

그러면 변환 논리를 만들 수 있는 데이터 흐름 캔버스로 이동 합니다. ' 원본 추가 ' 상자를 클릭 하 여 원본 변환 구성을 시작 합니다. 자세한 내용은 [원본 변환](data-flow-source.md)을 참조 하세요.

## <a name="data-flow-canvas"></a>데이터 흐름 캔버스

데이터 흐름 캔버스는 위쪽 막대, 그래프 및 구성 패널의 세 부분으로 구분 됩니다. 

![Canvas](media/data-flow/canvas1.png "Canvas")

### <a name="graph"></a>그래프

그래프는 변환 스트림을 표시 합니다. 하나 이상의 싱크로 전달 되는 원본 데이터의 계보를 보여 줍니다. 새 원본을 추가 하려면 ' 소스 추가 ' 상자를 클릭 합니다. 새 변환을 추가 하려면 기존 변환의 오른쪽 아래에 있는 더하기 기호를 클릭 합니다.

![Canvas](media/data-flow/canvas2.png "Canvas")

### <a name="configuration-panel"></a>구성 패널

구성 패널에는 현재 선택한 변환과 관련 된 설정이 나 변환이 선택 되지 않은 경우 데이터 흐름이 표시 됩니다. 전체 데이터 흐름 구성에서는 **일반** 탭에서 이름 및 설명을 편집 하거나 **매개 변수** 탭을 통해 매개 변수를 추가할 수 있습니다. 자세한 내용은 [데이터 흐름 매개 변수 매핑](parameters-data-flow.md)을 참조 하세요.

각 변환에는 네 개 이상의 구성 탭이 있습니다.

#### <a name="transformation-settings"></a>변환 설정

각 변환의 구성 창에 있는 첫 번째 탭에는 해당 변환과 관련 된 설정이 포함 되어 있습니다. 자세한 내용은 해당 변형의 설명서 페이지를 참조 하세요.

![원본 설정 탭](media/data-flow/source1.png "원본 설정 탭")

#### <a name="optimize"></a>최적화

_최적화_ 탭에는 파티션 구성표를 구성 하는 설정이 포함 되어 있습니다.

![최적화 최적화](media/data-flow/optimize1.png "")

기본 설정은 "현재 분할 사용" 이며,이는 Spark에서 실행 되는 데이터 흐름에 대 한 기본 파티션 구성표를 사용 하도록 Azure Data Factory에 지시 합니다. 대부분의 시나리오에서이 설정은 권장 되는 방법입니다.

분할을 조정 하려는 인스턴스가 있습니다. 예를 들어, 사용자의 변환을 lake의 단일 파일로 출력 하려면 싱크 변환에서 "단일 파티션"을 선택 합니다.

파티션 구성표를 제어할 수 있는 또 다른 경우는 성능을 최적화 하는 것입니다. 분할을 조정 하면 전체 데이터 흐름 성능에 긍정적인 영향을 미칠 수 있는 계산 노드 및 데이터 위치 최적화에서 데이터 배포를 제어할 수 있습니다. 자세한 내용은 [데이터 흐름 성능 가이드](concepts-data-flow-performance.md)를 참조 하세요.

변환에서 분할을 변경 하려면 최적화 탭을 클릭 하 고 "분할 설정" 라디오 단추를 선택 합니다. 분할에 대 한 일련의 옵션이 제공 됩니다. 분할의 가장 좋은 방법은 데이터 볼륨, 후보 키, null 값 및 카디널리티에 따라 달라 집니다. 가장 좋은 방법은 기본 분할을 시작한 후 다른 분할 옵션을 사용 하는 것입니다. 모니터링 보기의 각 변환 그룹화에서 파이프라인 디버그 실행을 사용 하 여 테스트 하 고 실행 시간 및 파티션 사용을 확인할 수 있습니다. 자세한 내용은 [데이터 흐름 모니터링](concepts-data-flow-monitoring.md)을 참조 하세요.

사용 가능한 분할 옵션은 다음과 같습니다.

##### <a name="round-robin"></a>라운드 로빈 

라운드 로빈은 파티션 간에 데이터를 자동으로 균등 분산하는 간단한 파티션입니다. 견고한 스마트 분할 전략을 구현 하는 데 좋은 핵심 후보가 없는 경우 라운드 로빈을 사용 합니다. 물리적 파티션 수를 설정할 수 있습니다.

##### <a name="hash"></a>Hash

Azure Data Factory는 유사한 값을 가진 행이 동일한 파티션에 속하도록 균일한 파티션을 생성하기 위해 열 해시를 생성합니다. 해시 옵션을 사용하는 경우 가능한 파티션 기울이기를 테스트합니다. 물리적 파티션 수를 설정할 수 있습니다.

##### <a name="dynamic-range"></a>동적 범위

동적 범위는 제공한 열 또는 식을 기반으로 하여 Spark 동적 범위를 사용합니다. 물리적 파티션 수를 설정할 수 있습니다. 

##### <a name="fixed-range"></a>고정 범위

분할 된 데이터 열 내에서 값의 고정 범위를 제공 하는 식을 작성 합니다. 분할을 방지 하기 위해이 옵션을 사용 하기 전에 데이터를 잘 이해 해야 합니다. 식에 대해 입력 하는 값은 파티션 함수의 일부로 사용 됩니다. 물리적 파티션 수를 설정할 수 있습니다.

##### <a name="key"></a>Key

데이터의 카디널리티를 잘 알고 있는 경우 키 분할은 좋은 파티션 전략이 될 수 있습니다. 키 분할은 열의 각 고유 값에 대한 파티션을 만듭니다. 숫자는 데이터의 고유 값을 기반으로 하므로 파티션 수를 설정할 수 없습니다.

#### <a name="inspect"></a>검사

_검사_ 탭은 변환 중인 데이터 스트림의 메타 데이터에 대 한 뷰를 제공 합니다. 열 개수, 변경 된 열, 추가 된 열, 데이터 형식, 열 순서 및 열 참조를 볼 수 있습니다. 검사는 메타 데이터의 읽기 전용 뷰입니다. 검사 창에서 메타 데이터를 보려면 디버그 모드를 사용 하도록 설정 하지 않아도 됩니다.

![](media/data-flow/inspect1.png "검사") 검사

변환을 통해 데이터의 모양을 변경 하면 검사 창에서 메타 데이터 변경 내용이 전달 되는 것을 볼 수 있습니다. 원본 변환에 정의 된 스키마가 없는 경우 검사 창에 메타 데이터가 표시 되지 않습니다. 메타데이터가 부족한 것은 스키마 드리프트 시나리오에서 일반적입니다.

#### <a name="data-preview"></a>데이터 미리 보기

디버그 모드가 on 이면 _데이터 미리 보기_ 탭에서 각 변환 시 데이터의 대화형 스냅숏을 제공 합니다. 자세한 내용은 [디버그 모드에서 데이터 미리 보기](concepts-data-flow-debug-mode.md#data-preview)를 참조 하세요.

### <a name="top-bar"></a>위쪽 막대

위쪽 막대에는 저장 및 유효성 검사와 같은 전체 데이터 흐름에 영향을 주는 동작이 포함 되어 있습니다. 그래프 **표시** 및 **그래프 숨기기** 단추를 사용 하 여 그래프와 구성 모드 사이를 전환할 수도 있습니다.

![그래프]숨기기(media/data-flow/hideg.png "그래프") 숨기기

그래프를 숨기면 **이전** 및 **다음** 단추를 통해 수평 변환 노드를 탐색할 수 있습니다.

![](media/data-flow/showhide.png "탐색") 탐색

## <a name="next-steps"></a>다음 단계

* [원본 변환을](data-flow-source.md) 만드는 방법 알아보기
* [디버그 모드](concepts-data-flow-debug-mode.md) 에서 데이터 흐름을 작성 하는 방법 알아보기
