---
title: 데이터 흐름 디버그 모드 매핑
description: 데이터 흐름을 빌드할 때 대화형 디버그 세션 시작
ms.author: makromer
author: kromerm
ms.reviewer: douglasl
ms.service: data-factory
ms.topic: conceptual
ms.custom: seo-lt-2019
ms.date: 09/06/2019
ms.openlocfilehash: 4a763a3bb4d46ba03808423d4d1283381c1174a3
ms.sourcegitcommit: 5e49f45571aeb1232a3e0bd44725cc17c06d1452
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/17/2020
ms.locfileid: "81605385"
---
# <a name="mapping-data-flow-debug-mode"></a>데이터 흐름 디버그 모드 매핑

[!INCLUDE[appliesto-adf-asa-md](includes/appliesto-adf-asa-md.md)]

## <a name="overview"></a>개요

Azure Data Factory 매핑 데이터 흐름의 디버그 모드를 사용하면 데이터 흐름을 빌드하고 디버깅하는 동안 데이터 셰이프 변환을 대화식으로 볼 수 있습니다. 디버그 세션은 데이터 흐름 설계 세션뿐만 아니라 데이터 흐름의 파이프라인 디버그 실행 중에 모두 사용할 수 있습니다. 디버그 모드를 사용하려면 디자인 표면 상단의 "데이터 흐름 디버그" 버튼을 사용합니다.

![디버그 슬라이더](media/data-flow/debugbutton.png "디버그 슬라이더")

슬라이더를 켜면 사용할 통합 런타임 구성을 선택하라는 메시지가 표시됩니다. 자동 해결통합실행 시간을 선택하면 60분 의 라이브 시간을 가진 8개의 일반 컴퓨팅 코어가 있는 클러스터가 스폰됩니다. 데이터 흐름 통합 런타임에 대한 자세한 내용은 [데이터 흐름 성능을](concepts-data-flow-performance.md#increasing-compute-size-in-azure-integration-runtime)참조하십시오.

![디버그 IR 선택](media/data-flow/debugbutton2.png "디버그 IR 선택")

디버그 모드가 켜지면 활성 Spark 클러스터를 사용하여 데이터 흐름을 대화형으로 빌드합니다. Azure Data Factory에서 디버그를 끄면 세션이 닫힙니다. 디버그 세션이 켜진 시간 동안 Azure Databricks에서 부과되는 시간당 요금에 유의해야 합니다.

대부분의 경우 Azure Data Factory에서 작업을 게시하기 전에 비즈니스 논리의 유효성을 검사하고 데이터 변환을 볼 수 있도록 디버그 모드에서 데이터 흐름을 빌드하는 것이 좋습니다. 파이프라인 패널의 "디버그" 버튼을 사용하여 파이프라인의 데이터 흐름을 테스트합니다.

## <a name="cluster-status"></a>클러스터 상태

클러스터가 디버깅할 준비가 되면 설계 표면 상단의 클러스터 상태 표시등이 녹색으로 바뀝니다. 클러스터가 이미 웜 상태이면 녹색 표시기가 거의 즉시 나타납니다. 디버그 모드에 들어갔을 때 클러스터가 아직 실행되지 않은 경우 클러스터가 회전할 때까지 5~7분 동안 기다려야 합니다. 표시등이 준비될 때까지 회전합니다.

디버깅이 완료되면 Azure Databricks 클러스터가 종료되고 디버그 활동에 대한 요금이 더 이상 청구되지 않도록 디버그 스위치를 끕니다.

## <a name="debug-settings"></a>디버그 설정

데이터 흐름 캔버스 도구 모음에서 "디버그 설정"을 클릭하여 디버그 설정을 편집할 수 있습니다. 여기에서 각 소스 변환에 사용할 행 제한 또는 파일 소스를 선택할 수 있습니다. 이 설정의 행 제한은 현재 디버그 세션에만 해당됩니다. SQL DW 원본에 사용할 스테이징 링크 된 서비스를 선택할 수도 있습니다. 

![디버그 설정](media/data-flow/debug-settings.png "디버그 설정")

데이터 흐름 또는 참조된 데이터 집합에 매개 변수가 있는 경우 매개 변수 탭을 선택하여 디버깅 중에 사용할 값을 지정할 수 **있습니다.**

![디버그 설정 매개 변수](media/data-flow/debug-settings2.png "디버그 설정 매개 변수")

## <a name="data-preview"></a>데이터 미리 보기

디버그를 켜면 데이터 미리 보기 탭이 맨 아래 패널에 표시됩니다. 디버그 모드가 켜지지 않으면 데이터 흐름은 검사 탭의 각 변환의 현재 메타데이터만 표시됩니다. 데이터 미리 보기는 디버그 설정에서 제한으로 설정한 행 수만 쿼리합니다. **새로 고침을** 클릭하여 데이터 미리 보기를 가져옵니다.

![데이터 미리 보기](media/data-flow/datapreview.png "데이터 미리 보기")

> [!NOTE]
> 파일 원본은 읽는 행이 아니라 표시되는 행만 제한합니다. 매우 큰 데이터 집합의 경우 해당 파일의 일부를 사용하여 테스트에 사용하는 것이 좋습니다. 파일 데이터 집합 유형인 각 원본에 대해 디버그 설정에서 임시 파일을 선택할 수 있습니다.

Data Flow에서 디버그 모드로 실행하는 경우에는 데이터가 싱크 변환에 기록되지 않습니다. 디버그 세션은 변환에 대한 테스트 해니로 사용할 수 있습니다. 디버그 중에는 싱크가 필요하지 않으며 데이터 흐름에서 무시됩니다. 싱크에서 데이터 작성을 테스트하려면 Azure 데이터 팩터리 파이프라인에서 데이터 흐름을 실행하고 파이프라인에서 디버그 실행을 사용합니다.

### <a name="testing-join-conditions"></a>조인 조건 테스트

단위 테스트 할 때 조인, 존재 또는 조회 변환, 테스트에 알려진 데이터의 작은 집합을 사용 하 여 있는지 확인 합니다. 위의 디버그 설정 옵션을 사용하여 테스트에 사용할 임시 파일을 설정할 수 있습니다. 이는 큰 데이터 집합에서 행을 제한하거나 샘플링할 때 테스트를 위해 흐름으로 읽을 행과 키를 예측할 수 없기 때문에 필요합니다. 결과는 결정적이지 않으므로 조인 조건이 실패할 수 있습니다.

### <a name="quick-actions"></a>빠른 작업

데이터 미리 보기가 표시되면 열에서 입력 캐스트, 제거 또는 수정에 대한 빠른 변환을 생성할 수 있습니다. 열 헤더를 클릭한 다음 데이터 미리 보기 도구 모음에서 옵션 중 하나를 선택합니다.

![빠른 작업](media/data-flow/quick-actions1.png "빠른 작업")

수정 사항을 선택하면 데이터 미리 보기가 즉시 새로 고쳐집니다. 오른쪽 상단 모서리에서 **확인을** 클릭하여 새 변환을 생성합니다.

![빠른 작업](media/data-flow/quick-actions2.png "빠른 작업")

**형식 변환** 및 **수정은** 파생 열 변환을 생성하고 **제거는** 선택 변환을 생성합니다.

![빠른 작업](media/data-flow/quick-actions3.png "빠른 작업")

> [!NOTE]
> 데이터 흐름을 편집하는 경우 빠른 변환을 추가하기 전에 데이터 미리 보기를 다시 가져와야 합니다.

### <a name="data-profiling"></a>데이터 프로파일링

데이터 미리 보기 탭에서 열을 선택하고 데이터 미리 보기 도구 모음에서 **통계를** 클릭하면 각 필드에 대한 자세한 통계가 있는 데이터 표의 맨 오른쪽에 차트가 표시됩니다. Azure Data Factory는 표시할 차트 유형의 데이터 샘플링에 따라 결정을 내립니다. 카디널리티 필드가 NULL/NOT NULL 차트로 기본값으로 설정되는 반면 카디널리티가 낮은 범주형 및 숫자 데이터는 데이터 값 빈도를 표시하는 막대 차트를 표시합니다. 또한 문자열 필드의 최대/len 길이, 숫자 필드의 최소/최대 값, 표준 개발, 백분위수, 개수 및 평균을 볼 수 있습니다.

![열 통계](media/data-flow/stats.png "열 통계")

## <a name="next-steps"></a>다음 단계

* 데이터 흐름 빌드 및 디버깅이 완료되면 [파이프라인에서 실행합니다.](control-flow-execute-data-flow-activity.md)
* 데이터 흐름을 사용하여 파이프라인을 테스트할 때 파이프라인 [디버그 실행 실행 실행 옵션을 사용합니다.](iterative-development-debugging.md)
