---
title: Azure Data Factory의 데이터 흐름 매핑 기능에서 싱크 변환 설정
description: 매핑 데이터 흐름에서 싱크 변환을 설정 하는 방법에 알아봅니다.
author: kromerm
ms.author: makromer
ms.service: data-factory
ms.topic: conceptual
ms.date: 02/03/2019
ms.openlocfilehash: 4341cbb0e24330d535f5211c088f0068eab33af7
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 06/13/2019
ms.locfileid: "65596271"
---
# <a name="sink-transformation-for-a-data-flow"></a>데이터 흐름에 대 한 변환 싱크

[!INCLUDE [notes](../../includes/data-factory-data-flow-preview.md)]

데이터 흐름을 변환한 후에 대상 데이터 집합에 데이터를 싱크할 수 있습니다. 싱크 변환에서 대상 출력 데이터에 대 한 데이터 집합 정의 선택 합니다. 데이터 흐름의 요구에 따라 변환 싱크 대부분을 사용할 수 있습니다.

스키마 드리프트 및 들어오는 데이터의 변경 내용에 대 한 계정에 출력 데이터 집합에 정의 된 스키마 없이 폴더에 출력 데이터를 싱크 합니다. 또한 고려할 수 열 변경에 대 한 소스에서 선택 하 여 **스키마 드리프트 허용** 소스의 합니다. 그런 다음 모든 자동 매핑 싱크에 필드입니다.

![자동 맵 옵션을 포함 하 여 싱크 탭에서 옵션](media/data-flow/sink1.png "1 싱크")

들어오는 모든 필드를 싱크를 켭니다 **자동 지도**합니다. 싱크를 대상으로 하거나 대상 아래에 있는 필드의 이름을 변경 하려면 필드를 선택 하려면 해제 **자동 지도**합니다. 엽니다는 **매핑** 출력 필드를 매핑하는 탭 합니다.

![매핑 탭에서 옵션](media/data-flow/sink2.png "2 싱크")

## <a name="output"></a>출력 
Azure Blob storage 또는 Data Lake Storage 싱크 형식에 대 한 폴더에 변환된 된 데이터를 출력 합니다. Spark 싱크 변환을 사용 하는 분할 체계를 기반으로 하는 분할 된 출력 데이터 파일을 생성 합니다. 

파티션 구성표를 설정할 수 있습니다 합니다 **최적화** 탭 합니다. 단일 파일에 출력을 병합 하는 Data Factory 선택 **단일 파티션**합니다.

![최적화 탭의 옵션](media/data-flow/opt001.png "싱크 옵션")

## <a name="field-mapping"></a>필드 매핑

에 **매핑** 탭에 싱크 변환의 오른쪽에 대상으로 왼쪽에 있는 들어오는 열을 매핑할 수 있습니다. 파일에 데이터 흐름을 싱크, 하는 경우 Data Factory 폴더로 새 파일을 항상 작성 합니다. 데이터베이스 데이터 집합에 매핑하는 경우에 설정 하 여이 스키마를 사용 하는 새 테이블을 생성할 수 있습니다 **정책 저장** 하 **덮어쓰기**합니다. 또는 기존 테이블에 새 행을 삽입 하 고 필드를 기존 스키마에 매핑하십시오. 

![매핑 탭](media/data-flow/sink2.png "싱크")

매핑 테이블에서 다중 선택 여러 열을 연결, 여러 열을 사용 중인 또는 여러 행을 동일한 열 이름을 매핑할 수 있습니다.

항상 들어오는 필드 집합에 매핑할 대상 되 고 완전히 유연한 스키마 정의 허용 하도록 선택 **스키마 드리프트 허용**합니다.

![데이터 집합의 열에 매핑할 필드를 보여 주는 매핑 탭](media/data-flow/multi1.png "여러 옵션")

열 매핑을 다시 설정 하려면 선택 **다시 매핑**합니다.

![싱크 탭](media/data-flow/sink1.png "하나 싱크")

선택 **유효성 검사 스키마** 스키마가 변경 하는 경우 싱크를 실패 합니다.

선택 **폴더를 선택 취소** 싱크 폴더의 내용을 해당 대상 폴더의 대상 파일을 쓰기 전에 자를 합니다.

## <a name="file-name-options"></a>파일 이름 옵션

파일 이름 지정을 설정 합니다. 

   * **기본값**: 일부 기본값을 기반으로 하는 이름 파일에 Spark를 허용 합니다.
   * **패턴**: 출력 파일에 대 한 패턴을 입력 합니다. 예를 들어 **대출 [n]** loans1.csv, loans2.csv, 등에 만들어집니다.
   * **파티션당**: 파티션당 하나의 파일 이름을 입력 합니다.
   * **열에 있는 데이터로**: 출력 파일을 열 값으로 설정 합니다.
   * **단일 파일에 출력**: 이 옵션을 사용 하 여 ADF는 단일 명명 된 파일에 분할 된 출력 파일을 결합 합니다. 이 옵션을 사용 하려면 데이터 집합 폴더 이름을를 확인 합니다. 또한 주의 하십시오이 병합 작업 노드 크기에 따라 실패할 가능성이 있습니다.

> [!NOTE]
> 데이터 흐름 실행 활동을 실행 하는 경우에 작업 시작 파일입니다. 데이터 흐름 디버깅 모드로 시작 하지 않습니다.

## <a name="database-options"></a>데이터베이스 옵션

데이터베이스 설정을 선택 합니다.

* **메서드를 업데이트**: 삽입을 허용 하는 기본값은입니다. 명확한 **허용 삽입** 소스의 새 행 삽입을 중지 하려는 경우. 를 upsert를 업데이트 하거나 행을 삭제 하려면 먼저 해당 작업에 대 한 태그 행 alter 행 변환을 추가 합니다. 
* **테이블을 다시**: 삭제 하거나 데이터 흐름 완료 되기 전에 대상 테이블을 만듭니다.
* **테이블 자르기**: 완료 되기 전에 대상 테이블에서 모든 행을 제거 합니다.
* **배치 크기**: 청크에 대한 버킷 쓰기 수를 입력합니다. 이 옵션을 사용 하 여 대량의 데이터 로드에 대 한 합니다. 
* **준비 사용**: 싱크 데이터 집합으로 Azure 데이터 웨어하우스를 로드 하는 경우 PolyBase를 사용 합니다.

![SQL 싱크 옵션을 보여 주는 설정 탭](media/data-flow/alter-row2.png "SQL 옵션")

> [!NOTE]
> 데이터 흐름에서 대상 데이터베이스에서 새 테이블 정의 만들려면 Data Factory를 보낼 수 있습니다. 테이블 정의 만들려면 새 테이블 이름을 가진 싱크 변환에서 데이터 집합을 설정 합니다. SQL 데이터 집합 테이블 이름 아래에서 선택 **편집** 새 테이블 이름을 입력 합니다. 그런 다음 싱크 변환 켭니다 **스키마 드리프트 허용**합니다. 설정할 **스키마 가져오기** 하 **None**합니다.

![SQL 데이터 집합 설정, 테이블 이름을 편집 하려면 위치를 보여 주는](media/data-flow/dataset2.png "SQL 스키마")

> [!NOTE]
> 데이터베이스 싱크에에서 행을 삭제 하거나 업데이트할 때의 키 열을 설정 해야 합니다. 이 설정은 데이터 이동 라이브러리 (DML)에 고유 행을 확인 하려면 alter 행 변형할을 수 있습니다.

## <a name="next-steps"></a>다음 단계

데이터 흐름을 만들었으므로 이제 추가 된 [파이프라인에 데이터 흐름 작업](concepts-data-flow-overview.md)합니다.
