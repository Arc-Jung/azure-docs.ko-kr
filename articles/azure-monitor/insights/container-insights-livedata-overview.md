---
title: 컨테이너에 대한 Azure 모니터를 사용하여 라이브 데이터 보기(미리 보기) | 마이크로 소프트 문서
description: 이 문서에서는 컨테이너에 대해 Azure Monitor에서 kubectl을 사용하지 않고 Kubernetes 로그, 이벤트 및 포드 메트릭의 실시간 보기를 설명합니다.
ms.topic: conceptual
ms.date: 10/15/2019
ms.openlocfilehash: 9e7c7a7b7bf276b3451cee1d289b8b07ac0f40ba
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/28/2020
ms.locfileid: "79216562"
---
# <a name="how-to-view-kubernetes-logs-events-and-pod-metrics-in-real-time"></a>Kubernetes 로그, 이벤트 및 포드 메트릭을 실시간으로 보는 방법

컨테이너용 Azure 모니터에는 AKS(Azure Kubernetes Service) 컨테이너 로그(stdout/stderror), 이벤트 및 포드 메트릭에 직접 액세스할 수 있는 고급 진단 기능인 라이브 데이터(미리 보기) 기능이 포함되어 있습니다. `kubectl get` 에 `kubectl top pods`대한 `kubectl logs -c`직접 액세스를 노출합니다. 콘솔 창에는 컨테이너 엔진에서 생성된 로그, 이벤트 및 메트릭이 표시되어 실시간으로 문제 해결을 추가합니다.

이 문서에서는 자세한 개요를 제공 하며이 기능을 사용 하는 방법을 이해 하는 데 도움이 됩니다. 

>[!NOTE]
>개인 클러스터로 활성화된 AKS [클러스터는](https://azure.microsoft.com/updates/aks-private-cluster/) 이 기능에서 지원되지 않습니다. 이 기능은 브라우저에서 프록시 서버를 통해 Kubernetes API에 직접 액세스하는 데 의존합니다. 네트워킹 보안을 사용하여 이 프록시에서 Kubernetes API를 차단하면 이 트래픽이 차단됩니다. 

>[!NOTE]
>이 기능은 Azure China를 포함한 모든 Azure 지역에서 사용할 수 있습니다. 현재 Azure 미국 정부에서는 사용할 수 없습니다.

라이브 데이터(미리 보기) 기능을 설정하거나 문제 해결하는 데 도움이 되는 경우 [설정 가이드를](container-insights-livedata-setup.md)검토하십시오. 이 기능은 Kubernetes API에 직접 액세스하며 인증 모델에 대한 추가 정보는 [여기에서](https://kubernetes.io/docs/concepts/overview/kubernetes-api/)찾을 수 있습니다. 

## <a name="live-data-preview-functionality-overview"></a>라이브 데이터(미리 보기) 기능 개요

### <a name="search"></a>검색

![라이브 데이터 콘솔 창 필터 예제](./media/container-insights-livedata-overview/livedata-pane-filter-example.png)

라이브 데이터(미리 보기) 기능에는 검색 기능이 포함되어 있습니다. **검색** 필드에서 키워드 또는 용어를 입력하여 결과를 필터링할 수 있으며 일치하는 결과가 강조 표시되어 빠르게 검토할 수 있습니다. 이벤트를 보는 동안 검색 표시줄 오른쪽에 있는 **필터** 알약을 사용하여 결과를 추가로 제한할 수 있습니다. 선택한 리소스에 따라 필에서 선택할 수 있는 Pod, 네임스페이스 또는 클러스터가 나열됩니다.  

### <a name="scroll-lock-and-pause"></a>스크롤 잠금 및 일시 중지 

자동 스크롤을 일시 중단하고 창의 동작을 제어하여 새 데이터 읽기를 수동으로 스크롤할 수 있도록 **하려면 스크롤** 옵션을 사용할 수 있습니다. 자동 스크롤을 다시 사용하려면 **스크롤** 옵션을 다시 선택하기만 하면 됩니다. 일시 **중지** 옵션을 선택하여 로그 또는 이벤트 데이터의 검색을 일시 중지할 수도 있으며, 다시 시작할 준비가 되면 **재생을**선택하기만 하면 됩니다.  

![라이브 데이터 콘솔 창 일시 정지 라이브 뷰](./media/container-insights-livedata-overview/livedata-pane-scroll-pause-example.png)

>[!IMPORTANT]
>문제를 해결하는 동안 짧은 시간 동안만 자동 스크롤을 일시 중단하거나 일시 중지하는 것이 좋습니다. 이러한 요청은 클러스터에서 Kubernetes API의 가용성 및 제한에 영향을 미칠 수 있습니다. 

>[!IMPORTANT]
>이 기능을 작동하는 동안 데이터가 영구적으로 저장되지 않습니다. 세션 중에 캡처된 모든 정보는 브라우저를 닫거나 브라우저에서 멀리 이동할 때 삭제됩니다. 메트릭 기능의 5분 창 내에서 시각화를 위해서만 데이터가 남아 있습니다. 5분 이상 된 모든 메트릭도 삭제됩니다. 적절한 메모리 사용 한도 내에서 라이브 데이터(미리 보기) 버퍼 쿼리(여기서 더 구체적으로 해야 하며, 합리적이냐). 

## <a name="view-logs"></a>로그 보기

노드, 컨트롤러 **및** 컨테이너 보기에서 컨테이너 엔진에 의해 생성되는 실시간 로그 데이터를 볼 수 **있습니다.** **Controllers** 로그 데이터를 보려면 다음 단계를 수행합니다.

1. Azure 포털에서 AKS 클러스터 리소스 그룹을 찾아보고 AKS 리소스를 선택합니다.

2. AKS 클러스터 대시보드에서 왼쪽의 **모니터링** 아래에서 **Insights를**선택합니다. 

3. 노드, 컨트롤러 또는 **컨테이너** 탭 중 하나를 **선택합니다.** **Controllers**

4. 성능 표에서 객체를 선택하고 오른쪽에 있는 속성 창에서 라이브 **데이터 보기(미리 보기)** 옵션을 선택합니다. AKS 클러스터가 Azure AD를 사용하여 단일 사인온으로 구성된 경우 해당 브라우저 세션 중에 처음 사용할 때 인증하라는 메시지가 표시됩니다. 계정을 선택하고 Azure를 통해 인증을 수행합니다.  

    >[!NOTE]
    >속성 창에서 **분석 옵션보기보기를** 선택하여 Log Analytics 작업 영역에서 데이터를 볼 때 로그 검색 결과에 **노드,** **데몬 세트,** **복제본 집합,** **작업,** **Cron 작업,** **포드**및 더 이상 존재하지 않을 수 있는 **컨테이너가** 표시될 수 있습니다. 로그를 검색하여 사용할 수 `kubectl` 없는 컨테이너도 실패합니다. 분석 [에서 보기](container-insights-log-search.md#search-logs-to-analyze-data) 기능을 검토하여 기록 로그, 이벤트 및 측정항목 보기에 대해 자세히 알아보십시오.  

성공적으로 인증한 후 라이브 데이터(미리 보기) 콘솔 창이 연속 스트림에서 로그 데이터를 볼 수 있는 성능 데이터 그리드 아래에 표시됩니다. 가져오기 상태 표시기에서 창의 맨 오른쪽에 있는 녹색 확인 표시가 표시되면 데이터를 검색할 수 있으며 본체로 스트리밍을 시작합니다.  

![노드 속성 창 보기 데이터 옵션](./media/container-insights-livedata-overview/node-properties-pane.png)  

창 제목은 컨테이너가 그룹화된 포드의 이름을 표시합니다.

## <a name="view-events"></a>이벤트 보기

컨테이너, 포드, 노드, ReplicaSet, 데몬셋, 작업, CronJob 또는 배포가 선택될 때 **노드,** **컨트롤러,** **컨테이너**및 **배포(미리 보기)** 보기에서 컨테이너 엔진에 의해 생성되는 실시간 이벤트 데이터를 볼 수 있습니다. 이벤트를 보려면 다음 단계를 수행합니다.

1. Azure 포털에서 AKS 클러스터 리소스 그룹을 찾아보고 AKS 리소스를 선택합니다.

2. AKS 클러스터 대시보드에서 왼쪽의 **모니터링** 아래에서 **Insights를**선택합니다. 

3. **노드,** **컨트롤러,** **컨테이너**또는 **배포(미리 보기)** 탭 중 하나를 선택합니다.

4. 성능 표에서 객체를 선택하고 오른쪽에 있는 속성 창에서 라이브 **데이터 보기(미리 보기)** 옵션을 선택합니다. AKS 클러스터가 Azure AD를 사용하여 단일 사인온으로 구성된 경우 해당 브라우저 세션 중에 처음 사용할 때 인증하라는 메시지가 표시됩니다. 계정을 선택하고 Azure를 통해 인증을 수행합니다.  

    >[!NOTE]
    >속성 창에서 **분석 옵션보기보기를** 선택하여 Log Analytics 작업 영역에서 데이터를 볼 때 로그 검색 결과에 **노드,** **데몬 세트,** **복제본 집합,** **작업,** **Cron 작업,** **포드**및 더 이상 존재하지 않을 수 있는 **컨테이너가** 표시될 수 있습니다. 로그를 검색하여 사용할 수 `kubectl` 없는 컨테이너도 실패합니다. 분석 [에서 보기](container-insights-log-search.md#search-logs-to-analyze-data) 기능을 검토하여 기록 로그, 이벤트 및 측정항목 보기에 대해 자세히 알아보십시오.  

성공적으로 인증하면 라이브 데이터(미리 보기) 콘솔 창이 성능 데이터 그리드 아래에 표시됩니다. 가져오기 상태 표시기에서 창의 맨 오른쪽에 있는 녹색 확인 표시가 표시되면 데이터를 검색할 수 있으며 본체로 스트리밍을 시작합니다. 
    
선택한 개체가 컨테이너인 경우 창에서 **이벤트** 옵션을 선택합니다. 노드, 포드 또는 컨트롤러를 선택한 경우 보기 이벤트가 자동으로 선택됩니다. 

![컨트롤러 속성 창 보기 이벤트](./media/container-insights-livedata-overview/controller-properties-live-event.png)  

창 제목은 컨테이너가 그룹화된 Pod의 이름을 표시합니다.

### <a name="filter-events"></a>이벤트 필터링 

이벤트를 보는 동안 검색 표시줄 오른쪽에 있는 **필터** 알약을 사용하여 결과를 추가로 제한할 수 있습니다. 선택한 리소스에 따라 필에서 선택할 수 있는 Pod, 네임스페이스 또는 클러스터가 나열됩니다.  

## <a name="view-metrics"></a>메트릭 보기 

**노드** 또는 컨트롤러 보기에서 컨테이너 엔진에 의해 생성되는 실시간 메트릭 데이터를 **Pod가** 선택된 경우에만 볼 수 **있습니다.** 메트릭을 보려면 다음 단계를 수행합니다.

1. Azure 포털에서 AKS 클러스터 리소스 그룹을 찾아보고 AKS 리소스를 선택합니다.

2. AKS 클러스터 대시보드에서 왼쪽의 **모니터링** 아래에서 **Insights를**선택합니다. 

3. 노드 또는 컨트롤러 탭 중 하나를 **선택합니다.** **Controllers**

4. 성능 표에서 **Pod** 객체를 선택하고 오른쪽에 있는 속성 창에서 **라이브 데이터 보기(미리 보기)** 옵션을 선택합니다. AKS 클러스터가 Azure AD를 사용하여 단일 사인온으로 구성된 경우 해당 브라우저 세션 중에 처음 사용할 때 인증하라는 메시지가 표시됩니다. 계정을 선택하고 Azure를 통해 인증을 수행합니다.  

    >[!NOTE]
    >속성 창에서 **분석 옵션보기보기를** 선택하여 Log Analytics 작업 영역에서 데이터를 볼 때 로그 검색 결과에 **노드,** **데몬 세트,** **복제본 집합,** **작업,** **Cron 작업,** **포드**및 더 이상 존재하지 않을 수 있는 **컨테이너가** 표시될 수 있습니다. 로그를 검색하여 사용할 수 `kubectl` 없는 컨테이너도 실패합니다. 분석 [에서 보기](container-insights-log-search.md#search-logs-to-analyze-data) 기능을 검토하여 기록 로그, 이벤트 및 측정항목 보기에 대해 자세히 알아보십시오.  

성공적으로 인증하면 라이브 데이터(미리 보기) 콘솔 창이 성능 데이터 그리드 아래에 표시됩니다. 메트릭 데이터가 검색되고 두 차트에서 프레젠테이션을 위해 본체로 스트리밍을 시작합니다. 창 제목은 컨테이너가 그룹화된 포드의 이름을 표시합니다.

![포드 측정항목 보기 예제](./media/container-insights-livedata-overview/pod-properties-live-metrics.png)  

## <a name="next-steps"></a>다음 단계

- Azure 모니터를 사용하고 AKS 클러스터의 다른 측면을 모니터링하는 방법을 계속 알아보려면 [Azure Kubernetes 서비스 상태 보기를](container-insights-analyze.md)참조하십시오.

- [로그 쿼리 예제를](container-insights-log-search.md#search-logs-to-analyze-data) 보고 미리 정의된 쿼리 및 예제를 확인하여 경고, 시각화를 만들거나 클러스터에 대한 추가 분석을 수행합니다.
