---
title: Azure Monitor에서 동적 임계값을 사용하여 경고 만들기
description: 기계 학습 기반 동적 임계값을 사용한 경고 만들기
author: yanivlavi
services: azure-monitor
ms.service: azure-monitor
ms.topic: conceptual
ms.date: 11/29/2018
ms.author: yalavi
ms.reviewer: mbullwin
ms.openlocfilehash: 4024ecddde4b0d020e2c657214a4a258ea0b2ea5
ms.sourcegitcommit: 9b6492fdcac18aa872ed771192a420d1d9551a33
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 01/22/2019
ms.locfileid: "54449013"
---
# <a name="metric-alerts-with-dynamic-thresholds-in-azure-monitor-public-preview"></a>Azure Monitor의 동적 임계값을 사용한 메트릭 경고(공개 미리 보기)

동적 임계값 검색을 사용하는 메트릭 경고는 고급 ML(기계 학습)을 사용하여 메트릭의 과거 동작을 학습하고, 가능한 서비스 문제를 나타내는 패턴과 변칙을 식별합니다. 이 기능은 사용자가 완전 자동화 방식으로 Azure Resource Manager API를 통해 경고 규칙을 구성할 수 있도록 하여 간단한 UI와 대규모 작업을 지원합니다.

경고 규칙을 만들면 모니터링된 메트릭이 조정된 임계값을 기준으로 예상대로 동작하지 않을 때만 경고를 발생합니다.

여러분의 의견을 환영합니다. azurealertsfeedback@microsoft.com으로 의견을 보내주세요.

## <a name="why-and-when-is-using-dynamic-condition-type-recommended"></a>동적 조건 형식은 언제 어떤 이유로 권장되나요?

1. **확장 가능한 경고** – 동적 임계값 경고 규칙은 한 번에 수백 개의 메트릭 시리즈에 대해 조정된 임계값을 만들 수 있습니다. 그렇지만 단일 메트릭에서 경고 규칙을 정의하는 것만큼 쉽습니다. UI 또는 Azure Resource Manager API를 사용하면 관리할 경고 규칙 수가 줄어듭니다. 이 확장 가능한 접근 방법은 메트릭 차원을 다루거나 모든 구독 리소스와 같은 여러 리소스에 적용할 때 특히 유용합니다. 두 경우 모두 경고 규칙을 관리 및 만들 때 상당한 시간 절약 효과를 가져옵니다. [템플릿을 사용하여 동적 임계값으로 메트릭 경고를 구성하는 방법에 자세히 알아봅니다](alerts-metric-create-templates.md).

1. **스마트 메트릭 패턴 인식** – 고유한 ML 기술을 사용하여 메트릭 패턴을 자동으로 검색하고, 종종 계절성(매시간/매일/매주)을 포함할 수 있는 시간에 따른 메트릭 변경에 맞게 조정할 수 있습니다. 시간에 따른 메트릭 동작에 맞게 조정하고, 해당 패턴에서의 편차에 따라 경고를 발생하면 각 메트릭의 "정확한" 임계값을 알지 못해도 됩니다. 동적 임계값에 사용되는 ML 알고리즘은 예상되는 패턴을 따르지 않는 노이즈(낮은 정밀도) 또는 넓은(낮은 재현율) 임계값을 방지하도록 디자인되었습니다.

1. **직관적인 구성** – 동적 임계값을 사용하면 고급 개념을 통해 메트릭 경고를 설정할 수 있으므로 메트릭에 대해 광범위한 도메인 지식을 보유할 필요성이 줄어듭니다.

## <a name="how-to-configure-alerts-rules-with-dynamic-thresholds"></a>동적 임계값을 사용하여 경고 규칙을 구성하는 방법

동적 임계값을 사용한 경고는 Azure Monitor의 메트릭 경고를 통해 구성할 수 있습니다. [메트릭 경고를 구성하는 방법에 대해 자세히 알아봅니다](alerts-metric.md).

## <a name="how-are-the-thresholds-calculated"></a>임계값은 어떻게 계산되나요?

동적 임계값은 메트릭 시리즈의 데이터를 지속적으로 학습하고, 알고리즘 및 메서드 세트를 사용하여 모델링하려고 합니다. 이 기능은 계절성(매시간/매일/매주)과 같은 데이터의 패턴을 검색하고, 분산이 낮은 메트릭(예: 가용성 및 오류 비율) 뿐만 아니라 노이즈 메트릭(예: 컴퓨터 CPU 또는 메모리)을 처리할 수 있습니다.

이러한 임계값에서의 편차가 메트릭 동작의 변칙을 나타내는 방식으로 임계값이 선택됩니다.

## <a name="what-does-sensitivity-setting-in-dynamic-thresholds-mean"></a>동적 임계값에서 '민감도' 설정은 무엇을 의미하나요?

경고 임계값 민감도는 경고를 트리거하는 데 필요한 메트릭 동작에서의 편차 크기를 제어하는 고급 개념입니다.
이 옵션을 사용하면 메트릭에 대한 도메인 지식(예: 정적 임계값)이 필요하지 않습니다. 제공되는 옵션은 다음과 같습니다.

- 높음 – 임계값이 좀 더 조밀하고 메트릭 시리즈 패턴에 근접합니다. 경고 규칙이 가장 작은 편차에서 트리거되므로 경고가 더 많이 발생합니다.
- 중간 - 높음 민감도(기본값)보다 임계값은 덜 조밀하고 좀 더 균일하며 경고 횟수는 더 적습니다.
- 낮음 - 임계값은 메트릭 시리즈 패턴에서 느슨하게 더 멀리 떨어져 있습니다. 경고 규칙이 큰 편차에서만 트리거되므로 경고가 더 적게 발생합니다.

## <a name="what-are-the-operator-setting-options-in-dynamic-thresholds"></a>동적 임계값에서 '작업자' 설정 옵션이란 무엇인가요?

동적 임계값 경고 규칙은 동일한 경고 규칙을 사용하여 상한 및 하한 둘 다에 대해 메트릭 동작을 토대로 조정된 임계값을 만들 수 있습니다.
다음 세 가지 조건 중 하나에서 경고가 트리거되도록 선택할 수 있습니다.

- 상한 임계값보다 크거나 하한 임계값보다 낮습니다(기본값).
- 상한 임계값보다 큽니다.
- 하한 임계값보다 낮습니다.

## <a name="what-do-the-advanced-settings-in-dynamic-thresholds-mean"></a>동적 임계값의 고급 설정은 무엇을 의미하나요?

**실패 기간** - 동적 임계값을 사용하여 특정 기간 내에서 시스템이 경고를 발생하는 데 필요한 최소 편차를 나타내는 "경고를 트리거할 위반 수"도 구성할 수 있습니다(기본 시간 범위는 20분 내의 4개 편차임). 사용자는 실패 기간 및 시간 범위를 변경하여 실패 기간을 구성하고, 경고할 대상을 선택할 수 있습니다. 이 기능은 일시적인 스파이크에 의해 생성된 경고 노이즈를 줄여줍니다. 예: 

문제가 주어진 5분씩 4번 연속해서 20분간 지속되는 경우 경고를 트리거하려면 다음 설정을 사용합니다.

![주어진 5분씩 4번 연속해서 20분간 지속되는 문제에 대한 실패 기간 설정](media/alerts-dynamic-thresholds/0008.png)

기간이 5분일 때 지난 30분 중 20분 동안 동적 임계값 위반이 발생한 경우 경고를 트리거하려면 다음 설정을 사용합니다.

![5분씩 묶은 지난 30분 중에서 20분 동안 지속되는 문제에 대한 실패 기간 설정](media/alerts-dynamic-thresholds/0009.png)

**다음 이전의 데이터 무시:** -사용자는 경우에 따라 시스템에서 임계값 계산을 시작하는 시작 날짜를 정의할 수도 있습니다. 일반적인 사용 사례는 리소스가 테스트 모드에서 실행되고 있었으나 이제 프로덕션 워크로드를 제공하도록 승격되므로, 테스트 단계 동안의 메트릭 동작을 무시해야 하는 경우일 수 있습니다.

## <a name="will-slow-behavior-change-in-the-metric-trigger-an-alert"></a>메트릭의 느린 동작 변경이 경고를 트리거하나요?

그렇지 않을 가능성이 있습니다. 동적 임계값은 느리게 진화하는 문제보다는 상당한 편차를 검색하는 데 유용합니다.

## <a name="how-much-data-is-used-to-preview-and-then-calculate-thresholds"></a>임계값을 미리 본 다음, 계산하는 데 사용하는 데이터 양은 얼마나 되나요?

메트릭에서 경고 규칙을 만들기 전에 차트에 표시되는 임계값은 지난 10일 간의 데이터를 기반으로 계산됩니다. 경고 규칙이 만들어지면 동적 임계값은 사용 가능한 과거 데이터를 추가로 수집하고 새 데이터를 지속적으로 학습하여 임계값을 보다 정확하게 만들어 갑니다.
