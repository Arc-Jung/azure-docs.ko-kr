<properties
	pageTitle="Azure 가상 컴퓨터 백업 소개 | Microsoft Azure"
	description="Azure 백업 서비스를 사용하여 Azure에서 가상 컴퓨터를 백업하는 방법 소개"
	services="backup"
	documentationCenter=""
	authors="trinadhk"
	manager="shreeshd"
	editor=""/>

<tags ms.service="backup" ms.workload="storage-backup-recovery" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="09/24/2015" ms.author="trinadhk";"aashishr";"jimpark"/>

# Azure 가상 컴퓨터 백업

이 섹션에서는 Microsoft Azure 백업을 사용하여 Azure 가상 컴퓨터를 보호하는 방법을 소개합니다. 이 섹션을 읽으면 다음을 알게 됩니다.

- Azure 가상 컴퓨터 백업의 작동 방식
- Azure 가상 컴퓨터를 백업하는 절차
- 원활한 백업 경험을 위한 필수 조건
- 발생하는 일반적인 오류 및 오류를 처리하는 방법
- 지원되지 않는 시나리오 목록 및 제품 변경에 미치는 영향

Azure 가상 컴퓨터에 대한 자세한 내용을 신속하게 보려면 [가상 컴퓨터 설명서](https://azure.microsoft.com/documentation/services/virtual-machines/)를 참조하세요.

## Azure 가상 컴퓨터를 백업하는 이유
클라우드 컴퓨팅을 사용하면 확장 가능하고 가용성이 높은 환경에서 응용 프로그램을 실행할 수 있으며, 이것이 Microsoft가 Azure 가상 컴퓨터를 개발한 이유입니다. 이러한 Azure 가상 컴퓨터에서 생성된 데이터는 중요하며, 안전하게 보관하기 위해 백업이 필요합니다. 백업에서 데이터를 복원해야 하는 일반적인 시나리오는 다음과 같습니다.

- 실수 또는 악의적 의도에 의한 파일 삭제
- 패치 업데이트 중 가상 컴퓨터 손상
- 실수 또는 악의적 의도에 의한 전체 가상 컴퓨터 삭제

다음 두 가지 방법으로 이러한 가상 컴퓨터에서 데이터를 백업할 수 있습니다.

- 가상 컴퓨터 내에서 개별 데이터 원본 백업
- 전체 가상 컴퓨터 백업

전체 가상 컴퓨터 백업은 관리가 훨씬 간단할 뿐 아니라 전체 응용 프로그램 및 운영 체제를 쉽게 복원할 수 있어 널리 사용됩니다. Azure 백업은 게스트 내 데이터 백업 또는 전체 가상 컴퓨터 백업에 사용할 수 있습니다.

가상 컴퓨터 백업에 Azure 백업을 사용할 경우의 비즈니스 이점은 다음과 같습니다.

- 가상 컴퓨터에 대한 백업 및 복구 워크플로 자동화
- 복구된 데이터가 일관된 상태에서 시작되도록 하는 응용 프로그램 일치 백업
- 가상 컴퓨터를 백업하는 동안 가동 중지 시간 없음
- Windows 또는 Linux 가상 컴퓨터를 백업할 수 있음
- 쉽게 복원할 수 있도록 Azure 백업 자격 증명 모음에 복구 지점 제공됨
- 이전 복구 지점의 자동 정리 및 가비지 수집

## Azure 가상 컴퓨터 백업은 어떻게 작동하나요?
가상 컴퓨터를 백업하려면 먼저 데이터의 지정 시간 스냅숏이 필요합니다. Azure 백업 서비스는 예약된 시간에 백업 작업을 시작하고 스냅숏을 만드는 백업 확장을 트리거합니다. 백업 확장은 일관성을 유지하기 위해 게스트 내 VSS 서비스와 조정되고, 일관성이 달성되면 Azure 저장소 서비스의 Blob 스냅숏 API를 호출합니다. 이 작업은 종료하지 않고 가상 컴퓨터의 일관된 디스크 스냅숏을 가져오기 위한 것입니다.

스냅숏이 생성된 후 Azure 백업 서비스가 백업 자격 증명 모음으로 데이터를 전송합니다. 서비스는 마지막 백업에서 변경된 블록만 식별하고 전송하여 백업 자격 증명 모음을 효율적으로 만듭니다. 데이터 전송이 완료되면 스냅숏이 제거되고 복구 지점이 생성됩니다. 이 복구 지점은 Azure 관리 포털에서 확인할 수 있습니다.

![Azure 가상 컴퓨터 백업 아키텍처](./media/backup-azure-vms-introduction/vmbackup-architecture.png)

>[AZURE.NOTE]Linux 가상 컴퓨터의 경우 파일 일치 백업만 가능합니다.

## 보호된 인스턴스 계산
Azure 백업을 사용하여 백업된 Azure 가상 컴퓨터에는 [Azure 백업 가격](http://azure.microsoft.com/pricing/details/backup/)이 적용됩니다. 보호된 인스턴스 계산은 가상 컴퓨터의 *실제* 크기를 기반으로 하며, "리소스 디스크"를 제외한 가상 컴퓨터의 모든 데이터 합계입니다. 가상 컴퓨터에 연결된 각 데이터 디스크에 대해 지원되는 최대 크기가 *아니라* 데이터 디스크에 저장된 실제 데이터를 기준으로 요금이 청구됩니다. 마찬가지로, 백업 저장소 요금은 Azure 백업을 사용하여 저장된 데이터 양(각 복구 지점의 실제 데이터 합계)을 기준으로 청구됩니다.

최대 크기가 각각 1TB인 두 개의 추가 데이터 디스크가 있는 A2 표준 크기 가상 컴퓨터를 예로 들 수 있습니다. 아래 표는 각 디스크에 저장된 실제 데이터를 제공합니다.

|디스크 유형|최대 크기|실제 데이터 표시|
|---------|--------|------|
| OS 디스크 | 1023GB | 17GB |
| 로컬 디스크/리소스 디스크 | 135GB | 5GB(백업에 포함되지 않음) |
| 데이터 디스크 1 |	1023GB | 30GB |
| 데이터 디스크 2 | 1023GB | 0GB |

이 경우 가상 컴퓨터의 *실제* 크기는 17GB + 30GB + 0GB = 47GB입니다. 이 값이 월별 청구 요금의 기준이 되는 보호된 인스턴스 크기가 됩니다. 가상 컴퓨터의 데이터 양이 증가하면 요금 청구에 사용되는 보호된 인스턴스 크기도 그에 따라 변경됩니다.

요금 청구는 첫 번째 백업이 성공적으로 완료되기 전까지 시작되지 않습니다. 이때 저장소와 보호된 인스턴스 둘 다에 대한 요금 청구가 시작됩니다. *Azure 백업을 사용하여 저장된 가상 컴퓨터의 백업 데이터*가 있는 한 요금 청구가 계속됩니다. 백업 데이터가 보존된 경우 보호 중지 작업을 수행해도 요금 청구는 중지되지 않습니다. 지정된 가상 컴퓨터에 대한 요금 청구는 보호가 중지되고 모든 백업 데이터가 삭제된 경우에만 중단됩니다. 활성 백업 작업이 없는 경우(보호가 중지된 경우), 마지막으로 성공한 백업 당시의 가상 컴퓨터 크기가 월별 요금 청구의 기준이 되는 보호된 인스턴스 크기가 됩니다.

## 필수 조건
### 1\. 백업 자격 증명 모음
Azure 가상 컴퓨터를 백업하려면 먼저 백업 자격 증명 모음을 만들어야 합니다. 자격 증명 모음은 모든 백업과 시간에 따라 생성된 복구 지점을 저장하는 엔터티입니다. 자격 증명 모음에는 백업 중인 가상 컴퓨터에 적용할 백업 정책도 포함됩니다.

아래 그림은 여러 Azure 백업 엔터티 간의 관계를 보여 줍니다. ![Azure 백업 엔터티 및 관계](./media/backup-azure-vms-introduction/vault-policy-vm.png)

### 백업 자격 증명 모음을 만들려면

1. [관리 포털](http://manage.windowsazure.com/)에 로그인합니다.

2. **새로 만들기** > **데이터 서비스** > **복구 서비스** > **백업 자격 증명 모음** > **빠른 생성**을 클릭합니다. 조직 계정과 연결된 구독이 여러 개인 경우 백업 자격 증명 모음과 연결할 올바른 계정을 선택합니다. 각 Azure 구독에서 여러 개의 백업 자격 증명 모음을 사용하여 보호 중인 가상 컴퓨터를 구성할 수 있습니다.

3. **이름**에 자격 증명 모음을 식별하기 위한 이름을 입력합니다. 이는 각 구독에 대해 고유해야 합니다.

4. **지역**에서 자격 증명 모음에 대한 지리적 지역을 선택합니다. 자격 증명 모음은 보호하려는 가상 컴퓨터와 동일한 지역에 있어야 합니다. 가상 컴퓨터가 여러 지역에 있는 경우 각 지역에 자격 증명 모음을 만듭니다. 백업 데이터를 저장하기 위해 저장소 계정을 지정할 필요는 없습니다. 백업 자격 증명 모음 및 Azure 백업 서비스가 자동으로 처리합니다. ![백업 자격 증명 모음 만들기](./media/backup-azure-vms-introduction/backup_vaultcreate.png)

5. **자격 증명 모음 만들기**를 클릭합니다. 백업 자격 증명 모음을 만드는 데 시간이 걸릴 수 있습니다. 포털의 맨 아래에서 상태 알림을 모니터링합니다. ![자격 증명 모음 알림 메시지 만들기](./media/backup-azure-vms-introduction/creating-vault.png)

6. 자격 증명 모음이 성공적으로 만들어졌으며 복구 서비스 페이지에 활성 상태로 나열됨을 확인하는 메시지가 나타납니다. 자격 증명 모음이 생성된 후 즉시 적절한 저장소 중복 옵션을 선택해야 합니다. [백업 자격 증명 모음에서 저장소 중복 옵션 설정](../backup-azure-backup-create-vault.md#storage-redundancy-options)에 대해 자세히 알아보세요. ![백업 자격 증명 모음 목록](./media/backup-azure-vms-introduction/backup_vaultslist.png)

7. 백업 자격 증명 모음을 클릭하면 **빠른 시작** 페이지로 이동하며, Azure 가상 컴퓨터의 백업 지침이 표시됩니다. ![대시보드 페이지의 가상 컴퓨터 백업 지침](./media/backup-azure-vms-introduction/vmbackup-instructions.png)


### 2\. VM 에이전트
Azure 가상 컴퓨터 백업을 시작하기 전에 Azure VM 에이전트가 가상 컴퓨터에 올바르게 설치되었는지 확인합니다. 가상 컴퓨터를 백업하기 위해 Azure 백업 서비스는 VM 에이전트 확장을 설치합니다. VM 에이전트는 가상 컴퓨터를 만들 때의 선택적 구성 요소이므로 가상 컴퓨터를 프로비전하기 전에 VM 에이전트에 대한 확인란이 선택되었는지 확인해야 합니다.

[VM 에이전트](https://go.microsoft.com/fwLink/?LinkID=390493&clcid=0x409) 및 [설치 방법](http://azure.microsoft.com/blog/2014/04/15/vm-agent-and-extensions-part-2/)에 대해 알아보세요.

## 제한 사항

- Azure 리소스 관리자 기반(즉, IaaS V2) 가상 컴퓨터의 백업은 지원되지 않습니다.
- 16개 이상의 데이터 디스크가 있는 가상 컴퓨터의 백업은 지원되지 않습니다.
- 프리미엄 저장소를 사용하는 가상 컴퓨터의 백업은 지원되지 않습니다.
- 여러 예약된 IP가 있는 가상 컴퓨터의 백업은 지원되지 않습니다.
- 예약된 IP가 있고 정의된 끝점이 없는 가상 컴퓨터의 백업은 지원되지 않습니다.
- 여러 NIC를 사용하거나 부하 분산 구성에 포함된 가상 컴퓨터의 백업은 지원되지 않습니다.
- 복원하는 동안 기존 가상 컴퓨터의 교체는 지원되지 않습니다. 먼저 기존 가상 컴퓨터와 관련 디스크를 모두 삭제한 다음 백업에서 데이터를 복원합니다.
- 지역 간 백업 및 복원은 지원되지 않습니다.
- Azure 백업 서비스를 사용한 가상 컴퓨터 백업은 Azure의 모든 공용 지역에서 지원됩니다. 다음은 지원되는 지역의 [검사 목록](http://azure.microsoft.com/regions/#services)입니다. 찾는 지역이 현재 지원되지 않는 경우, 자격 증명 모음을 만드는 동안 드롭다운 목록에 표시되지 않습니다.
- Azure 백업 서비스를 사용하는 가상 컴퓨터 백업은 선택한 운영 체제 버전에 대해서만 지원됩니다.
  - **Linux**: Azure 인증 배포 목록은 [여기](../virtual-machines-linux-endorsed-distributions.md)서 확인할 수 있습니다. 가상 컴퓨터에서 VM 에이전트를 사용할 수 있는 한 기타 Bring-Your-Own-Linux 배포도 작동합니다.
  - **Windows Server**: Windows Server 2008 R2 이전 버전은 지원되지 않습니다.
- 다중 DC 구성의 일부인 도메인 컨트롤러 VM 복원은 PowerShell을 통해서만 지원됩니다. [다중 DC 도메인 컨트롤러 복원](backup-azure-restore-vms.md#restoring-domain-controller-vms)에 대해 자세히 알아보세요.

포함되었으면 하는 기능이 있는 경우 [의견을 보내 주세요](http://aka.ms/azurebackup_feedback).

## 다음 단계
가상 컴퓨터 백업을 시작하려면 다음 방법을 알아보세요.

- [가상 컴퓨터 백업](backup-azure-vms.md)
- [가상 컴퓨터 복원](backup-azure-restore-vms.md)
- [가상 컴퓨터 백업 관리](backup-azure-manage-vms.md)

<!---HONumber=Oct15_HO1-->