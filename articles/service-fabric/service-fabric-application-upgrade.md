<properties
   pageTitle="서비스 패브릭 응용 프로그램 업그레이드"
   description="이 문서에서는 서비스 패브릭 응용 프로그램 업그레이드를 소개합니다."
   services="service-fabric"
   documentationCenter=".net"
   authors="mani-ramaswamy"
   manager="samgeo"
   editor=""/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="07/17/2015"
   ms.author="subramar"/>


# 서비스 패브릭 응용 프로그램 업그레이드


서비스 패브릭 응용 프로그램은 서비스 컬렉션입니다. 업그레이드가 진행되는 동안 서비스 패브릭은 새로운 [응용 프로그램 매니페스트](service-fabric-application-model.md#describe-an-application)를 이전 버전과 비교하여 응용 프로그램의 어떤 서비스를 업데이트해야 하는지 결정합니다. 업데이트할 서비스는 서비스 매니페스트의 버전 번호를 이전 버전과 비교하여 결정됩니다. 서비스가 변경되지 않으면 해당 서비스가 업그레이드되지 않습니다.

## 롤링 업그레이드 개요
롤링 응용 프로그램 업그레이드에서 업그레이드는 여러 단계로 수행됩니다. 각 단계에서 업그레이드 도메인이라고 하는 클러스터의 노드 하위 집합에 업그레이드가 적용됩니다. 결과적으로, 전체 업그레이드 과정에서 응용 프로그램 가용성이 유지됩니다. 업그레이드가 진행되는 동안 클러스터에 이전 버전과 새 버전이 동시에 포함될 수 있습니다. 이러한 이유로 두 버전이 호환되어야 합니다. 호환되지 않을 경우 응용 프로그램 관리자는 가용성을 유지하려면 다단계 업그레이드를 준비해야 합니다. 이 작업은 이전 버전과 호환되는 응용 프로그램의 중간 버전으로 업그레이드한 후 최종 버전으로 업그레이드하여 수행됩니다.

업그레이드 도메인은 사용자가 클러스터를 구성할 때 클러스터 매니페스트에 지정됩니다. 업그레이드 도메인에서 업데이트를 특정 순서대로 받을 것이라 생각하면 안 됩니다. 업그레이드 도메인은 응용 프로그램에 대한 배포의 논리 단위입니다. 업그레이드 도메인은 업그레이드가 진행되는 동안 고가용성을 유지합니다.

클러스터의 모든 노드에 업그레이드가 적용되는 경우에는 비롤링 업그레이드도 가능합니다. 응용 프로그램에 업그레이드 도메인이 하나뿐인 경우가 이에 해당합니다. 업그레이드가 진행되는 동안 서비스 제공이 중지되기 때문에 권장하지 않는 방법입니다. 또한 업그레이드 도메인 하나로 클러스터를 설정할 경우 Azure에서 어떤 보증도 제공하지 않습니다.

## 업그레이드 동안 상태 검사
업그레이드에 대해 상태 정책을 설정해야 합니다. 설정하지 않으면 기본값이 사용됩니다. 모든 업그레이드 도메인이 지정된 시간 제한 내에 업그레이드되고 모든 업그레이드 도메인이 정상 상태로 보이면 업그레이드에 성공했다고 합니다. 정상 업그레이드 도메인이란 업그레이드된 도메인이 상태 정책에 지정된 모든 상태 검사를 통과한다는 의미입니다. 예를 들어 상태 정책에 따라 응용 프로그램 인스턴스의 모든 서비스가 <em>정상</em>이어야 하고, 상태는 서비스 패브릭에서 정의됩니다.

업그레이드가 진행되는 동안 서비스 패브릭에서 수행하는 상태 정책 및 상태 검사는 서비스 및 응용 프로그램을 구분하지 않습니다. 즉, 서비스별 테스트가 따로 없습니다. 예를 들어 사용자의 서비스에 최소 처리량에 대한 요구 사항이 있습니다. 그러나 서비스 패브릭은 이 요구 사항을 테스트하는 데 필요한 정보를 갖고 있지 않기 때문에 응용 프로그램에 대해 정의된 처리량을 검사하지 않습니다. 수행되는 검사에 대한 자세한 내용은 [상태 문서](service-fabric-health-introduction.md)를 참조하세요. 업그레이드 동안 수행되는 검사에는 응용 프로그램 패키지가 올바르게 복사되었는지 여부, 인스턴스가 시작되었는지 여부 등이 포함됩니다.

응용 프로그램 상태는 응용 프로그램의 자식 엔터티를 집계한 것입니다. 간단히 말해서 서비스 패브릭에서는 응용 프로그램에 대해 보고되는 상태와 응용 프로그램에 대한 모든 서비스 상태를 통해 응용 프로그램의 상태를 평가합니다. 응용 프로그램 서비스의 상태는 서비스 복제본 같은 자식의 상태를 집계하여 보다 구체적으로 평가됩니다. 응용 프로그램 상태 정책을 충족하면 업그레이드를 계속할 수 있고 상태 정책을 위반하면 응용 프로그램 업그레이드가 실패합니다.

## 업그레이드 모드

업그레이드의 일반 모드(권장함)는 모니터링입니다. 모니터링 모드는 하나의 업그레이드 도메인에서 업그레이드를 수행하고 정책에 지정된 모든 상태 검사를 통과하면 자동으로 다음 업그레이드 도메인으로 넘어가는 방식입니다. 상태 검사가 실패하거나 시간 제한에 도달하면 업그레이드가 업그레이드 도메인에 대해 롤백되거나, 업그레이드 시 해당 옵션을 선택한 경우에는 모드가 모니터링되지 않는 수동으로 변경됩니다.

모니터링되지 않는 수동 모드는 업그레이드 도메인에서 업그레이드가 수행될 때마다 다음 업그레이드 도메인에서 업그레이드가 시작되도록 수동 작업이 필요합니다. 서비스 패브릭 상태 검사가 전혀 수행되지 않으며, 사용자가 수동으로 상태 검사를 수행해야만 다음 업그레이드 도메인에서 업그레이드가 시작됩니다.

## 응용 프로그램 업그레이드 순서도

아래 순서도는 서비스 패브릭 응용 프로그램의 업그레이드 프로세스를 이해하는 데 도움이 됩니다. 특히 *HealthCheckStableDuration*, *HealthCheckRetryTimeout* 및 *UpgradeHealthCheckInterval*을 비롯한 시간 제한이 한 업그레이드 도메인의 업그레이드를 성공 또는 실패로 간주하는 시간을 어떻게 제어하는지 잘 설명되어 있습니다.

![서비스 패브릭 응용 프로그램의 업그레이드 프로세스][image]


## 다음 단계

[업그레이드 자습서](service-fabric-application-upgrade-tutorial.md)

[업그레이드 매개 변수](service-fabric-application-upgrade-parameters.md)

[데이터 직렬화](service-fabric-application-upgrade-data-serialization.md)

[고급 항목](service-fabric-application-upgrade-advanced.md)

[응용 프로그램 업그레이드 문제 해결](service-fabric-application-upgrade-troubleshooting.md)



[image]: media/service-fabric-application-upgrade/service-fabric-application-upgrade-flowchart.png
 

<!---HONumber=Oct15_HO3-->