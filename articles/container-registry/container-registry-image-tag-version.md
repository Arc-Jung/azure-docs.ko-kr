---
title: Azure Container Registry에서 이미지 태그 및 버전
description: 컨테이너 이미지 태그 지정 및 Docker 버전 관리를 위한 모범 사례
services: container-registry
author: stevelasker
ms.service: container-registry
ms.topic: article
ms.date: 07/10/2019
ms.author: steve.lasker
ms.openlocfilehash: bd00fd4f8dd247c766eb34849ecf9de603c5171b
ms.sourcegitcommit: 66237bcd9b08359a6cce8d671f846b0c93ee6a82
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2019
ms.locfileid: "67800394"
---
# <a name="recommendations-for-tagging-and-versioning-container-images"></a>컨테이너 이미지 태그 지정 및 버전 관리를 위한 권장 사항

푸시할 때 다음 배포할 컨테이너 이미지를 컨테이너 레지스트리를 배포 하는 다음을 이미지 태그 지정 및 버전 관리에 대 한 전략이 필요 합니다. 이 문서에서는 두 가지 방법 및 각 컨테이너 수명 주기 동안 적합 한 위치를 설명 합니다.

* **태그를 안정적인** -주 버전을 나타내는 또는 부 버전이 같은 예를 들어 재사용 하는 태그 *mycontainerimage:1.0*합니다.
* **고유 태그** -같은 레지스트리에 푸시 하면 각 이미지에 대 한 다른 태그 *mycontainerimage:abc123*합니다.

## <a name="stable-tags"></a>안정적인 태그

**권장 사항**: 안정적인 태그를 사용 하 여 유지 하기 위해 **기본 이미지** 컨테이너 빌드에 대 한 합니다. 이러한 태그 계속 업데이트를 수신 하 고 프로덕션 환경에서 불일치가 발생할 수 있습니다 때문에 안정적인 태그를 사용 하 여 배포 하지 마세요.

*태그를 안정적인* 개발자 또는 빌드 시스템을 계속 업데이트 하는 특정 태그를 가져오려고 계속 수를 의미 합니다. 안정적인은 내용을 고정 되어 의미 하지 않습니다. 대신 안정적인 해당 이미지를 해당 버전의 의도 대 한 안정적인 수를 의미 합니다. "안정적인 항목" 유지, 보안 패치 또는 프레임 워크 업데이트를 적용할 처리할 수 있습니다.

### <a name="example"></a>예제

Framework 팀 버전 1.0을 제공합니다. 알고, 업데이트, 부분 업데이트를 포함 하 여 전송 됩니다. 안정적인 태그 지정 된 주 및 부 버전을 지원 하려면 두 집합이 안정적인 태그를 갖습니다.

* `:1` – 주 버전에 대 한 안정적인 태그입니다. `1` "최신" 또는 "latest" 1. * 버전을 나타냅니다.
* `:1.0`-version 1.0, 허용 되지 롤포워드할 1.1이 릴리스되면에 업데이트 1.0을 바인딩하는 개발자에 대 한 안정적인 태그입니다.

팀도 사용 하는 `:latest` 태그에 관계 없이 어떤 현재 주 버전이 최신 안정적인 태그를 가리킵니다.

기본 이미지 업데이트를 사용할 수는 또는 경우 안정적인 태그를 사용 하 여 이미지 프레임 워크 릴리스의 서비스 유형의 모든 버전의 안정적인 최신 릴리스를 나타내는 최신 다이제스트로 업데이트 됩니다.

이 경우 주 및 부 태그는 처리 되 고 지속적으로 됩니다. 기본 이미지 시나리오에서 이렇게 하면 서비스 이미지를 제공 하기 위해 이미지 소유자입니다.

## <a name="unique-tags"></a>고유 태그

**권장 사항**: 에 대 한 고유 태그를 사용 하 여 **배포**를 축소 하는 여러 노드에서 환경에서 특히 합니다. 의도적으로 일관 된 버전의 구성 요소 배포 수도 있습니다. 에 컨테이너가 다시 시작 또는 오 케 스트레이 터 하 여 더 많은 인스턴스를 확장 하는 경우 호스트를 다른 노드와 일치 하지 않는 최신 버전을 끌어오기 실수로 없습니다.

고유 태그 이미지가 레지스트리로 푸시 될 때마다 고유한 태그는 단순히 의미 합니다. 태그는 다시 사용 되지 않습니다. 가지 고유 태그를 포함 하 여 생성 하는 데 수행할 수는 몇 가지 패턴이 있습니다.

* **날짜-시간 스탬프** -이미지 빌드 했을 때를 명확 하 게 알 수 있으므로이 접근 방식은 매우 일반적입니다. 그러나 빌드 시스템으로 상관 관계를 지정 하는 방법? 동시에 완료 된 빌드를 찾을 수 있습니까? 어떤 표준 시간대를 하시 나요? 모든 빌드 시스템은 UTC로 보정?
* **Git 커밋** – 기본 이미지 업데이트를 지 원하는 시작 하기 전 까지는이 방법은 작동 합니다. 기본 이미지 업데이트에 문제가 발생 하면 빌드 시스템 이전 빌드와 동일한 Git 커밋을 사용 하 여 시작 합니다. 그러나 기본 이미지에 새 콘텐츠입니다. Git 커밋 제공 하는 일반적으로 *semi*-태그 안정적입니다.
* **매니페스트 다이제스트** -container registry에 푸시된 각 컨테이너 이미지는 연결 된 매니페스트를 사용 하 여 고유 SHA-256 해시 또는 다이제스트를으로 식별 합니다. 고유 하는 동안 길고를 읽기 어렵거나 빌드 환경과 상관 관계가 없는 다이제스트는입니다.
* **빌드 ID** -것 이므로이 옵션을 가장 적합할 증분, 모든 아티팩트 및 로그를 찾으려면 특정 빌드에 다시 상관 관계를 지정할 수 있습니다. 그러나 매니페스트 다이제스트 같은 어려울 수도 있습니다 사람이 읽기에 대 한 합니다.

  조직에 여러 빌드 시스템에 빌드 시스템 이름 사용 하 여 태그를 붙여 경우이 옵션에 대 한 변형: `<build-system>-<build-id>`합니다. 예를 들어 API 팀의 Jenkins 빌드 시스템에서 빌드를 구별할 수 있습니다 및 웹 팀의 Azure 파이프라인 빌드 시스템입니다.

## <a name="next-steps"></a>다음 단계

이 문서에 설명 된 개념의 자세한 내용은 블로그 게시물을 참조 하세요. [Docker 태그를 지정 합니다. Docker 이미지 태그 지정 및 버전 관리에 대 한 유용한](https://stevelasker.blog/2018/03/01/docker-tagging-best-practices-for-tagging-and-versioning-docker-images/)합니다.

성능 및 Azure container registry의 비용 효율적인 사용을 극대화 하기 위해 참조 [Azure Container Registry에 대 한 모범 사례](container-registry-best-practices.md)합니다.

<!-- IMAGES -->


<!-- LINKS - Internal -->

