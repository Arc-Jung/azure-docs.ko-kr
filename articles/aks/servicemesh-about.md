---
title: 서비스 메쉬 정보
description: 서비스 메시, 해당 아키텍처 및 기능, 배포할 서비스 메시(]를 선택할 때 고려해야 할 기준)에 대한 개요를 얻을 수 있습니다.
author: paulbouwer
ms.topic: article
ms.date: 10/09/2019
ms.author: pabouwer
ms.openlocfilehash: eca49a3fac1ea0398ebe1d05bde20fbca3c81232
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/28/2020
ms.locfileid: "77594314"
---
# <a name="about-service-meshes"></a>서비스 메쉬 정보

서비스 메시는 트래픽 관리, 복원력, 정책, 보안, 강력한 ID 및 워크로드에 대한 관찰 가능성과 같은 기능을 제공합니다. 응용 프로그램은 이러한 운영 기능에서 분리되고 서비스 메시는 응용 프로그램 계층에서 인프라 계층으로 이동합니다.

## <a name="scenarios"></a>시나리오

다음은 서비스 메시를 사용할 때 워크로드에 대해 사용할 수 있는 몇 가지 시나리오입니다.

- **클러스터의 모든 트래픽 암호화** - 클러스터의 지정된 서비스 간에 상호 TLS를 사용하도록 설정합니다. 네트워크 경계에서 받는 및 송신으로 확장할 수 있습니다. 응용 프로그램 코드 및 인프라에 필요한 변경 없이 기본적으로 보안 옵션을 제공합니다.

- **Canary 및 단계별 롤아웃** - 클러스터의 새 서비스 집합으로 라우팅할 트래픽하위 집합에 대한 조건을 지정합니다. 카나리아 릴리스의 성공적인 테스트에서 조건부 라우팅을 제거하고 새 서비스에 대한 모든 트래픽의 %를 점진적으로 증가시면 됩니다. 결국 모든 트래픽은 새 서비스로 이동합니다.

- **트래픽 관리 및 조작** - 모든 트래픽을 특정 원본의 서비스 버전으로 제한하는 서비스에 대한 정책을 만듭니다. 또는 지정된 서비스 간의 실패 클래스에 재시도 전략을 적용하는 정책입니다. 마이그레이션 하는 동안 서비스의 새 버전에 라이브 트래픽을 미러하거나 디버깅 합니다. 복원력을 테스트하기 위해 테스트 환경에서 서비스 간에 오류를 주입합니다.

- **관찰 가능성** - 서비스가 서비스 간에 흐르는 트래픽을 연결하는 방법에 대한 통찰력을 얻을 수 있습니다. 클러스터의 모든 트래픽에 대한 메트릭, 로그 및 추적 및 송신/송신을 가져옵니다. 응용 프로그램에 분산 추적 기능을 추가합니다.

## <a name="architecture"></a>Architecture

서비스 메시는 일반적으로 제어 평면과 데이터 평면으로 구성됩니다.

**제어 평면에는** 서비스 메시 관리를 지원하는 여러 구성 요소가 있습니다. 여기에는 일반적으로 UI 또는 API가 될 수 있는 관리 인터페이스가 포함됩니다. 또한 일반적으로 서비스 메시가 특정 기능을 구현하는 방법을 정의하는 규칙 및 정책 정의를 관리하는 구성 요소가 있습니다. 강력한 ID 및 mTLS에 대한 인증서와 같은 보안 측면을 관리하는 구성 요소도 있습니다. 또한 서비스 매쉬에는 일반적으로 워크로드에서 메트릭 및 원격 분석을 수집하고 집계하는 메트릭 또는 관찰 가능성 구성 요소가 있습니다.

**데이터 평면은** 일반적으로 워크로드에 사이드카로 투명하게 주입되는 프록시로 구성됩니다. 이 프록시는 워크로드를 포함하는 포드안팎의 모든 네트워크 트래픽을 제어하도록 구성됩니다. 이를 통해 프록시를 구성하여 mTLS를 통해 트래픽을 보호하고, 트래픽을 동적으로 라우팅하고, 트래픽에 정책을 적용하고, 메트릭 및 추적 정보를 수집할 수 있습니다. 

![일반적인 서비스 메시 아키텍처](media/servicemesh/typical-architecture.png)

## <a name="capabilities"></a>기능

각 서비스 매쉬에는 적합하고 특정 시나리오를 지원하는 데 중점을 두지만 일반적으로 대부분의 경우 다음 기능 중 일부가 여러 가지 기능을 구현한다는 것을 알 수 있습니다.

### <a name="traffic-management"></a>교통 관리 

- **프로토콜** – 레이어 7 (http, grpc)
- **동적 라우팅** – 조건부, 가중치, 미러링
- **복원력** – 시간 시간, 재시도, 회로 차단기
- **정책** – 액세스 제어, 속도 제한, 할당량
- **테스트** - 오류 주입

### <a name="security"></a>보안

- **암호화** – mTLS, 인증서 관리, 외부 CA
- **강력한 정체성** – SPIFFE 또는 이와 유사한
- **인증** – 인증, 승인

### <a name="observability"></a>관찰 가능성

- **지표** – 황금 지표, 프로메테우스, 그라파나
- **추적** - 워크로드 전반에 걸친 추적
- **트래픽** – 클러스터, 송신/송신

### <a name="mesh"></a>메시

- **지원되는 컴퓨팅** - Kubernetes, 가상 머신
- **다중 클러스터** - 게이트웨이, 페더레이션

## <a name="selection-criteria"></a>선택 기준

서비스 메시를 선택하기 전에 요구 사항과 서비스 메시 설치 이유를 이해해야 합니다. 다음 질문을 해 본다.

- **내 요구에 필요한 경우 인그레스 컨트롤러가 충분합니까?** - 때로는 a/b 테스트 또는 트래픽 분할과 같은 기능을 갖는 것만으로도 필요한 시나리오를 지원하기에 충분합니다. 거꾸로 하지 않고 환경에 복잡성을 추가 하지 마십시오.

- **워크로드와 환경이 추가 오버헤드를 견딜 수 있습니까?** - 서비스 메시를 지원하는 데 필요한 모든 추가 구성 요소는 CPU 및 메모리와 같은 추가 리소스가 필요합니다. 또한 모든 프록시 및 관련 정책 검사는 트래픽에 대기 시간을 추가합니다. 대기 시간에 매우 민감하거나 서비스 메시 구성 요소를 포괄하는 추가 리소스를 제공할 수 없는 워크로드가 있는 경우 다시 고려하십시오.

- **이로 인하여 불필요하게 복잡성이 추가되고 있습니까?** - 서비스 메시를 설치하는 이유가 비즈니스 또는 운영 팀에 반드시 중요하지 않은 기능을 확보하는 것이라면 설치, 유지 관리 및 구성의 추가 복잡성이 가치가 있는지 고려하십시오.

- **증분 방식으로 채택할 수 있습니까?** - 많은 기능을 제공하는 일부 서비스 메시(meshes)는 보다 점진적인 접근 방식으로 채택할 수 있습니다. 성공을 보장하는 데 필요한 구성 요소만 설치합니다. 자신감이 넘치고 추가 기능이 필요하면 해당 기능을 살펴보십시오. 처음부터 *모든 것을* 설치하는 충동에 저항.

신중하게 고려한 후 필요한 기능을 제공하기 위해 서비스 메시가 필요하다고 결정한 경우 다음 결정은 *어떤 서비스 메시입니까?*

다음 영역과 요구 사항에 가장 부합하는 영역을 고려하십시오. 이렇게 하면 환경 및 워크로드에 가장 적합한 것으로 안내됩니다. [다음 단계](#next-steps) 섹션에서는 특정 서비스 메시에 대한 자세한 정보와 이러한 영역에 매핑하는 방법에 대한 자세한 정보를 안내합니다.

- **기술** - 교통 관리, 정책, 보안, 관찰 가능성

- **비즈니스** - 상업 지원, 재단 (CNCF), OSS 라이센스, 거버넌스

- **운영** – 설치/업그레이드, 리소스 요구 사항, 성능 요구 사항, 통합(메트릭, 원격 분석, 대시보드, 도구, SMI), 혼합 워크로드(Linux 및 Windows 노드 풀), 컴퓨팅(Kubernetes, 가상 머신), 다중 클러스터

- **보안** - 인증, ID, 인증서 관리 및 회전, 플러그 형 외부 CA


## <a name="next-steps"></a>다음 단계

다음 설명서는 AZURE Kubernetes 서비스(AKS)에서 사용해 볼 수 있는 서비스 메시에 대한 자세한 정보를 제공합니다.

> [!div class="nextstepaction"]
> [이시오에 대해 자세히 알아보기 ...][istio-about]

> [!div class="nextstepaction"]
> [링커드에 대해 자세히 알아보기 ...][linkerd-about]

> [!div class="nextstepaction"]
> [영사에 대해 자세히 알아보기 ...][consul-about]

Kubernetes에서 서비스 메시에 대한 표준 인터페이스인 SMI(서비스 메시 인터페이스)를 탐색할 수도 있습니다.

- [서비스 메시 인터페이스(SMI)][smi]


<!-- LINKS - external -->
[smi]: https://smi-spec.io/

<!-- LINKS - internal -->
[istio-about]: ./servicemesh-istio-about.md
[linkerd-about]: ./servicemesh-linkerd-about.md
[consul-about]: ./servicemesh-consul-about.md