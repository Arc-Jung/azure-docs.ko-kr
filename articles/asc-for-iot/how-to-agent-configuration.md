---
title: IoT 에이전트를 위한 Azure 보안 센터 구성| 마이크로 소프트 문서
description: IoT 보안 서비스를 위한 Azure 보안 센터에서 사용할 수 있도록 IoT 보안 에이전트용 Azure 보안 센터를 구성하는 방법을 알아봅니다.
services: asc-for-iot
ms.service: asc-for-iot
documentationcenter: na
author: mlottner
manager: rkarlin
editor: ''
ms.assetid: f95c445a-4f0d-4198-9c6c-d01446473bd0
ms.subservice: asc-for-iot
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 02/18/2020
ms.author: mlottner
ms.openlocfilehash: 70396cdcaf8b6e2ac66619290eea35a7b260cd9a
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/27/2020
ms.locfileid: "77461252"
---
# <a name="tutorial-configure-security-agents"></a>자습서: 보안 에이전트 구성

이 문서에서는 IoT 보안 에이전트용 Azure 보안 센터에 대해 설명하고 이를 변경하고 구성하는 방법을 자세히 설명합니다. 

> [!div class="checklist"]
> * 보안 에이전트 구성
> * 쌍 속성 편집을 통해 에이전트 동작 변경
> * 기본 구성 검색

## <a name="agents"></a>에이전트

IoT 보안 에이전트용 Azure 보안 센터는 IoT 장치에서 데이터를 수집하고 보안 작업을 수행하여 검색된 취약점을 완화합니다. 보안 에이전트 구성은 사용자 지정할 수 있는 모듈 쌍 속성 집합을 사용하여 제어할 수 있습니다. 일반적으로 이러한 속성에 대한 보조 업데이트는 드물다.  

IoT의 보안 에이전트 쌍 구성 개체에 대 한 Azure 보안 센터 JSON 형식 개체입니다. 구성 개체는 에이전트의 동작을 제어하기 위해 정의할 수 있는 제어 가능한 속성 집합입니다. 

이러한 구성을 사용하면 필요한 각 시나리오에 대해 에이전트를 사용자 지정할 수 있습니다. 예를 들어 일부 이벤트를 자동으로 제외하거나 이러한 속성을 구성하여 전력 소비를 최소 수준으로 유지할 수 있습니다.  

IoT 보안 에이전트 구성 [스키마에](https://aka.ms/iot-security-github-module-schema) 대한 Azure 보안 센터를 사용하여 변경합니다.  

## <a name="configuration-objects"></a>구성 개체 

IoT 보안 에이전트에 대한 모든 Azure 보안 센터와 관련된 속성은 **azureiotsecurity** 모듈의 원하는 속성 섹션 내에 있는 에이전트 구성 개체에 있습니다. 

구성을 수정하려면 **azureiotsecurity** 모듈 쌍 ID 내에서 이 개체를 만들고 수정합니다. 

에이전트 구성 개체가 **azureiotsecurity** 모듈 쌍에 없는 경우 모든 보안 에이전트 속성 값은 기본값으로 설정 됩니다. 

```json
"desired": {
  "ms_iotn:urn_azureiot_Security_SecurityAgentConfiguration": {
  } 
}
```

## <a name="configuration-schema-and-validation"></a>구성 스키마 및 유효성 검사 

이 [스키마에](https://aka.ms/iot-security-github-module-schema)대해 에이전트 구성의 유효성을 검사해야 합니다. 구성 개체가 스키마와 일치하지 않으면 에이전트가 시작되지 않습니다.

 
에이전트가 실행 중인 동안 구성 개체가 유효하지 않은 구성으로 변경되면(구성이 스키마와 일치하지 않음) 에이전트는 잘못된 구성을 무시하고 현재 구성을 계속 사용하게 됩니다. 

### <a name="configuration-validation"></a>구성 유효성 검사

IoT 보안 에이전트용 Azure 보안 센터는 **azureiotsecurity** 모듈 쌍 ID의 보고된 속성 섹션 내에서 현재 구성을 보고합니다.
에이전트는 사용 가능한 모든 속성을 보고합니다.

구성의 유효성을 검사하려면 원하는 섹션에 설정된 값을 보고된 섹션에 보고된 값과 비교합니다.

원하는 속성과 보고된 속성 간에 불일치가 있는 경우 에이전트는 구성을 구문 분석할 수 없습니다.

[스키마에](https://aka.ms/iot-security-github-module-schema)대해 원하는 속성의 유효성을 검사하고 오류를 수정하고 원하는 속성을 다시 설정하십시오!

> [!NOTE]
> 에이전트가 원하는 구성을 구문 분석할 수 없는 경우 에이전트에서 구성 오류 경고가 발생합니다.
> 보고된 섹션과 원하는 섹션을 비교하여 경고가 여전히 적용되는지 이해합니다.

## <a name="editing-a-property"></a>속성 편집 

모든 사용자 지정 **속성azureiotsecurity** 모듈 쌍 내의 에이전트 구성 개체 내에서 설정 해야 합니다.
기본 속성 값을 사용하려면 구성 개체에서 속성을 제거합니다.

### <a name="setting-a-property"></a>속성 설정

1. IoT Hub에서 변경하려는 장치를 찾아 선택합니다.

1. 장치를 클릭한 다음 **azureiot보안** 모듈을 클릭합니다.

1. 모듈 **ID 트윈을**클릭합니다.

1. 보안 모듈에서 변경하려는 속성을 편집합니다.
   
   예를 들어 연결 이벤트를 우선 순위가 높은 것으로 구성하고 7분마다 우선 순위가 높은 이벤트를 수집하려면 다음 구성을 사용합니다.
   
    ```json
    "desired": {
        "ms_iotn:urn_azureiot_Security_SecurityAgentConfiguration": {
            "highPriorityMessageFrequency": {
                "value": "PT7M"
            },
            "eventPriorityConnectionCreate": {
                "value": "High"
            }
        }
    }
    ```

1. **저장**을 클릭합니다.

### <a name="using-a-default-value"></a>기본값 사용

기본 속성 값을 사용하려면 구성 개체에서 속성을 제거합니다.

## <a name="default-properties"></a>기본 속성 

다음 표에는 IoT 보안 에이전트용 Azure 보안 센터의 제어 가능한 속성이 포함되어 있습니다.

기본값은 [GitHub](https\://aka.ms/iot-security-module-default)의 적절한 스키마에서 사용할 수 있습니다.

| 이름| 상태 | 유효한 값| 기본값| 설명 |
|----------|------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|---------------|
|높은우선 순위메시지빈도|필수: 거짓 |유효한 값: ISO 8601 형식의 기간 |기본값: PT7M |우선 순위가 높은 메시지를 보내기 전의 최대 시간 간격입니다.|
|낮은 우선 순위메시지 빈도 |필수: 거짓|유효한 값: ISO 8601 형식의 기간 |기본값: PT5H |우선 순위가 낮은 메시지가 전송되기 전의 최대 시간입니다.| 
|스냅샷 주파수 |요구 사항: 거짓|유효한 값: ISO 8601 형식의 기간 |기본값 PT13H |장치 상태 스냅숏 을 만들기 위한 시간 간격입니다.| 
|maxLocalCache크기인바이트 |필수: 거짓 |유효한 값은 |기본값: 2560000, 8192보다 큽 | 에이전트의 메시지 캐시에 허용되는 최대 저장소(바이트)입니다. 메시지를 보내기 전에 장치에 메시지를 저장할 수 있는 최대 공간입니다.| 
|최대메시지크기인바이트 |필수: 거짓 |유효한 값: 양수, 8192보다 크고 262144보다 낮음 |기본값: 204800 |클라우드 메시지에 대한 에이전트의 최대 허용 크기입니다. 이 설정은 각 메시지에 전송되는 최대 데이터 양을 제어합니다. |
|이벤트우선순위${이벤트 이름} |필수: 거짓 |유효한 값: 높음, 낮음, 끄기 |기본값: |에이전트에서 생성된 모든 이벤트의 우선 순위 | 

### <a name="supported-security-events"></a>지원되는 보안 이벤트

|이벤트 이름| PropertyName | 기본값| 스냅샷 이벤트| 세부 정보 상태  |
|----------|------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|---------------|
|진단 이벤트|이벤트우선순위진단| 꺼짐| False| 에이전트 관련 진단 이벤트입니다. 자세한 로깅에 이 이벤트를 사용합니다.| 
|구성 오류 |이벤트 우선 순위 구성오류 |낮음 |False |에이전트가 구성을 구문 분석하지 못했습니다. 스키마에 대한 구성을 확인합니다.| 
|삭제된 이벤트 통계 |이벤트우선 순위 에 드한이벤트통계 |낮음 |True|에이전트 관련 이벤트 통계입니다. |
|연결된 하드웨어|이벤트우선 순위연결 하드웨어 |낮음 |True |장치에 연결된 모든 하드웨어의 스냅샷입니다.|
|수신 대기 포트|이벤트우선 순위 수신대기 포트 |높음 |True |장치의 모든 열린 청취 포트의 스냅샷입니다.|
|프로세스 만들기 |이벤트우선순위 프로세스 만들기 |낮음 |False |장치에서 프로세스 생성을 감사합니다.|
|프로세스 종료|이벤트우선순위프로세스종료 |낮음 |False |감사는 장치에서 종료를 처리합니다.| 
|시스템 정보 |이벤트우선시스템정보 |낮음 |True |시스템 정보의 스냅샷(예: OS 또는 CPU)입니다.| 
|로컬 사용자| 이벤트우선 순위로컬 사용자 |높음 |True|시스템 내에서 등록된 로컬 사용자의 스냅샷입니다. |
|로그인|  이벤트우선 순위 로그인 |높음|False|로그인 이벤트를 장치(로컬 및 원격 로그인)에 감사합니다.|
|연결 만들기 |이벤트우선순위연결만들기|낮음|False|디바이스에서 생성된 TCP 연결을 감사합니다. |
|방화벽 구성| 이벤트우선 순위 방화벽구성|낮음|True|장치 방화벽 구성(방화벽 규칙)의 스냅샷입니다. |
|OS 기준선| 이벤트 우선 순위 OSBaseline| 낮음|True|장치 OS 베이스라인 검사의 스냅샷입니다.|
|
 

## <a name="next-steps"></a>다음 단계

- [IoT 권장 사항에 대한 Azure 보안 센터 이해](concept-recommendations.md)
- [IoT 경고를 위한 Azure 보안 센터 살펴보기](concept-security-alerts.md)
- [원시 보안 데이터 액세스](how-to-security-data-access.md)
