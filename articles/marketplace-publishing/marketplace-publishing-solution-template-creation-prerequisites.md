<properties
   pageTitle="마켓플레이스의 솔루션 템플릿 만들기를 위한 필수 기술 구성 요소 | Microsoft Azure"
   description="Azure 마켓플레이스에 배포 및 판매할 솔루션 템플릿을 만들기 위한 요구 사항 이해"
   services="marketplace-publishing"
   documentationCenter=""
   authors="HannibalSII"
   manager=""
   editor=""/>

<tags
   ms.service="marketplace-publishing"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="10/09/2015"
   ms.author="hascipio; v-divte" />

# Azure 마켓플레이스의 솔루션 템플릿 생성을 위한 필수 기술 구성 요소
시작하기 전에 프로세스를 자세히 읽고 각 단계를 어디에서, 왜 수행하는지를 이해해야 합니다. 제품 생성 프로세스를 시작하기 전에 가능한 한, 회사 정보 및 기타 데이터를 준비하고 필요한 도구를 다운로드하며 기술 구성 요소를 만들어야 합니다. 이 항목은 이 문서를 검토할 때부터 명확해야 합니다.

## 토폴로지 정의 및 플랫폼 평가
이 시점에 Azure 계산 아티팩트에 대해 이미 잘 알고 있을 수 있으며 정확히 무엇을 빌드하는지 궁금할 수 있습니다. VM 이미지, 확장, ARM 템플릿인가요?

응용 프로그램을 Azure 아티팩트에 매핑하기 전에, 응용 프로그램을 온-프레미스에 배포할 생각인 고객에게 추천할 솔루션에 적합한 다양한 토폴로지를 이해하는 것이 도움이 됩니다. 일반적으로 대부분의 기업은 평가, 개념 검증, 사전 프로덕션 및 프로덕션의 4단계의 변형을 거칩니다. 보통 사용자는 요구 사항을 평가하고 해당 시나리오에 필요한 정확한 레이아웃 및 규모를 권장하는 이러한 다양한 단계를 통해 작업을 수행합니다. 모든 고객이 동일하지는 않지만 일반적으로 고객 배포 크기에 따라 권장되는 공통적인 토폴로지 및 크기를 예상할 수 있습니다. 따라서 솔루션 개발을 시작하기 전에 응용 프로그램에 적합한 다양한 레이아웃과 상당한 부분을 사용자 지정하지 않고 고객 요구의 공평 분배를 충족할 수 있는 것에는 어떤 것이 있는지 검토합니다. 역시나, 고객은 항상 매우 정확한 것을 필요로 하지만 우리는 일반적인 사례를 찾으려 하고 있다는 사실을 깨닫습니다.

평가, 개념 검증, 사전 프로덕션 및 프로덕션의 각 배포 유형에 대해 응용 프로그램에 필요한 정확한 레이아웃과 토폴로지를 검토합니다. 다른 계층이란 무엇인가요? 각 계층에 필요한 리소스는 무엇이고 크기는 얼마나 될까요? 이러한 리소스를 만드는 데 필요한 구성 요소는 무엇인가요? 프로덕션 배포 또는 개발/테스트 환경에서 고객 및 고객의 요구에 따라 크기는 크게 다를 수 있습니다. 워크로드에 따라 소형, 중형, 대형 및 특대형 토폴로지인지를 결정하고 성공에 필요한 가용성, 확장성 및 성능 요구 사항을 검토합니다.

다양한 토폴로지 레이아웃과 해당 크기를 검토(대부분은 고객과 온-프레미스 배포를 통한 경험으로 이미 완료했을 수 있음)한 후에는 Azure에서 제공해야 하는 것에 초점을 맞춰야 합니다.

Azure 리소스 관리자 및 Azure 리소스 관리자의 계산에서 제공할 내용에 대해 토폴로지 요구 사항을 평가합니다. 대부분의 고객은 소규모 배포부터 시작하지만 **초기에 대형 토폴로지를 온보딩하지 않더라도 Azure 리소스 관리자의 계산에서 대형 토폴로지의 성능, 규모 및 기능 요구 사항을 평가하는 것이 좋습니다.** 이렇게 하면 대부분 고객은 소규모 솔루션부터 도입하므로 대규모 배포에 대해 성공적으로 확장할 수 있는 상당한 공간을 보유하게 됩니다. 모든 규모, 성능 또는 기능 제한을 Microsoft 담당자에게 제기하여 사용자, 마켓플레이스 파트너, 궁극적으로는 고객이 필요로 하는 부분을 지속적으로 개선할 수 있도록 해야 합니다.

> [AZURE.TIP]**권장:** 최종 고객에게 성장 기회를 제공하기 위해서는 예상되는 가장 큰 배포 크기에 맞게 템플릿을 평가 및 배포합니다.

## Azure 계산 구성 요소
이제 사용할 수 있는 계산 아티팩트는 무엇이고 이러한 아티팩트를 기준으로 응용 프로그램을 고려하는 방법을 확인하는 것으로 시작해보겠습니다.

### 1\. 기존 가상 컴퓨터 사용
모든 가상 컴퓨터에 대한 구성 요소는 VM 이미지입니다. VM 이미지는 가상 컴퓨터의 완벽한 저장소 프로필로, 운영 체제 VHD 1개와 데이터 디스크 0개 이상을 포함합니다. VM 이미지를 만들면 소프트웨어 응용 프로그램을 필요한 모든 추가 데이터 외에도 운영 체제 비트와 패키지할 수 있습니다. 예를 들어, 현재 Azure 마켓플레이스에는 Windows 운영 체제를 SQL Server 응용 프로그램과 패키지하는 SQL Server를 위한 몇 가지 VM 이미지가 있습니다. 이 문서에서는 VM 이미지를 만들고 Azure 마켓플레이스에 온보딩하는 것에 대해서는 자세히 다루지 않지만 응용 프로그램 솔루션의 구성 요소가 될 수 있으므로 VM 이미지를 이해하는 것이 중요합니다. [마켓플레이스를 위한 VM 이미지 만들기](marketplace-publishing-vm-image-creation.md) 단계를 참조하세요.

### 2\. VM 확장
경우에 따라, 기본 운영 체제를 응용 프로그램 공급자로 소유 및 관리하려는 것이 아니므로 이미지가 원하던 것이 아닐 수도 있습니다. 현재 Azure 마켓플레이스에는 Windows, Linux 및 Unix 운영 체제를 정기적으로 게시하는 몇 곳의 운영 체제 회사가 있습니다. Windows Server, Ubuntu, CentOS 기반, CoreOS, Oracle Linux 등에 대한 이미지를 찾을 수 있습니다. 사용자 고유의 VM 이미지를 게시하는 대신, 운영 체제와 응용 프로그램을 패키지하고 VM 확장 처리기를 작성하거나 기존 것을 활용하는 방법을 고려할 수 있습니다. VM 확장은 VM 구성 및 관리를 간소화하는 소프트웨어 메커니즘으로, Azure VM에서 게스트 에이전트(안전하고 가벼운 프로세스)를 활용합니다. 예를 들어, 사용자 지정 스크립트 확장은 이름 제안으로 사용자 지정 스크립트를 사용하고 VM 내에서 스크립트를 실행합니다. 이렇게 하면 일반 스크립트에서 허용하는 모든 종류의 구성이 가능합니다.

기존의 이미지 시나리오에서는 이미지에서 모든 비트를 처음부터 설치하고 필요한 구성을 VM 시작(시작 작업으로) 전 또는 후(가능한 경우)에 완료했습니다. 이 이미지는 사용자 지정이 용이하지만 그렇다고 반드시 쉽게 재사용 가능한 것은 아니었습니다. 일부 경우에는 이 방법이 가장 합리적입니다. 하지만 가벼운 응용 프로그램이나 VM이 프로비전된 후 수행해야 하는 보다 복잡한 구성에서는 확장 모델이 특히 도움이 될 수 있습니다. 경우에 따라 고객은 사전 설치된 솔루션을 포함하고 복잡한 시작 후 구성을 설정하기 위해 확장 및 VM 이미지의 조합을 배포합니다.

알다시피 이미지 및 확장은 단일 VM을 구성하는 데 매우 유용합니다. 그러나 하나의 VM으로는 변화하는 트래픽 요구를 충족할만한 규모와 클라우드의 고가용성을 제공하기에 부족합니다. 따라서 가용성 집합 및 부하 분산을 사용하여 모든 프로덕션 워크로드에 대해 여러 VM 고가용성 솔루션을 계획하는 것이 좋습니다.

>[AZURE.TIP]**권장:** 트래픽을 가용성 집합(3개의 장애 도메인 포함)으로 제공하는 여러 가상 컴퓨터를 부하 분산과 함께 사용하여 마켓플레이스의 모든 프로덕션 워크로드를 배포해야 합니다.

응용 프로그램에서 지원 및 권장할 수 있는 이러한 다양한 배포 토폴로지를 지원하도록 Azure 마켓플레이스는 Azure 리소스 관리자(줄여서 ARM) 및 ARM 템플릿을 제공합니다. Azure 리소스 관리자는 선언적이며 모델 기반 템플릿 언어를 통해 리소스 컬렉션의 수명 주기를 배포 및 관리합니다. 이 템플릿은 파일은 단순히 매개 변수가 있는 JSON 파일로, 배포에 사용되는 리소스 및 이에 대한 관계 집합을 표현합니다. 각 리소스는 리소스를 위한 컨테이너인 리소스 그룹에 배치됩니다. 또한 리소스 관리자는 중앙 집중식 운영 감사, 고객 청구서에 대한 리소스 태그 지정, 세분화된 보안을 위한 리소스 기반 액세스 제어, 고가용성을 위한 3개의 계산 장애 도메인 지원 등과 같이 최종 고객에게 매우 유용한 추가 기능 집합도 제공하며 이러한 모든 작업은 멱등 작업입니다.

> [AZURE.IMPORTANT]**필수:** 최종 고객에 대한 혜택을 감안하여, 모든 마켓플레이스 콘텐츠는 Azure 리소스 관리자 템플릿을 사용하여 배포되어야 합니다.

ARM 및 ARM 템플릿을 사용하면, 가상 컴퓨터, 저장소 계정 및 가상 네트워크처럼 VM 이미지 및 VM 확장과 같은 마켓플레이스 콘텐츠를 기반으로 하는 Azure 리소스의 보다 복잡한 배포를 표현할 수 있습니다.

## 구성 요소 개발
응용 프로그램 토폴로지 및 개발하여 마켓플레이스의 첫 번째 스테이징에 온보딩할 내용을 파악했으면 이제 VM 구성 요소를 식별 및 개발할 차례입니다. 위에서 설명한 것처럼, 사용자 고유의 게시된 VM 이미지로 VM의 콘텐츠를 패키지할지, Azure 마켓플레이스에서 기존 VM 이미지를 활용할지, 게시된 확장 처리기 또는 고유한 처리기로 구성할지를 결정해야 합니다. 여기에는 단순한 정답 솔루션이 없습니다. 기본 운영 체제를 얼마나 제어할지, 응용 프로그램을 설치, 구성 및 관리하는 방법에 대한 요구 사항에 따라 솔루션이 크게 달라집니다. MSDN 및 Azure 블로그에서 이미지 및 확장에 대한 적절한 정보를 찾을 수 있습니다. 유용할 수 있는 문서 목록이 아래 **참고 항목** 섹션에 제공됩니다.

사용되는 모든 이미지 및 확장 처리기는 마켓플레이스를 통해 먼저 게시되어야 함에 유의하세요.

## ARM 템플릿 개발
Azure 리소스 관리자 및 ARM 템플릿을 처음 사용하는 경우 Azure 리소스 관리자 및 Azure 리소스 관리자의 계산에 대한 설명서를 검토하는 것이 좋습니다. 아래 제공된 지침과 예제에서는 ARM 템플릿 언어와 ARM의 계산을 사용하는 방법에 대한 기본적인 이해를 갖추고 있다고 가정합니다. 이 섹션은 대부분, Azure 마켓플레이스 전용 템플릿을 개발하는 데 도움이 되는 모범 사례 및 요구 사항에 사용됩니다. 여기서는 이비자 포털과 프로그래밍 방식 모두에서 통합되고 사용하기 쉬운 고객의 관련 경험에 대해 허용되는 요구 사항을 고려합니다.

솔루션은 템플릿 집합으로 표현할 수 있습니다. 이러한 템플릿은 토폴로지의 논리적 조각입니다. 토폴로지 표현을 여러 파일로 나누는 데는 개발 편의성 및 관리 효율성부터 특정 하위 집합의 재사용 가능성, 템플릿 솔루션의 모듈식 테스트 및 확장까지 여러 가지 이유가 있습니다. Azure 팀은 많은 파트너와 작업한 후, 공유 리소스 템플릿이라는 일반적인 리소스(예: VNet, 저장소 계정 등)에 대한 템플릿, 선택적 리소스 템플릿이라는 선택적 리소스에 대한 0개 이상의 템플릿, 알려진 구성 리소스 템플릿이라는 토폴로지 특정 리소스에 대한 하나 이상의 템플릿으로 토폴로지를 나눌 것을 제안했습니다.

마켓플레이스에서 전체 템플릿 솔루션은 다음 항목으로 구성됩니다.

1. **1개의 기본 템플릿(mainTemplate.json)** – ARM JSON 템플릿 파일에서 표현하는 전체 배포에 대한 진입점입니다. 템플릿 솔루션에 대해 평가되는 첫 번째 파일이며 템플릿의 나머지 전체를 연결(링크)하는 데 사용됩니다. 이 파일은 최종 사용자에게 원하는 모든 입력(매개 변수)도 포함해야 합니다.
2. **0개 이상의 연결된 템플릿** – 전체 솔루션 토폴로지를 표현하기 위해 기본 템플릿에서 연결되는 나머지 템플릿입니다.
3. **0개 이상의 스크립트 파일** – 가상 컴퓨터를 구성하는 데 사용되는 확장에 대한 입력으로 예상되는 모든 관련 스크립트 파일입니다.
4. **1개의 UI 정의 만들기 파일(uiDefinition.json createUiDefinition.json)** – ARM 템플릿의 매개 변수를 사용자 환경의 요소로 매핑하는 파일입니다. 이 파일로 파트너는 이비자의 최종 고객에게 렌더링되는 UI를 제어할 수 있습니다. 최종 사용자에게 요구되는 모든 입력은 이 파일에 표시됩니다. 각 항목을 통해 각 입력과 연결된 모든 UI 측면을 제어할 수 있습니다(예: UI 위젯, 기본값, 유효성 검사 규칙, 오류 메시지 등). 전체 토폴로지를 표현하는 이러한 각 파일의 개발을 시작할 때는 마켓플레이스 제품에 대한 최상의 템플릿을 보장하기 위해 다음 기준을 고려해야 합니다.

## 추가 요구 사항 및 권장 사항

### 사용자 입력의 표준화된 최소 집합
매개 변수를 사용하여 템플릿에서 배포 시 사용자가 제공해야 하는 값을 표현할 수 있습니다. 사용자 입력은 응용 프로그램마다, 토폴로지 계층에 따라 달라질 수 있습니다. 매개 변수 목록은 적은 수의 질문으로 사용자에게 배포를 적절히 제어할 수 있는 방법을 제공하는 것 간에 균형을 이루어야 합니다. 사용자 입력의 전체 목록에 대해서는 요구 사항이 없지만 모든 마켓플레이스 템플릿 솔루션에서 많은 고객이 제어하고자 하는 일반적인 입력 집합을 포함하도록 해야 합니다. 다음 값에 대한 매개 변수를 정의했는지 확인합니다.

1. **위치** – 리소스가 배포되는 Azure 지역
2.	**가상 네트워크 이름** – 새 가상 네트워크를 만드는 배포의 경우 리소스를 만드는 데 사용할 이름입니다. 기존 가상 네트워크를 사용하는 배포의 경우 배포할 VNet의 이름입니다.
3.	**저장소 계정** – 새 저장소 계정을 만드는 배포의 경우 만들 저장소 계정 이름입니다. 기존 가상 네트워크를 사용하는 배포의 경우 사용할 저장소 계정의 이름입니다.
4.	**DNS 이름** – 최종 사용자가 연결할 수 있는 가상 컴퓨터 또는 부하 분산 장치의 도메인 이름입니다.
5.	**사용자 이름** – 가상 컴퓨터 및 잠재적으로 응용 프로그램에 대한 사용자 이름입니다. 최종 사용자에게 둘 이상의 사용자 이름을 요청할 수 있지만 메시지는 하나 이상 표시되어야 합니다.
6.	**암호** – 가상 컴퓨터 및 잠재적으로 응용 프로그램에 대한 암호입니다. 최종 사용자에게 서로 다른 VM 또는 응용 프로그램에 대해 둘 이상의 암호를 요청할 수 있지만 메시지는 하나 이상 표시되어야 합니다.
7.	**SSH 공개 키(Linux VM만 해당)** – 가상 컴퓨터에 대한 SSH 키입니다. 최종 사용자에게 서로 다른 VM에 대해 둘 이상의 키를 요청할 수 있지만 메시지는 하나 이상 표시되어야 합니다.

## 다음 단계
이제 필수 구성 요소를 검토하고 필요한 작업을 완료했으므로 [솔루션 템플릿 만들기 가이드](marketplace-publishing-solution-template-creation.md)에 설명된 대로 솔루션 템플릿 제품 만들기를 진행할 수 있습니다.

## 참고 항목
- [시작: Azure 마켓플레이스에 제품을 게시하는 방법](marketplace-publishing-getting-started.md)
- [솔루션 템플릿 모범 사례 만들기](marketplace-publishing-solution-template-best-practices.md)

[link-acct]: marketplace-publishing-accounts-creation-registration.md

<!---HONumber=Oct15_HO3-->