<properties title="Search Service: workflow for developers" pageTitle="Search Service: workflow for developers" description="Search Service: workflow for developers" metaKeywords="" services="" solutions="" documentationCenter="" authors="heidist" videoId="" scriptId="" />

# Azure 검색: 개발 워크플로

[WACOM.INCLUDE [이 문서에서는 Azure 미리 보기 포털을 사용합니다.][]]

이 문서에서는 검색 서비스와 해당 인덱스를 만들고 유지 관리하기 위한 로드맵과 몇 가지 모범 사례를 제공합니다.

서비스를 이미 프로비전했다고 가정합니다. 아직 수행하지 않은 경우 [Azure 미리 보기 포털에서 검색 구성][]을 참조하여 시작하세요.

-   [1단계: 인덱스 만들기][]
-   [2단계: 문서 추가][]
-   [3단계: 인덱스 쿼리][]
-   [4단계: 인덱스 및 문서 업데이트 또는 삭제][]
-   [저장소 설계 고려 사항][]

## 1단계: 인덱스 만들기

쿼리(최소한 비시스템 쿼리)는 검색 데이터 및 특성이 포함된 검색 인덱스를 대상으로 합니다. 이 단계에서는 인덱스 스키마를 JSON 형식으로 정의하고 HTTPS PUT 요청을 실행하여 이 인덱스가 서비스에 만들어지도록 합니다.

인덱스는 일반적으로 로컬 개발 환경에서 코딩됩니다. 인덱스 정의를 위한 기본 제공 도구나 편집기는 없습니다. 인덱스를 만드는 방법에 대한 자세한 내용은 MSDN에서 [인덱스 만들기(Azure 검색 API)][]를 참조하세요.

## 2단계: 문서 추가

검색 인덱스를 만든 후 문서를 JSON 형식으로 POST하여 인덱스에 추가할 수 있습니다. 각 문서에 고유 키와 검색 가능 및 검색 불가능 데이터가 포함된 필드 컬렉션이 있어야 합니다. 문서 데이터는 키/값 쌍의 집합으로 표시됩니다.

처리량을 향상시키기 위해 문서를 일괄 처리로 추가하는 것이 좋습니다. 평균 문서 크기를 약 1-2KB로 가정할 경우 최대 10,000개까지 문서를 일괄 처리할 수 있습니다.

POST 요청에 대한 전체 상태 코드가 있습니다. 상태 코드는 HTTP 200(성공) 또는 성공한 문서와 실패한 문서가 함께 있을 경우 HTTP 207(다중 상태)입니다. POST 요청에 대한 상태 코드 외에도 Azure 검색은 각 문서의 상태 필드를 유지 관리합니다. 일괄 업로드를 감안할 경우 각 문서에 대한 삽입이 성공 또는 실패했는지를 나타내는 문서별 상태를 가져올 방법이 필요합니다. 상태 필드에서 해당 정보를 제공합니다. 문서를 로드하지 못한 경우 false로 설정됩니다.

부하가 크면 일부 업로드 실패가 발생하는 것이 일반적입니다. 이 경우 전체 상태 코드는 부분 성공을 나타내는 207이며, 인덱싱에 실패한 문서의 'status' 속성이 false로 설정됩니다.

> [WACOM.NOTE] 서비스가 문서를 받으면 인덱싱을 위해 대기되며, 검색 결과에 즉시 포함되지 않을 수도 있습니다. 부하가 크지 않은 경우 일반적으로 몇 초 내에 문서가 인덱싱됩니다.

## 3단계: 인덱스 쿼리

문서가 인덱싱된 후 검색 쿼리를 실행할 수 있습니다. OData 또는 간단한 쿼리 구문을 사용하여 한 번에 하나씩 인덱스를 쿼리할 수 있습니다.

-   [Azure 검색의 OData 식 구문][]
-   [Azure 검색의 간단한 쿼리 구문][]

## 4단계: 인덱스 및 문서 업데이트 또는 삭제

선택적으로 검색 인덱스의 스키마를 변경하고, 인덱스 내에서 문서를 업데이트 또는 삭제하고, 인덱스를 삭제할 수 있습니다.

인덱스를 업데이트할 때 여러 작업(삽입, 병합, 삭제)을 동일한 일괄 처리로 결합하여 여러 왕복 요구를 제거할 수 있습니다. 현재 Azure 검색은 부분 업데이트(HTTP PATCH)를 지원하지 않으므로 인덱스를 업데이트해야 하는 경우 인덱스 정의를 다시 전송해야 합니다.

## 저장소 설계 고려 사항

많은 검색 응용 프로그램은 여러 저장소 형식을 각기 다른 응용 프로그램 요구에 사용합니다. Azure 검색과 함께 제공되는 내부 저장소는 인덱스와 문서를 저장하는 데 사용해야 합니다. 텍스트 분석은 모든 검색 가능 필드 및 관련 특성을 사용할 수 있는지에 따라 달라집니다.

문서의 모든 필드가 검색 가능한 것은 아닙니다. 예를 들어 응용 프로그램이 음악 또는 동영상의 온라인 카탈로그인 경우 BLOB 또는 다른 저장소에 이진 파일을 저장하는 것이 좋습니다. 이진 파일 자체는 검색 가능하지 않으므로 Azure 검색 저장소에 저장할 필요가 없습니다. 이미지, 동영상, 오디오 파일은 다른 서비스나 위치에 저장하고 파일 위치에 대한 URL을 문서의 필드에 저장해야 합니다.

인덱스 또는 문서를 만드는 방법에 대한 자세한 내용은 [Azure 검색 REST API][]를 참조하세요.

<!--Image references-->

<!--Anchors-->
  [이 문서에서는 Azure 미리 보기 포털을 사용합니다.]: ../includes/preview-portal-note.md
  [Azure 미리 보기 포털에서 검색 구성]: 
  [1단계: 인덱스 만들기]: #sub-1
  [2단계: 문서 추가]: #sub-2
  [3단계: 인덱스 쿼리]: #sub-3
  [4단계: 인덱스 및 문서 업데이트 또는 삭제]: #sub-4
  [저장소 설계 고려 사항]: #sub-5

<!--Link references-->
  [인덱스 만들기(Azure 검색 API)]: http://msdn.microsoft.com/en-us/library/dn798941.aspx
  [Azure 검색의 OData 식 구문]: http://msdn.microsoft.com/en-us/library/dn798921.aspx
  [Azure 검색의 간단한 쿼리 구문]: http://msdn.microsoft.com/en-us/library/dn798920.aspx
  [Azure 검색 REST API]: http://msdn.microsoft.com/en-us/library/dn798935.aspx
