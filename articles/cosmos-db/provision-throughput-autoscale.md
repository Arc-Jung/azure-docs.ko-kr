---
title: 자동 크기 조정 모드에서 Azure Cosmos 컨테이너 및 데이터베이스를 만듭니다.
description: 자동 크기 조정 모드에서 이점, 사용 사례 및 Azure Cosmos 데이터베이스 및 컨테이너를 프로 비전 하는 방법에 대해 알아봅니다.
author: kirillg
ms.author: kirillg
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 04/28/2020
ms.openlocfilehash: 49fea2cc9a48d5afc794d6932208b61252bea424
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/28/2020
ms.locfileid: "82196492"
---
# <a name="create-azure-cosmos-containers-and-databases-in-autoscale-mode"></a>자동 크기 조정 모드에서 Azure Cosmos 컨테이너 및 데이터베이스 만들기

Azure Cosmos DB를 사용 하면 수동 또는 자동 크기 조정 모드에서 컨테이너에 대 한 처리량을 프로 비전 할 수 있습니다. 이 문서에서는 자동 크기 조정 모드의 이점 및 사용 사례에 대해 설명 합니다.

> [!NOTE]
> [새 데이터베이스 및 컨테이너에만 자동 크기 조정을 사용 하도록 설정할](#create-db-container-autoscale) 수 있습니다. 기존 컨테이너 및 데이터베이스에 대해서는 사용할 수 없습니다.

처리량을 수동으로 프로 비전 하는 것 외에도, 이제 자동 크기 조정 모드에서 Azure Cosmos 컨테이너를 구성할 수 있습니다. 자동 크기 조정 모드에서 구성 된 컨테이너 및 데이터베이스는 **응용 프로그램 요구 사항에 따라 프로 비전 된 처리량을 자동으로 자동으로 확장 하 고, 작업의 가용성, 대기 시간, 처리량 또는 성능에 영향을 주지 않습니다.**

자동 크기 조정 모드에서 컨테이너와 데이터베이스를 구성 하는 경우 최대 처리량 `Tmax` 을 초과 하지 않도록 지정 해야 합니다. 그러면 컨테이너가 해당 처리량을 `0.1*Tmax < T < Tmax`확장할 수 있습니다. 즉, 컨테이너와 데이터베이스는 워크 로드 요구 사항에 따라 즉시 크기를 조정 하며, 구성 된 최대 처리량 값의 최대 처리량 값의 10%에서 최대 처리량 값을 구성 했습니다. 자동 크기 조정을 구성한 후 언제 든 지 데이터베이스 또는 컨테이너`Tmax`의 최대 처리량 () 설정을 변경할 수 있습니다. 자동 크기 조정 옵션을 사용 하면 컨테이너 또는 데이터베이스당 400 r u/s 최소 처리량이 더 이상 적용 되지 않습니다.

컨테이너 또는 데이터베이스에 대해 지정 된 최대 처리량에 대해 시스템은 계산 된 저장소 제한 내에서 작동 하도록 허용 합니다. 저장소 제한을 초과 하는 경우 최대 처리량이 더 높은 값으로 자동 조정 됩니다. 자동 크기 조정 모드에서 데이터베이스 수준 처리량을 사용 하는 경우 데이터베이스 내에서 허용 되는 컨테이너 수 `0.001*TMax`는 다음과 같이 계산 됩니다. 예를 들어 2만 자동 크기 조정/s를 프로 비전 하는 경우 데이터베이스에는 20 개의 컨테이너가 있을 수 있습니다.

## <a name="benefits-of-autoscale-mode"></a><a id="autoscale-benefits"></a>자동 크기 조정 모드의 이점

자동 크기 조정 모드에서 구성 된 Azure Cosmos 컨테이너는 다음과 같은 이점을 제공 합니다.

* **단순:** 자동 크기 조정 모드의 컨테이너는 다양 한 컨테이너에 대해 수동으로 프로 비전 된 처리량 (RUs) 및 용량을 관리 하는 복잡성을 제거 합니다.

* **확장 가능:** 자동 크기 조정 모드의 컨테이너는 필요에 따라 프로 비전 된 처리량 용량을 원활 하 게 확장 합니다. 클라이언트 연결 및 응용 프로그램에 대 한 중단이 없으며 기존 Sla에 영향을 주지 않습니다.

* **비용 효율적:** 자동 크기 조정 모드에서 구성 된 컨테이너를 사용 하는 경우 작업에 필요한 리소스에 대해서만 비용을 지불 합니다.

* **항상 사용 가능:** 자동 크기 조정 모드의 컨테이너는 전 세계적으로 분산 되 고 내결함성이 있으며 항상 사용 가능한 백 엔드를 사용 하 여 데이터 내구성 및 고가용성을 보장 합니다.

## <a name="use-cases-of-autoscale-mode"></a><a id="autoscale-usecases"></a>자동 크기 조정 모드 사용 사례

자동 크기 조정 모드에서 구성 된 Azure Cosmos 컨테이너에 대 한 사용 사례는 다음과 같습니다.

* **가변 작업:** 하루에 한 번 또는 여러 번 사용 하 여 최대 1 시간의 사용량이 많은 사용량이 적은 응용 프로그램을 실행 하는 경우 예제에는 인적 자원, 예산 및 운영 보고용 응용 프로그램이 포함 됩니다. 이러한 시나리오에서는 자동 크기 조정 모드에서 구성 된 컨테이너를 사용할 수 있으며, 더 이상 최고 또는 평균 용량을 위해 수동으로 프로 비전 할 필요가 없습니다.

* **예측할 수 없는 워크 로드:** 하루 종일 데이터베이스를 사용 하는 워크 로드를 실행 하는 경우 예측 하기 어려운 활동의 최대 수입니다. 예에는 날씨 예측이 변경 될 때 활동의 서 수가 표시 되는 트래픽 사이트가 포함 되어 있습니다. 자동 크기 조정 모드에서 구성 된 컨테이너는 응용 프로그램의 최대 부하 요구에 맞게 용량을 조정 하 고 작업의 서 수가 초과 되 면 크기를 다시 조정 합니다.

* **새 응용 프로그램:** 새 응용 프로그램을 배포 하는 경우 필요한 프로 비전 된 처리량 (즉, RUs 수)이 확실 하지 않은 경우 자동 크기 조정 모드에서 구성 된 컨테이너를 사용 하면 응용 프로그램의 용량 요구 사항 및 요구 사항에 맞게 자동으로 확장할 수 있습니다.

* **자주 사용 하지 않는 응용 프로그램:** 몇 시간 동안만 응용 프로그램을 사용 하는 경우 (예: 소용량 응용 프로그램/웹/블로그 사이트) 일 또는 주 또는 월에 몇 번만 사용 됩니다.

* **개발 및 테스트 데이터베이스:** 업무 시간 동안 컨테이너를 사용 하는 개발자가 있지만 야간 또는 주말에는 필요 하지 않습니다. 자동 크기 조정 모드에서 구성 된 컨테이너의 경우 사용 하지 않을 때 최소한으로 축소 됩니다.

* **예약 된 프로덕션 워크 로드/쿼리:** 단일 컨테이너에 일련의 예약 된 요청/작업/쿼리가 있고 절대 낮은 처리량으로 실행 하려는 유휴 기간이 있는 경우이 작업을 쉽게 수행할 수 있습니다. 예약 된 쿼리/요청이 자동 크기 조정 모드로 구성 된 컨테이너에 제출 되 면 필요에 따라 자동으로 확장 되 고 작업을 실행 합니다.

이전 문제에 대 한 해결 방법은 구현에서 상당한 시간이 필요 하지만 구성 또는 코드의 복잡성을 야기 하 고 이러한 문제를 해결 하기 위해 수동으로 작업 해야 하는 경우가 많습니다. 자동 크기 조정 모드에서는 위의 시나리오를 즉시 사용할 수 있으므로 이러한 문제에 대해 더 이상 걱정할 필요가 없습니다.

## <a name="comparison--containers-configured-in-manual-mode-vs-autoscale-mode"></a>비교 – 수동 모드 및 자동 크기 조정 모드에서 구성 된 컨테이너

|  | 수동 모드에서 구성 된 컨테이너  | 자동 크기 조정 모드에서 구성 된 컨테이너 |
|---------|---------|---------|
| **프로비전된 처리량** | 수동으로 프로 비전 됩니다. | 워크 로드 사용 패턴을 기반으로 자동으로 즉시 확장 됩니다. |
| **요청/작업의 요율 제한 (429)**  | 소비가 프로 비전 된 용량을 초과 하는 경우 발생할 수 있습니다. | 사용 된 처리량이 자동 크기 조정 모드에서 선택 하는 최대 처리량 범위 내에 있는 경우에는 발생 하지 않습니다.   |
| **용량 계획** |  초기 용량 계획을 수행 하 고 필요한 처리량을 프로 비전 해야 합니다. |    용량 계획에 대해 걱정할 필요가 없습니다. 시스템은 용량 계획 및 용량 관리를 자동으로 처리 합니다. |
| **가격 책정** | 시간당 수동 프로 비전 된 r u/초 | 단일 쓰기 지역 계정의 경우 시간당 자동 크기 조정/시간 급여를 사용 하 여 시간별로 사용 되는 처리량에 대 한 비용을 지불 합니다. <br/><br/>여러 쓰기 지역이 있는 계정의 경우에는 자동 크기 조정에 대 한 추가 요금이 부과 되지 않습니다. 동일한 다중 마스터 r u/시간 급여를 사용 하 여 시간별로 사용 된 처리량에 대 한 비용을 지불 합니다. |
| **작업 유형에 가장 적합 합니다.** |  예측 가능 하 고 안정적인 작업|   예측할 수 없는 작업 및 가변 작업  |

## <a name="create-a-database-or-a-container-with-autoscale-mode"></a><a id="create-db-container-autoscale"></a>자동 크기 조정 모드를 사용 하 여 데이터베이스 또는 컨테이너 만들기

Azure Portal를 통해 새 데이터베이스 또는 컨테이너를 만들 때 자동 크기 조정을 구성할 수 있습니다. 다음 단계를 사용 하 여 새 데이터베이스 또는 컨테이너를 만들고, 자동 크기 조정을 사용 하도록 설정 하 고, 최대 처리량 (r u/초)을 지정할 수 있습니다.

1. [Azure Portal](https://portal.azure.com) 또는 [Azure Cosmos DB 탐색기에 로그인 합니다.](https://cosmos.azure.com/)

1. Azure Cosmos DB 계정으로 이동 하 여 **데이터 탐색기** 탭을 엽니다.

1. **새 컨테이너를 선택 합니다.** 데이터베이스, 컨테이너 및 파티션 키의 이름을 입력 합니다. **처리량**에서 자동 **크기 조정** 옵션을 선택 하 고 자동 크기 조정 옵션을 사용할 때 데이터베이스 또는 컨테이너가 초과할 수 없는 최대 처리량 (r u/초)을 선택 합니다.

   ![컨테이너 만들기 및 자동 크기 조정 처리량 구성](./media/provision-throughput-autoscale/create-container-autoscale-mode.png)

1. **확인**을 선택합니다.

**데이터베이스 처리량 프로 비전** 옵션을 선택 하 여 자동 크기 조정 모드를 사용 하 여 공유 처리량 데이터베이스를 만들 수 있습니다.

## <a name="throughput-and-storage-limits-for-autoscale"></a><a id="autoscale-limits"></a>자동 크기 조정에 대 한 처리량 및 저장소 제한

다음 표에서는 자동 크기 조정 모드의 여러 옵션에 대 한 최대 전체 및 저장소 제한을 보여 줍니다.

|최대 처리량 제한  |최대 저장소 제한  |
|---------|---------|
|4000 r u/초  |   50GB    |
|2만 r u/초  |  200GB  |
|10만 r u/초    |  1TB   |
|50만 r u/초    |  5TB  |

## <a name="next-steps"></a>다음 단계

* [자동 크기 조정 FAQ](autoscale-faq.md)를 검토 합니다.
* [논리 파티션에](partition-data.md)대해 자세히 알아보세요.
* [Azure Cosmos 컨테이너의 처리량을 프로비전](how-to-provision-container-throughput.md)하는 방법을 알아봅니다.
* [Azure Cosmos 데이터베이스의 처리량을 프로비전](how-to-provision-database-throughput.md)하는 방법을 알아봅니다.
