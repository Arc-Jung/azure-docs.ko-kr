---
title: Azure Cosmos DB에 대한 처리량 프로비전
description: Azure Cosmos DB 컨테이너 및 데이터베이스에 프로비전되는 처리량을 설정하는 방법을 알아봅니다.
author: aliuy
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 10/25/2018
ms.author: andrl
ms.openlocfilehash: a97032344b904442ed3606c6297251578c3b4ff7
ms.sourcegitcommit: fa758779501c8a11d98f8cacb15a3cc76e9d38ae
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/20/2018
ms.locfileid: "52263896"
---
# <a name="provision-throughput-on-azure-cosmos-containers-and-databases"></a>Azure Cosmos 컨테이너 및 데이터베이스에 대한 처리량 프로비전

Azure Cosmos 데이터베이스는 컨테이너 세트의 관리 단위입니다. 데이터베이스는 스키마 제약 없는 컨테이너의 집합으로 구성됩니다. Azure Cosmos 컨테이너는 처리량과 스토리지 모두에 대한 확장성 단위입니다. 컨테이너는 Azure 지역 내에 있는 머신 세트에 수평적으로 분할되고 Azure Cosmos 계정과 연결된 모든 Azure 지역에 분산됩니다.

Azure Cosmos DB를 사용하면 두 가지 세분성, 즉 **Azure Cosmos 컨테이너**와 **Azure Cosmos 데이터베이스**에서 처리량을 구성할 수 있습니다.

# <a name="setting-throughput-on-a-azure-cosmos-container"></a>Azure Cosmos 컨테이너에서 처리량 설정  

Azure Cosmos 컨테이너에 프로비전된 처리량은 컨테이너에 독점적으로 예약됩니다. 컨테이너는 항상 프로비전된 처리량을 받습니다. 컨테이너에 프로비전된 처리량은 재정적으로 SLA의 지원을 받습니다. 컨테이너에서 처리량을 구성하려면 [Azure Cosmos 컨테이너에서 처리량을 프로비전하는 방법](how-to-provision-container-throughput.md)을 참조하세요.

컨테이너에 프로비전된 처리량을 설정하는 방법은 널리 사용되는 옵션입니다. 원하는 만큼 처리량(RU)을 프로비전하여 컨테이너의 처리량을 탄력적으로 확장할 수 있지만, 논리 파티션의 처리량을 선별적으로 지정할 수는 없습니다. 논리 파티션에서 실행되는 워크로드가 특정 논리 파티션에 할당된 처리량보다 많은 양을 사용하는 경우 작업 속도가 제한됩니다. 속도 제한이 발생하면 전체 컨테이너의 처리량을 높이거나 작업을 다시 시도할 수 있습니다. 분할에 대한 자세한 내용은 [논리 파티션](partition-data.md)을 참조하세요.

컨테이너에 보장된 성능을 원한다면 컨테이너 세분성에서 처리량을 구성하는 것이 좋습니다.

Azure Cosmos 컨테이너에서 프로비전된 처리량은 컨테이너의 모든 논리 파티션에 균일하게 분산됩니다. 컨테이너에 있는 하나 이상의 논리 파티션은 리소스 파티션에 호스트되므로, 실제 파티션은 컨테이너에 배타적으로 소속되고 컨테이너에 프로비전된 처리량을 지원합니다. 다음 이미지는 리소스 파티션이 컨테이너의 논리 파티션을 하나 이상 호스트하는 방법을 보여줍니다.

![리소스 파티션](./media/set-throughput/resource-partition.png)

# <a name="setting-throughput-on-a-azure-cosmos-database"></a>Azure Cosmos 데이터베이스에서 처리량 설정

Azure Cosmos 데이터베이스에서 처리량을 프로비전할 때 특정 컨테이너에 프로비전되는 처리량을 지정하지 않는 이상, 데이터베이스의 모든 컨테이너 간에 처리량이 공유됩니다. 컨테이너 간에 데이터베이스 처리량을 공유하는 것은 머신 클러스터에 데이터베이스를 호스트하는 것과 비슷합니다. 데이터베이스 내의 모든 컨테이너가 머신에 제공되는 리소스를 공유하므로 당연히 특정 컨테이너에 대한 예상 성능이 제공되지 않습니다. 데이터베이스의 처리량을 구성하려면 [Azure Cosmos 데이터베이스에 프로비전된 처리량을 구성하는 방법](how-to-provision-database-throughput.md)을 참조하세요.

Azure Cosmos 데이터베이스에 처리량을 설정하면 항상 프로비전된 처리량이 보장됩니다. 데이터베이스 내 모든 컨테이너가 프로비전된 처리량을 공유하므로, Azure Cosmos DB는 해당 데이터베이스의 특정 컨테이너에 대해 예측 가능한 처리량을 보장하지 않습니다. 특정 컨테이너가 받을 수 있는 처리량은 다음 조건에 따라 다릅니다.

* 컨테이너 수
* 다양한 컨테이너에 선택하는 파티션 키
* 컨테이너의 다양한 논리 파티션에 분산되는 워크로드 

여러 컨테이너 간에 처리량을 공유하고 싶지만 특정 컨테이너의 전용 처리량으로 사용하고 싶지는 않은 경우 데이터베이스에서 처리량을 구성하는 것이 좋습니다. 다음은 데이터베이스 수준에서 처리량을 프로비전하는 것이 좋은 몇 가지 예입니다.

* 데이터베이스에 프로비전된 처리량을 컨테이너 집합 간에 공유하는 방법은 다중 테넌트 애플리케이션에 유용합니다. 각 사용자를 고유한 Azure Cosmos 컨테이너로 나타낼 수 있습니다.

* 데이터베이스의 프로비전된 처리량을 컨테이너 세트 간에 공유하는 방법은 MongoDB, Cassandra 같은 NoSQL 데이터베이스를 VM 클러스터 또는 온-프레미스 실제 서버에서 Azure Cosmos DB로 마이그레이션할 때 유용합니다. Azure Cosmos 데이터베이스에 구성된 프로비전된 처리량을 MongoDB 또는 Cassandra 클러스터의 컴퓨팅 용량과 같은(하지만 더 비용 효율적이고 탄력적인) 것으로 생각하면 됩니다.  

데이터베이스 내 컨테이너에 할당된 처리량은 지정된 시간에 해당 컨테이너의 모든 논리 파티션 간에 분산됩니다. 데이터베이스에 프로비전된 처리량을 공유하는 컨테이너가 있는 경우 처리량을 특정 컨테이너 또는 논리 파티션에 선별적으로 적용할 수 없습니다. 논리 파티션의 워크로드가 특정 논리 파티션에 할당된 처리량보다 많은 양을 사용하는 경우 작업 속도가 제한됩니다. 속도 제한이 발생하면 전체 컨테이너의 처리량을 높이거나 작업을 다시 시도할 수 있습니다. 분할에 대한 자세한 내용은 [논리 파티션](partition-data.md)을 참조하세요.

데이터베이스에 프로비전된 처리량을 공유하는 여러 논리 파티션을 단일 리소스 파티션에 호스트할 수 있습니다. 컨테이너의 단일 논리 파티션은 그 범위가 항상 리소스 파티션 내로 지정되지만, 데이터베이스에 프로비전된 처리량을 공유하는 'C' 컨테이너에 분산된 'L' 논리 파티션은 'R' 실제 파티션에 매핑 및 호스트할 수 있습니다. 다음 이미지는 데이터베이스 내 여러 컨테이너에 속하는 하나 이상의 논리 파티션을 리소스 파티션에 호스트할 수 있다는 것을 보여줍니다.

![리소스 파티션](./media/set-throughput/resource-partition2.png)

## <a name="setting-throughput-on-a-azure-cosmos-database-and-a-container"></a>Azure Cosmos 데이터베이스 및 컨테이너의 처리량 설정

두 모델을 결합하여 데이터베이스와 컨테이너의 처리량을 모두 프로비전할 수 있습니다. 다음 예제는 Azure Cosmos 데이터베이스 및 컨테이너의 처리량을 프로비전하는 방법을 보여줍니다.

* 이름은 ‘Z’이고 프로비전된 처리량은 ‘K’ RU인 Azure Cosmos 데이터베이스를 만들 수 있습니다. 
* 다음으로, 데이터베이스 내에서 5개 컨테이너 A, B, C, D, E를 만듭니다.
* 컨테이너 'B'에 프로비전된 처리량의 'P' RU를 명시적으로 구성할 수 있습니다.
* 'K' RU 처리량은 A, C, D, E 4개 컨테이너 간에 공유됩니다. A, C, D 또는 E에서 사용할 수 있는 정확한 처리량은 상황에 따라 다르며 개별 컨테이너의 처리량에 대한 SLA는 없습니다.
* 컨테이너 'B'는 항상 'P' RU 처리량을 보장받을 수 있으며 SLA가 지원됩니다.

## <a name="comparison-of-models"></a>모델 비교

|**할당량**  |**데이터베이스에 프로비전된 처리량**  |**컨테이너에 프로비전된 처리량**|
|---------|---------|---------|
|최소 RU |400 |400|
|컨테이너당 최소 RU|100|400|
|스토리지 1GB를 사용하는 데 필요한 최소 RU|40|40|
|최대 RU|데이터베이스에서 무제한|컨테이너에서 무제한|
|특정 컨테이너에 할당/제공되는 RU|보장되지 않습니다. 특정 컨테이너에 할당되는 RU는 처리량을 공유하는 컨테이너 파티션 키 선택, 워크로드 분산, 컨테이너 수 등의 속성에 따라 달라집니다. |컨테이너에 구성된 모든 RU는 컨테이너에만 배타적으로 예약됩니다.|
|컨테이너의 최대 스토리지|Unlimited|Unlimited|
|컨테이너의 논리 파티션당 최대 처리량|10K RU|10K RU|
|컨테이너의 논리 파티션당 최대 스토리지(데이터 + 인덱스)|10 GB|10 GB|

## <a name="next-steps"></a>다음 단계

* [논리 파티션](partition-data.md)에 대한 자세한 정보
* [Azure Cosmos 컨테이너의 처리량을 프로비전하는 방법](how-to-provision-container-throughput.md) 알아보기
* [Azure Cosmos 데이터베이스의 처리량을 프로비전하는 방법](how-to-provision-database-throughput.md) 알아보기

