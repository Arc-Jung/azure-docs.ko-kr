---
title: Azure Cosmos DB에서 분할
description: Azure Cosmos DB에서 분할 개요
author: aliuy
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 10/30/2018
ms.author: andrl
ms.openlocfilehash: b89830d566b36b0446836d8f32aee5756e2d0991
ms.sourcegitcommit: 345b96d564256bcd3115910e93220c4e4cf827b3
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/28/2018
ms.locfileid: "52498426"
---
# <a name="partitioning-in-azure-cosmos-db"></a>Azure Cosmos DB에서 분할

분할은 애플리케이션의 성능 요구 사항을 충족하기 위해 Cosmos DB에서 데이터베이스의 개별 컨테이너 크기를 조정하는 기술입니다. 분할을 사용하면 컨테이너의 항목이 고유한 하위 집합으로 분할되며, 이를 논리 파티션이라고 합니다. 논리 파티션은 각 항목과 연결된 파티션 키 속성 값을 기반으로 생성됩니다.

논리 파티션은 컨테이너에 있는 고유한 항목의 하위 집합입니다. 논리 파티션의 항목은 논리 파티션의 모든 항목이 공유하는 파티션 키 값으로 식별됩니다.  예를 들어 문서를 보관하는 컨테이너가 하나 있고 각 문서에 `UserID` 속성이 있다고 생각해 봅시다.  `UserID`가 컨테이너에 있는 항목의 파티션 키 역할을 하고 1000개의 고유한 `UserID` 값이 있다면 컨테이너에 대한 1000개의 논리적 파티션이 만들어집니다.

컨테이너의 각 항목에는 항목의 **논리 파티션**을 결정하는 **파티션 키**가 있고, 논리 파티션에서 고유한 **항목 id**도 있습니다.  항목의 **인덱스**는 항목을 고유하게 식별하며 파티션 키와 항목 id를 결합하여 형성됩니다.

파티션 키 선택은 애플리케이션 성능에 영향을 주는 중요한 결정입니다.  자세한 내용은 구체적인 지침을 제공하는 [파티션 키 선택](partitioning-overview.md#choose-partitionkey) 문서를 참조하세요.

## <a name="logical-partition-management"></a>논리 파티션 관리

Cosmos DB는 컨테이너의 확장성 및 성능 요구 사항을 효율적으로 충족하기 위해 실제 파티션(서버 인프라)에 논리 파티션을 배치하는 작업을 투명하게 자동으로 관리합니다. 애플리케이션의 처리량 및 스토리지 요구 사항이 증가하면 Cosmos DB는 논리 파티션을 이동하여 자동으로 부하를 여러 서버에 분산합니다. Cosmos DB가 파티션을 관리하는 방법에 대한 자세한 내용은 [논리 파티션](partition-data.md) 문서를 참조하세요. 애플리케이션을 빌드 또는 실행하기 위해 이러한 세부 정보를 반드시 이해해야 하는 것은 아닙니다.

Cosmos DB는 해시 기반 분할을 사용하여 논리 파티션을 실제 파티션 간에 분산합니다.  항목의 파티션 키 값은 Cosmos DB에서 해시되고, 해시된 결과는 실제 파티션을 결정합니다. Cosmos DB는 'N'개의 실제 파티션에 파티션 키 해시의 키 공간을 균등하게 할당합니다.

단일 파티션의 데이터에 액세스하는 쿼리는 여러 파티션에 액세스하는 쿼리보다 비용 효율적입니다. 저장 프로시저 또는 트리거의 트랜잭션은 단일 논리 파티션 내의 항목에만 허용됩니다.  

## <a id="choose-partitionkey"></a>파티션 키 선택

파티션 키를 선택할 때 다음 세부 정보를 고려해야 합니다.

* 단일 논리 파티션에 허용되는 스토리지 상한은 10GB입니다.  

* 분할된 컨테이너의 최소 처리량은 400RU/s로 구성됩니다. 동일한 파티션 키에 대한 요청은 파티션에 할당된 처리량을 초과할 수 없습니다. 할당된 처리량을 초과하는 경우 요청 속도가 제한됩니다. 따라서 애플리케이션 내에서 "핫 스폿"을 초래하지 않는 파티션 키를 선택해야 합니다.

* 시간이 지나도 모든 파티션에 워크로드를 균등하게 분산하는 파티션 키를 선택해야 합니다.  파티션 쿼리 및/또는 트랜잭션의 효율성과 항목을 여러 파티션에 분산하여 확장성을 확보한다는 목표 간의 균형을 적절히 유지하는 파티션 키를 선택해야 합니다.

* 값 범위가 방대하고 논리 파티션 간에 액세스 패턴이 균등하게 분산되는 파티션 키를 선택해야 합니다. 핵심 개념은 데이터 스토리지 및 처리량에 대한 리소스가 논리 파티션에 분산되도록 컨테이너의 데이터 및 작업을 논리 파티션 집합으로 분산하는 것입니다.

* 쿼리에서 필터로 자주 표시되는 속성을 파티션 키로 사용할 수 있습니다. 필터 조건자에 파티션 키를 포함하여 쿼리를 효율적으로 라우팅할 수 있습니다.

## <a name="next-steps"></a>다음 단계

* [파티션](partition-data.md)에 대한 자세한 정보
* [Azure Cosmos DB에서 프로비전된 처리량](request-units.md)에 대한 자세한 정보
* [Azure Cosmos DB에서 글로벌 배포](distribute-data-globally.md)에 대한 자세한 정보
