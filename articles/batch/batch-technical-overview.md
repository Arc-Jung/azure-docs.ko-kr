<properties
	pageTitle="Azure 배치 기술 개요"
	description="Azure 일괄 처리 서비스의 개념, 워크플로 및 시나리오에 대해 알아봅니다."
	services="batch"
	documentationCenter=""
	authors="dlepow"
	manager="timlt"
	editor=""/>

<tags
	ms.service="batch"
	ms.workload="big-compute"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="get-started-article"
	ms.date="04/28/2015"
	ms.author="danlep"/>


#Azure 배치 기술 개요
Azure 배치는 클라우드에서 대규모 병렬 및 HPC(고성능 컴퓨팅) 응용 프로그램을 실행하도록 도와줍니다. 작업을 실행할 VM(가상 컴퓨터)의 관리되는 컬렉션에 대한 작업 일정 및 자동 크기 조정을 제공하는 플랫폼 서비스입니다. 배치 서비스를 사용하여 요청 시 또는 일정에 따라 Azure에서 배치 작업이 실행되도록 구성할 수 있으며 기본 플랫폼의 작업 예약 및 VM 관리에 따른 복잡성도 걱정할 필요가 없습니다.

>[AZURE.NOTE]배치는 미리 보기로 제공됩니다. 배치를 사용하려면 Azure 계정이 필요하고 배치 미리 보기에 등록해야 합니다. 계정이 없는 경우 몇 분 만에 무료 평가판 계정을 만들 수 있습니다. 자세한 내용은 [Azure 계정 만들기](http://azure.microsoft.com/develop/php/tutorials/create-a-windows-azure-account/)(영문)를 참조하세요.


## 사용 사례

배치는 클라우드의 탄력성과 확장성을 활용하여 대용량의 유사 태스크를 실행해 원하는 결과를 얻을 수 있는 *배치 처리* 또는 *배치 컴퓨팅*을 지원합니다. 명령줄 프로그램 또는 스크립트는 데이터 파일 집합을 입력으로 사용하고 일련의 태스크에서 데이터를 처리하고, 출력 파일 집합을 생성합니다. 출력 파일은 최종 결과가 되거나 더 큰 워크플로의 중간 단계가 될 수 있습니다.

배치 컴퓨팅은 일정에 따라 또는 요청이 있을 때 대량의 데이터를 처리하고, 변환하고, 분석하는 조직의 일반적인 패턴입니다. 여기에는 일정에 따라 완료되어야 하는 은행의 일별 위험 보고 또는 급여와 같은 주기 끝 처리가 포함됩니다. 뿐만 아니라 일반적으로 계산 클러스터 또는 그리드의 도구 및 리소스를 필요로 하는 대규모 비즈니스, 과학 및 엔지니어링 응용 분야도 포함됩니다. 응용 분야에는 유체 역학 시뮬레이션과 같은 전통적인 HPC 응용 분야는 물론, 자동차 디자인, 석유 및 가스 탐사, 생명 과학 연구 및 디지털 콘텐츠 작성 등의 분야의 특수한 작업도 포함합니다.

배치 작업은 기본적으로 병렬("병렬 처리가 적합한") 응용 프로그램이나 작업에 적합하며 이러한 응용 프로그램이나 작업이 배치 서비스에서 관리되는 계산 VM과 같은 여러 컴퓨터에서 병렬 작업으로 실행되도록 합니다. 그림 1을 참조하세요.

![병렬 태스크][parallel]

**그림 1. 여러 컴퓨터에서 실행되는 병렬 태스크**

예를 들면 다음과 같습니다.

* 재무 위험 모델링
* 이미지 렌더링 및 이미지 처리
* 미디어 인코딩 및 트랜스코딩
* 유전자 서열 분석
* 소프트웨어 테스트

또한 배치를 사용하여 말단에 감소 단계가 있는 병렬 계산과 좀 더 복잡한 기타 순환식 병렬 작업을 수행할 수도 있습니다.

>[AZURE.NOTE]배치 미리 보기에서는 현재 MPI(메시지 전달 인터페이스) 응용 프로그램을 지원하지 않습니다.

## 개발자 시나리오

REST 기반 배치 API는 배치 서비스로 배치 작업을 구성하고 실행하도록 지원하는 다음과 같은 두 가지 개발자 시나리오를 지원합니다.

1. **계산을 작업 항목으로 분산** - *배치* API를 사용하여 유연한 계산 VM 풀을 만들고 관리하며 해당 VM에서 실행되는 작업을 지정합니다. 이를 통해 리소스를 완전히 제어할 수 있으며 클라이언트는 배치 REST API 또는 경우에 따라 작업 항목의 작업 관리자 기능을 사용하여 구현할 수 있는 워크플로 관리자 또는 메타스케줄러 등을 사용하여 태스크 실행 파이프라인을 관리해야 합니다. 계산 클러스터를 설정하거나 작업을 큐에 대기하고 예약하기 위한 코드를 작성할 필요 없이, 계산 작업의 예약을 자동화하고 실행을 위한 계산 VM 풀의 크기를 조정할 수 있습니다. 작업 항목 지정의 일부로 모든 종속성을 정의하고 입력 및 출력 파일의 이동을 정의합니다.

2. **배치 서비스로 응용 프로그램 게시 및 실행** - *배치 앱* API는 더 높은 수준에서 작동하며, 기존 응용 프로그램을 래핑하여 배치를 통해 백그라운드에서 관리되는 VM 풀에서 서비스로 실행될 수 있도록 합니다. 응용 프로그램은 클라이언트 워크스테이션 또는 계산 클러스터에서 실행될 수 있습니다. 배치 앱 프레임워크는 입력 및 출력 파일의 이동, 작업 실행, 작업 관리 및 데이터 지속성을 처리합니다. 또한 배치 앱을 사용하면 데이터가 분할되고 한 작업 안에 다중 단계가 포함되는 방식으로 태스크를 모델링할 수 있도록 합니다. REST 기반 API와 Azure 관리 포털에서 액세스할 수 있고 제출한 작업을 모니터링하는 데 도움이 되는 배치 앱 포털이 포함됩니다.


## 배치 개념

다음 섹션에서는 배치 서비스 및 API를 사용하기 위한 주요 개념을 요약해서 설명합니다. 자세한 내용은 [Azure 배치의 API 기본 사항](batch-api-basics.md)을 참조하세요.

* [배치 계정](#BKMK_Account)
* [태스크용 가상 컴퓨터 및 풀](#BKMK_TVM)
* [작업 항목, 작업 및 태스크](#BKMK_Workitem)
* [파일 및 디렉터리](#BKMK_Files)

### <a id="BKMK_Account">배치 계정</a>
배치 서비스를 사용하려면 고유한 **배치 계정**이 필요합니다. 배치 서비스에 대한 모든 요청은 계정 이름 및 해당 액세스 키로 인증되어야 합니다.

Azure 포털 또는 [배치 PowerShell cmdlet](batch-powershell-cmdlets-get-started.md)을 사용하여 배치 계정을 만들고 계정에 대한 액세스 키를 관리할 수 있습니다.

포털에서 배치 계정을 만들려면

1. [Azure 관리 포털](https://manage.windowsazure.com)에 로그인합니다.
2. **새로 만들기**, **계산**, **배치 서비스** 및 **빠른 생성**을 차례로 클릭합니다.![배치 계정 만들기][account_portal]

3. 다음 정보를 입력합니다.

	* **계정 이름**에 배치 계정 URL에서 사용할 고유한 이름을 입력합니다.
	* **지역**에서 배치를 사용할 수 있는 지역을 선택합니다.
	* 둘 이상의 구독이 있는 경우 **구독**에서 배치 사용 요금이 청구될 사용 가능한 구독을 선택합니다.


### <a id="BKMK_TVM">태스크용 가상 컴퓨터 및 풀</a>

TVM(**태스크용 가상 컴퓨터**)은 실행 파일(.exe) 또는 배치 앱의 경우 응용 프로그램 이미지의 하나 이상의 프로그램과 같이 배치 서비스가 특정 태스크를 실행하도록 배정한 Azure VM입니다. 일반적인 Azure VM과 달리, TVM은 사용자가 직접 프로비전하거나 관리하지 않습니다. 대신 배치 서비스가 그림 2와 같이 TVM을 비슷하게 구성된 VM의 **풀**로 만들고 관리합니다.

![풀 및 TVM][TVM_pool]

**그림 2. TVM 풀**

배치 API를 사용하는 경우 풀을 직접 만들거나, 수행할 작업을 지정할 때 자동으로 만들 수 있습니다. 배치 앱 API를 사용하는 경우 클라우드 지원 배치 응용 프로그램을 실행할 때 풀이 자동으로 생성됩니다.


풀의 특성은 다음과 같습니다.

* TVM [크기](http://msdn.microsoft.com/library/azure/dn197896.aspx)
* TVM에서 실행되는 운영 체제
* TVM의 최대 수
* 풀에 대한 크기 조정 정책 - 태스크를 처리하는 TVM 수를 동적으로 조정하는 현재 작업 및 리소스 사용량에 따른 수식
* 풀 내 통신을 허용하도록 TVM에서 방화벽 포트가 설정되었는지 여부
* TVM에 설치된 인증서 - 저장소 계정에 대한 액세스를 인증하기 위한 인증서를 예로 들 수 있습니다.
* 응용 프로그램 설치 또는 태스크에 사용되는 데이터 다운로드 등과 같은 일회성 작업을 위한 TVM의 시작 태스크

>[AZURE.NOTE]현재 TVM에서는 Windows Server 2012 R2, Windows Server 2012 또는 Windows Server 2008 R2 SP1 운영 체제만 실행될 수 있습니다.

풀은 풀이 생성된 배치 계정을 통해서만 사용할 수 있습니다. 하나의 배치 계정에는 둘 이상의 풀이 있을 수 있습니다.

풀의 모든 TVM에는 고유 이름 및 연결된 IP 주소가 할당됩니다. TVM이 풀에서 제거되면 운영 체제에 대해 수행된 변경 내용, 해당 로컬 파일, 해당 이름 및 해당 IP 주소가 손실됩니다. TVM이 풀에서 제거되면 수명이 끝납니다.


### <a id="BKMK_Workitem">작업 항목, 작업 및 태스크</a>

**작업 항목**은 응용 프로그램이 풀의 TVM에서 실행되는 방식을 지정하는 템플릿입니다. **작업**은 예약된 작업 항목이며 한 번 발생하거나 다시 발생할 수 있습니다. 작업은 **태스크** 컬렉션으로 구성됩니다. 그림 3은 기본 관계를 보여 줍니다.

![작업 항목, 작업 및 태스크][job_task]

**그림 3. 작업 항목, 작업 및 태스크**

배치를 개발하는 데 사용하는 API에 따라 작업 항목, 작업 및 태스크에 대한 세부 정보를 더 많이 또는 더 적게 관리해야 합니다.

* 배치 API로 응용 프로그램을 개발하는 경우 모든 작업 항목, 작업 및 태스크를 프로그래밍 방식으로 정의하고 태스크를 실행하는 TVM 풀을 구성해야 합니다.

* 배치 앱 API 및 도구를 사용하여 클라이언트 응용 프로그램을 통합하는 경우 작업을 자동으로 태스크로 분할하고, 태스크를 처리하고, 개별 태스크의 결과를 최종 작업 결과에 병합하는 구성 요소를 사용할 수 있습니다. 작업을 배치 서비스에 제출할 경우 배치 앱 프레임워크는 작업을 관리하고 TVM에서 태스크를 실행합니다.



### <a id="BKMK_Files">파일 및 디렉터리</a>

파일은 작업 태스크에 대한 입력으로 사용되는 데이터 부분입니다. 태스크에는 연결된 입력 파일이 없거나 1개 또는 여러 개 있을 수 있습니다. 동일한 파일을 여러 태스크에 사용할 수도 있습니다. 예를 들어 영화 렌더링 작업의 태스크에는 공통적으로 사용되는 텍스처 및 모델이 있을 수 있습니다. 데이터 분석 작업의 태스크에서는 파일이 관찰 또는 측정 집합일 수 있습니다.

각 태스크에는 태스크에서 처리하는 입력 데이터 및 태스크에서 만드는 출력 데이터를 포함하는 작업 디렉터리가 있습니다. 이러한 디렉터리 및 파일은 작업이 실행되는 동안 다른 태스크에서 사용될 수 있습니다. TVM의 모든 작업, 파일 및 디렉터리는 단일 사용자 계정에 의해 소유됩니다.

다시 말해, 배치에서 사용하는 API에 따라 작업 및 태스크에 대한 입력/출력 파일에 대한 더 많거나 적은 세부 정보를 관리해야 합니다. 배치 API를 개발하는 경우에는 이러한 종속성과 파일 이동을 명시적으로 지정해야 합니다. 배치 앱을 사용할 경우 프레임워크에서 이러한 세부 정보 대부분이 처리됩니다.

## 작업 항목 워크플로
그림 4에서는 처리를 위해 분산되는 풀에 응용 프로그램을 제출하는 방법을 보여 줍니다. 여기에서는 배치 API를 사용합니다.

![작업 항목 워크플로][work_item_workflow]

**그림 4. 풀 VM에 작업 항목을 분산하는 워크플로**

1.	작업에 필요한 입력 파일(예: 소스 데이터 또는 이미지)을 Azure 저장소 계정에 업로드합니다. 이러한 파일은 배치 서비스에서 액세스할 수 있도록 저장소 계정에 있어야 합니다. 배치 서비스는 해당 파일을 태스크가 실행될 때 TVM에 로드합니다.
2.	저장소 계정에 종속 이진 파일을 업로드합니다. 이진 파일에는 태스크 및 종속 어셈블리에서 실행되는 프로그램이 포함됩니다. 이러한 파일은 저장소에서 액세스할 수는 있어야 하며 TVM에 로드됩니다.
3.	TVM 풀을 만들고 풀의 TVM 크기, 실행되는 OS 및 기타 속성을 지정합니다. 태스크가 실행될 때 이 풀에서 TVM에 태스크가 할당됩니다.
4.	작업 항목을 만듭니다. 작업은 작업 항목을 만들 때 자동으로 만들어집니다. 작업 항목을 사용하여 태스크 작업을 관리할 수 있습니다.
5.	태스크를 작업에 추가합니다. 각 태스크는 사용자가 업로드한 프로그램을 사용하여 업로드된 파일의 정보를 처리합니다.
6.	응용 프로그램을 실행하고 출력의 결과를 모니터링합니다.

## 응용 프로그램 게시 및 실행 워크플로
그림 5는 배치 앱 API를 사용하여 응용 프로그램 게시한 다음 배치에 의해 설정된 응용 프로그램으로 작업을 제출하는 기본 워크플로를 보여 줍니다.

![응용 프로그램 게시 워크플로][app_pub_workflow]

**그림 5. 배치 앱으로 응용 프로그램을 게시하고 실행하는 워크플로**

1.	기존 응용 프로그램 실행 파일과 필요한 지원 파일의 zip 파일을 나타내는 **응용 프로그램 이미지**를 준비합니다. 이러한 파일은 일반적인 서버 팜 또는 클러스터에서 실행하는 것과 동일한 실행 파일일 수 있습니다.
2.	작업을 호출하고 배치 서비스에 디스패치하는 **클라우드 어셈블리**의 zip 파일을 만듭니다. 여기에는 SDK를 통해 사용할 수 있는 두 가지 구성 요소가 포함됩니다.

	a. **작업 분할자** – 작업을 독립적으로 처리될 수 있는 태스크로 분할합니다. 예를 들어 애니메이션 시나리오에서 작업 분할자는 영화 렌더링 작업을 개별 프레임으로 나눕니다.

	b. **태스크 프로세서** - 지정된 태스크용 응용 프로그램 실행 파일을 호출합니다. 예를 들어 애니메이션 시나리오에서 작업 프로세서는 렌더링 프로그램을 호출하여 태스크에 지정된 단일 프레임을 렌더링합니다.

3.	배치 앱 API 또는 개발자 도구를 사용하여 이전 두 단계에서 준비한 zip 파일을 Azure 저장소 계정에 업로드합니다. 이러한 파일은 배치 서비스에서 액세스할 수 있도록 저장소 계정에 있어야 합니다. 이 작업은 일반적으로 서비스 관리자가 응용 프로그램마다 한 번씩 수행합니다.
4.	Azure에서 사용하도록 설정된 응용 프로그램 서비스에 작업을 제출하는 방법을 제공합니다. 이 프로세서는 응용 프로그램 UI 또는 웹 포털의 플러그 인이거나 백 엔드 시스템의 일부로 포함된 무인 서비스일 수도 있습니다. 다양한 옵션을 설명하기 위한 샘플을 SDK에서 사용할 수 있습니다.

	작업을 실행하려면

	a. 사용자 작업에 관련된 입력 파일(예: 소스 데이터 또는 이미지)을 업로드합니다. 이러한 파일은 배치 서비스에서 액세스할 수 있도록 저장소 계정에 있어야 합니다.

	b. 필수 매개 변수 및 파일 목록과 함께 작업을 제출합니다.

	c. API 또는 배치 앱 포털을 사용하여 작업 진행 상태를 모니터링합니다.

	d. 출력을 다운로드합니다.

## 추가 리소스

* [.NET용 Azure 배치 라이브러리 시작](batch-dotnet-get-started.md)
* [Azure 배치 개발 라이브러리 및 도구](batch-development-libraries-tools.md)
* [Azure 배치 REST API 참조](http://go.microsoft.com/fwlink/p/?LinkId=517803)
* [Azure 배치 앱 REST API 참조](http://go.microsoft.com/fwlink/p/?LinkId=517804)

[parallel]: ./media/batch-technical-overview/parallel.png
[TVM_pool]: ./media/batch-technical-overview/TVM_pool.png
[job_task]: ./media/batch-technical-overview/job_task.png
[account_portal]: ./media/batch-technical-overview/account_portal.png
[work_item_workflow]: ./media/batch-technical-overview/work_item_workflow.png
[app_pub_workflow]: ./media/batch-technical-overview/app_pub_workflow.png

<!---HONumber=62-->