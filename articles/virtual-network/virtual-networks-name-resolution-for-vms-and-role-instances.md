<properties 
   pageTitle="VM 및 역할 인스턴스 이름 확인"
   description="Azure IaaS, 하이브리드 솔루션, 서로 다른 클라우드 서비스, Active Directory, 자체 DNS 서버 사용 시의 이름 확인 시나리오"
   services="virtual-network"
   documentationCenter="na"
   authors="joaoma"
   manager="jdial"
   editor="tysonn" />
<tags 
   ms.service="virtual-network"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="infrastructure-services"
   ms.date="08/10/2015"
   ms.author="joaoma" />

# VM 및 역할 인스턴스에 대한 이름 확인

IaaS, PaaS, 하이브리드 솔루션 호스팅에 Azure를 어떻게 사용할지에 따라 귀하가 만든 VM 및 역할 인스턴스를 다른 VM 및 인스턴스와 통신하도록 설정해야 할 수도 있습니다. IP 주소를 이용해 통신할 수도 있지만, 기억하기 쉬운 호스트 이름을 사용하면 보다 간편합니다. 단, 호스트 이름이 어떻게든 IP 주소에 확인되어야 통신을 설정할 수 있습니다.

역할 인스턴스와 VM을 Azure에 호스트할 때 호스트 이름과 도메인 이름으로 내부 IP 주소를 확인하는 방법은 다음의 두 가지가 있습니다.

- [Azure에서 제공하는 이름 확인](#azure-provided-name-resolution)

- [자체 DNS 서버를 사용한 이름 확인](#name-resolution-using-your-own-dns-server)

어떤 방법으로 이름을 확인할지는 사용하는 VM 및 역할 인스턴스가 자체 클라우드 서비스와 다른 클라우스 서비스에 어떻게 통신하는지에 따라 다릅니다.

**다음 표에 각 시나리오 별로 해당하는 이름 확인 방법이 나와 있습니다.**

| **시나리오** | **제공된 이름 확인:** | **자세한 내용은 다음을 참조하세요.** |
|------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 역할 인스턴스 또는 VM이 동일한 클라우드 서비스에 위치할 경우 | Azure에서 제공하는 이름 확인 | [Azure에서 제공하는 이름 확인](#azure-provided-name-resolution) |
| VM과 역할 인스턴스가 동일한 가상 네트워크에 위치할 경우 | Azure에서 제공하는 이름 확인-자체 DNS 서버를 이용한 FQDNorName 확인 사용 | - [Azure에서 제공하는 이름 확인](#azure-provided-name-resolution) - [자체 DNS 서버를 이용한 이름 확인](#name-resolution-using-your-own-dns-server) - [DNS 서버 요구 사항](#dns-server-requirements) |
| VM와 역할 인스턴스가 동일한 가상 네트워크에 위치하지 않을 경우 | 자체 DNS 서버를 이용한 이름 확인 | - [자체 DNS 서버를 이용한 이름 확인](#name-resolution-using-your-own-dns-server) - [DNS 서버 요구 사항](#dns-server-requirements) |
| 프레미스 간 이름 확인: Azure와 온-프레미스 컴퓨터 간에 역할 인스턴스나 VM을 연결할 경우 | 자체 DNS 서버를 이용한 이름 확인 | - [자체 DNS 서버를 이용한 이름 확인](#name-resolution-using-your-own-dns-server) - [DNS 서버 요구 사항](#dns-server-requirements) |
| 내부 IP 역방향 조회 | 자체 DNS 서버를 이용한 이름 확인 | - [자체 DNS 서버를 이용한 이름 확인](#name-resolution-using-your-own-dns-server) - [DNS 서버 요구 사항](#dns-server-requirements) |
| 사용자 지정 도메인(예: Active Directory 도메인, 자체 등록한 도메인) | 자체 DNS 서버를 이용한 이름 확인 | - [자체 DNS 서버를 이용한 이름 확인](#name-resolution-using-your-own-dns-server) - [DNS 서버 요구 사항](#dns-server-requirements) |
| 역할 인스턴스가 서로 다른 클라우드 서비스에 위치하며 가상 네트워크에 존재하지 않을 경우 | 사용할 수 없습니다. 가상 네트워크 외부에 있는 VM과 역할 인스턴스가 서로 다른 클라우드 서비스에 위치한 경우에는 연결을 지원하지 않습니다. | 사용할 수 없습니다. |

> [AZURE.NOTE]인터넷 상의 컴퓨터와 공용 끝점 간의 연결은 Azure에서 자동으로 제공되며 별도로 구성할 필요가 없습니다.

## Azure에서 제공하는 이름 확인

Azure는 공용 인터넷 도메인을 사용할 때뿐 아니라, VM과 역할 인스턴스가 동일한 클라우드 서비스에 위치하거나, 서로 다른 클라우드 서비스에 위치하지만 FQDN을 이용해 동일한 가상 네트워크에 존재할 때도 이름 확인을 제공합니다. Azure에서 제공한 이름 확인은 별도로 구성할 필요가 없으나, 위의 표에 나온 바와 같이 모든 배포 서비스에서 선택할 수 있는 것은 아닙니다.

> [AZURE.NOTE]웹 역할 및 작업자 역할의 경우, Azure 서비스 관리 REST API를 사용하면 역할 이름과 인스턴스 번호를 통해 역할 인스턴스의 내부 IP 주소를 접속할 수도 있습니다. 자세한 내용은 [서비스 관리 REST API 참조](https://msdn.microsoft.com/library/azure/ee460799.aspx) 항목을 보세요.

### 기능 및 고려 사항

**기능:**

- 사용의 편의성: Azure에서 제공하는 DNS 서비스를 사용하면 별도로 구성할 필요가 없습니다.

- 역할 인스턴스 또는 VM이 동일한 클라우드 서비스에 위치할 경우에 호스트 이름 확인이 제공됩니다.

- 역할 인스턴스와 VM이 동일한 가상 네트워크에 존재하지만 대상 VM 도는 역할 인스턴스의 FQDN을 이용해 서로 다른 클라우드 서비스에 위치할 때 이름 확인이 제공됩니다.

- 자동 생성되는 이름 대신에 배포를 가장 잘 설명해주는 호트스 이름을 만들 수 있습니다.

- 표준 DNS 조회를 사용해 공용 도메인 이름을 확인하는 기능이 지원됩니다.

**고려 사항:**

- 가상 네트워크 간의 이름 확인은 불가능합니다.

- VM와 역할 인스턴스가 Azure 가상 네트워크에 추가된 첫 180개의 클라우드 서비스에 위치할 때만 호트스 이름과 FQDN을 등록할 수 있습니다. 180 개 이상의 클라우드 서비스를 사용하는 경우, 각 서비스에 위치한 VM과 역할 인스턴스의 수와는 관계없이 자체 DNS 서버를 이용해야 이름 확인을 할 수 있습니다.

- 동일한 가상 컴퓨터 또는 역할 인스턴스에 여러 호스트 이름을 사용하는 기능은 지원되지 않습니다.

- 프레미스 간 이름 확인은 불가능합니다.

- Azure에서 만든 DNS 접미사는 수정할 수 없습니다.

- Azure에서 제공하는 DNS에 사용자 고유의 레코드를 수동으로 등록할 수 없습니다.

- WINS 및 NetBIOS는 지원되지 않습니다. (Windows 탐색기에서 네트워크 브라우저에 있는 가상 컴퓨터를 나열할 수 없습니다.)

- 호스트 이름이 DNS와 호환될 수 있어야 합니다. (0-9, a-z 및 '-'만 사용이 가능하며, '-'로 시작하거나 끝날 수 없습니다. RFC 3696 섹션을 2를 참조하세요.)

- DNS 쿼리 트래픽은 VM별로 제한됩니다. 응용 프로그램에서 여러 대상 이름에 DNS 쿼리를 자주 수행하면 일부 쿼리 시간이 초과될 수 있습니다. 이러한 문제를 방지하려면 클라이언트 캐싱을 사용하는 것이 좋습니다.

## 자체 DNS 서버를 이용한 이름 확인

이름 확인 요구사항이 Azure에서 제공하는 기능을 벗어나는 경우, 자체 DNS 서버를 사용할 수 있습니다. 자체 DNS 서버를 사용하면 클라우드 서비스에 필요한 레코드 관리를 직접 담당해야 합니다.

> [AZURE.NOTE]배포 시나리오에서 필요한 경우가 아니면 외부 DNS 서버를 사용하지 않는 것이 좋습니다.

## DNS 서버 요구 사항

Azure에서 제공하지 않는 이름 확인을 사용할 경우, 지정하는 DNS 서버에서 다음을 지원해야 합니다: DNS 서버가 DDNS(동적 DNS) 등록을 허용해야 합니다.

- DNS 서버의 레코드 청소 기능을 꺼야 합니다. Azure IP 주소는 장기 임대를 하므로 청소하는 동안 DNS 서버에 있는 레코드가 제거될 수 있습니다.

- DNS 서버에서 재귀 기능을 사용해 외부 도메인 이름 확인을 허용해야 합니다.

- 클라이언트 이름 확인 요청과 이름이 등록될 서비스 및 가상 컴퓨터에 의해 DNS 서버에 엑세스할 수 있어야 합니다( TCP/UDP port 53 이용).

- 또한 많은 보트들이 열려 있는 재귀 DNS 해결자를 검색하므로 인터넷에서 엑세스할 수 없더록 DNS 서버를 보호하는 것이 좋습니다.


## DNS 서버 지정

역할 인스턴스와 VM에서 사용할 DNS 서버를 여러 개 지정할 수 있습니다. 다만 그럴 경우 DNS 서버는 라운드 로빈과 반대인 장애 조치(Failover) 방식으로 지정된 순서대로 사용됩니다. 각 DNS 쿼리에 대해 클라이언트는 기본 DNS 서버를 가장 먼저 시도하며, 기본 DNS 서버가 응답하지 않을 경우에만 다른 서버를 시도합니다. 그러므로 사용자 환경에 맞게 DNS 서버가 올바른 순서로 등록되어 있는지 확인하세요.

> [AZURE.NOTE]이미 배포된 가상 네트워크의 네트워크 구성 파일에서 DNS 설정을 변경할 경우, 각 VM을 다시 시작해야 변경 내용이 적용됩니다.

### 관리 포털을 이용한 DNS 서버 지정

관리 포털을 이용하여 가상 네트워크를 만들 경우, IP 주소 및 DNS 서버(다수의 서버 가능) 이름을 원하는 대로 지정할 수 있습니다. 가상 네트워크가 일단 만들어지면, 가상 네트워크에 배포한 가상 컴퓨터와 역할 인스턴스는 지정한 DNS 설정에 따라 자동으로 구성됩니다. (단, 배포 시에 사용될 DNS 서버를 지정하지 않을 경우.) Azure 가상 네트워크 구성을 설정하는 방법에 대한 자세한 내용은 [관리 포털에서 가상 네트워크 구성 정보](virtual-networks-settings.md)를 참조하세요.

> [AZURE.NOTE]DNS 서버는 9개까지 사용할 수 있습니다.

### 구성 파일을 이용한 DNS 서버 지정

DNS 설정을 지정하려면 두 개의 구성 파일을 사용합니다. *네트워크 구성* 파일과 *서비스 구성* 파일입니다.

네트워크 구성 파일은 Azure에 가상 네트워크를 추가할 때마다 생성됩니다. 가상 네트워크에 있는 클라우드 서비스에 역할 인스턴스나 VM을 추가할 경우, 네트워크 구성 파일에 따른 DNS 설정이 역할 인스턴스나 VM에도 적용됩니다. (단, 서비스 구성 파일에 자체 DNS 설정이 없을 경우.)

서비스 구성 파일은 Azure에 클라우드 서비스 파일을 추가할 때마다 생성됩니다. 역할 인스턴스나 VM을 클라우드 서비스에 추가할 경우, 서비스 구성 파일의 DNS 설정이 역할 인스턴스나 VM에도 적용됩니다.

> [AZURE.NOTE]서비스 구성 파일의 설정은 네트워크 구성 파일의 설정을 재정의합니다. 예를 들어 만약 가상 네트워크의 일부인 클라우드 서비스에 VM이 추가되고, 네트워크 구성 파일과 서비스 구성 파일에 모두 DNS 설정이 있을 경우, 서비스 구성 파일의 DNS 설정이 VM에 적용됩니다.


## 다음 단계

[Azure 서비스 구성 스키마](https://msdn.microsoft.com/library/azure/ee758710)

[가상 네트워크 구성 스키마](https://msdn.microsoft.com/library/azure/jj157100)

[관리 포털에서 가상 네트워크 설정 구성 정보](virtual-networks-settings.md)

[네트워크 구성 파일을 사용하여 가상 네트워크 구성](virtual-networks-using-network-configuration-file.md)

<!---HONumber=August15_HO7-->