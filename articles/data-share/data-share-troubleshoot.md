---
title: Azure Data Share 문제 해결
description: Azure 데이터 공유에서 데이터 공유를 만들거나 받을 때 초대 및 오류와 관련 된 문제를 해결 하는 방법에 대해 알아봅니다.
services: data-share
author: jifems
ms.author: jife
ms.service: data-share
ms.topic: troubleshooting
ms.date: 12/16/2020
ms.openlocfilehash: 3aa1c0b8579bd37d2bb51cbde70997131c696813
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/19/2021
ms.locfileid: "97964510"
---
# <a name="troubleshoot-common-problems-in-azure-data-share"></a>Azure 데이터 공유의 일반적인 문제 해결 

이 문서에서는 Azure 데이터 공유의 일반적인 문제를 해결 하는 방법을 설명 합니다. 

## <a name="azure-data-share-invitations"></a>Azure Data Share 초대 

경우에 따라 새 사용자가 전자 메일 초대에 **초대 수락** 을 선택 하면 빈 초대 목록이 표시 될 수 있습니다. 

:::image type="content" source="media/no-invites.png" alt-text="빈 초대 목록을 보여 주는 스크린샷":::

이 문제는 다음과 같은 경우에 발생할 수 있습니다.

* **Azure 데이터 공유 서비스는 azure 테 넌 트의 Azure 구독에 대 한 리소스 공급자로 등록 되지 않습니다.** 이 문제는 Azure 테 넌 트에 데이터 공유 리소스가 없는 경우에 발생 합니다. 

    Azure Data Share 리소스를 만들면 Azure 구독에 리소스 공급자가 자동으로 등록됩니다. 다음 단계를 사용 하 여 데이터 공유 서비스를 수동으로 등록할 수 있습니다. 이러한 단계를 완료 하려면 Azure 구독에 대 한 [참가자 역할이](../role-based-access-control/built-in-roles.md#contributor) 필요 합니다. 

    1. Azure Portal에서 **구독** 으로 이동합니다.
    1. Azure 데이터 공유 리소스를 만드는 데 사용할 구독을 선택 합니다.
    1. **리소스 공급자** 를 선택 합니다.
    1. **DataShare** 를 검색 합니다.
    1. **등록** 을 선택합니다.

* **초대가 Azure 로그인 메일 주소 대신 전자 메일 별칭으로 전송 됩니다.** Azure 데이터 공유 서비스를 이미 등록 했거나 Azure 테 넌 트에서 데이터 공유 리소스를 만들었지만 아직 초대가 표시 되지 않는 경우 전자 메일 별칭이 받는 사람으로 나열 될 수 있습니다. 데이터 공급자에 게 문의 하 여 초대가 전자 메일 별칭이 아닌 Azure 로그인 전자 메일 주소로 전송 되는지 확인 합니다.

* **초대가 이미 수락 되었습니다.** 전자 메일의 링크를 누르면 Azure Portal의 **데이터 공유 초대** 페이지로 이동 합니다. 이 페이지에는 보류 중인 초대만 나열 됩니다. 수락 된 초대가 페이지에 표시 되지 않습니다. 받은 공유를 보고 대상 Azure 데이터 탐색기 클러스터 설정을 구성 하려면 초대를 수락 하는 데 사용한 데이터 공유 리소스로 이동 합니다.

## <a name="creating-and-receiving-shares"></a>공유 만들기 및 받기

새 공유를 만들거나 데이터 집합을 추가 하거나 데이터 집합을 매핑하는 경우 다음과 같은 오류가 나타날 수 있습니다.

* 데이터 집합을 추가 하지 못했습니다.
* 데이터 집합을 매핑하지 못했습니다.
* 데이터 공유 리소스 x에 대 한 액세스를 y에 게 부여할 수 없습니다.
* X에 대 한 적절 한 권한이 없습니다.
* Azure 데이터 공유 계정에 대 한 쓰기 권한을 하나 이상의 선택한 리소스에 추가할 수 없습니다.

Azure 데이터 저장소에 대 한 권한이 부족 한 경우 이러한 오류 중 하나가 표시 될 수 있습니다. 자세한 내용은 [역할 및 요구 사항](concepts-roles-permissions.md)을 참조하세요. 

Azure 데이터 저장소에서 데이터를 공유 하거나 수신 하려면 쓰기 권한이 있어야 합니다. 이 사용 권한은 일반적으로 참가자 역할의 일부입니다. 

Azure 데이터 저장소에서 데이터를 처음으로 공유 하거나 데이터를 수신 하는 경우에도 *Microsoft. 권한 부여/역할 할당/쓰기* 권한이 필요 합니다. 이 사용 권한은 일반적으로 소유자 역할의 일부입니다. Azure 데이터 저장소 리소스를 만든 경우에도 리소스의 소유자가 될 필요는 없습니다. 

적절 한 권한이 있는 경우 Azure 데이터 공유 서비스는 데이터 공유 리소스의 관리 id가 데이터 저장소에 액세스할 수 있도록 자동으로 허용 합니다. 이 프로세스는 몇 분 정도 걸릴 수 있습니다. 이러한 지연으로 인해 오류가 발생 하는 경우 몇 분 후에 다시 시도 하세요.

SQL 기반 공유에는 추가 권한이 필요 합니다. 필수 구성 요소에 대 한 자세한 내용은 [SQL 원본에서 공유](how-to-share-from-sql.md)를 참조 하세요.

## <a name="snapshots"></a>스냅샷
스냅숏은 여러 가지 이유로 실패할 수 있습니다. 스냅숏의 시작 시간을 선택 하 고 각 데이터 집합의 상태를 선택 하 여 자세한 오류 메시지를 엽니다. 

스냅숏은 일반적으로 다음과 같은 이유로 실패 합니다.

* 데이터 공유에 원본 데이터 저장소에서 읽거나 대상 데이터 저장소에 쓸 수 있는 권한이 없습니다. 자세한 내용은 [역할 및 요구 사항](concepts-roles-permissions.md)을 참조하세요. 스냅숏을 처음 사용 하는 경우 Azure 데이터 저장소에 액세스 하는 데 몇 분 정도 걸릴 수 있습니다. 몇 분 후에 다시 시도 하세요.
* 원본 데이터 저장소 또는 대상 데이터 저장소에 대 한 데이터 공유 연결이 방화벽에 의해 차단 되었습니다.
* 공유 데이터 집합, 원본 데이터 저장소 또는 대상 데이터 저장소가 삭제 되었습니다.

저장소 계정의 경우 스냅숏이 진행 되는 동안 원본에서 파일이 업데이트 되므로 스냅숏이 실패할 수 있습니다. 따라서 0 바이트 파일은 대상에 표시 될 수 있습니다. 원본에서 업데이트 후 스냅숏이 성공 합니다.

SQL 원본의 경우 다음과 같은 다른 이유로 스냅숏이 실패할 수 있습니다.

* 데이터 공유 권한을 부여 하는 원본 SQL 스크립트 또는 대상 SQL 스크립트가 실행 되지 않았습니다. 또는 Azure SQL Database 또는 Azure Synapse Analytics (이전의 Azure SQL Data Warehouse)의 경우 스크립트는 Azure Active Directory 인증 대신 SQL 인증을 사용 하 여 실행 됩니다.  
* 원본 데이터 저장소 또는 대상 SQL 데이터 저장소가 일시 중지 되었습니다.
* 스냅숏 프로세스나 대상 데이터 저장소는 SQL 데이터 형식을 지원 하지 않습니다. 자세한 내용은 [SQL 원본에서 공유](how-to-share-from-sql.md#supported-data-types)를 참조 하세요.
* 원본 데이터 저장소 또는 대상 SQL 데이터 저장소가 다른 프로세스에 의해 잠겨 있습니다. Azure 데이터 공유는 이러한 데이터 저장소를 잠그지 않습니다. 그러나 이러한 데이터 저장소에 대 한 기존 잠금을 설정 하면 스냅숏이 실패할 수 있습니다.
* 대상 SQL 테이블은 foreign key 제약 조건에 의해 참조 됩니다. 스냅숏 중에 대상 테이블의 이름이 원본 데이터의 테이블과 같은 경우 Azure 데이터 공유는 테이블을 삭제 하 고 새 테이블을 만듭니다. Foreign key 제약 조건에서 대상 SQL 테이블을 참조 하는 경우에는 테이블을 삭제할 수 없습니다.
* 대상 CSV 파일이 생성 되지만 Excel에서 데이터를 읽을 수 없습니다. 원본 SQL 테이블에 영어가 아닌 문자를 포함 하는 데이터가 포함 되어 있는 경우이 문제가 나타날 수 있습니다. Excel에서 **데이터 가져오기** 탭을 선택 하 고 CSV 파일을 선택 합니다. 파일 원본 **65001: 유니코드 (utf-8)** 를 선택 하 고 데이터를 로드 합니다.

## <a name="updated-snapshot-schedules"></a>업데이트 된 스냅숏 일정
데이터 공급자가 전송 된 공유에 대 한 스냅숏 일정을 업데이트 한 후에는 데이터 소비자가 이전 스냅숏 일정을 사용 하지 않도록 설정 해야 합니다. 그런 다음 받은 공유에 대해 업데이트 된 스냅숏 일정을 사용 하도록 설정 합니다. 

## <a name="next-steps"></a>다음 단계

데이터 공유를 시작 하는 방법을 알아보려면 [데이터 공유](share-your-data.md) 자습서를 계속 진행 합니다. 

데이터를 수신 하는 방법을 알아보려면 [데이터 수락 및 받기](subscribe-to-data-share.md) 자습서를 계속 진행 합니다.