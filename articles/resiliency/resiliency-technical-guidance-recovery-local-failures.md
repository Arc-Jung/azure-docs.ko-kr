<properties
   pageTitle="Azure 기술 지침의 로컬 오류로부터 복구 | Microsoft Azure"
   description="Azure 내에서 로컬 오류에 중점을 둔 재해 복구에 대한 계획 뿐만 아니라 복원력 있고 항상 사용 가능한 내결함성 응용 프로그램을 이해하고 설계하는 방법에 대한 문서입니다."
   services=""
   documentationCenter="na"
   authors="adamglick"
   manager="hongfeig"
   editor=""/>

<tags
   ms.service="resiliency"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="05/13/2016"
   ms.author="patw;jroth;aglick"/>

#Azure 복원력 기술 지침 - Azure의 로컬 오류로부터 복구

드라이브 및 서버와 같은 장치 오류 및 최대 부하 조건에서 계산과 같은 중요한 리소스 소모 등 응용 프로그램 가용성에 대한 두 가지 주요 위협 요인이 있습니다. Azure는 리소스 관리, 유연성, 부하 분산 및 분할을 조합하여 이러한 상황에서 가용성을 높입니다. 이러한 기능 중 일부는 클라우드 서비스 모두에 자동으로 수행됩니다. 그러나 일부 경우에 응용 프로그램 개발자는 이를 활용하기 위해 몇 가지 추가 작업을 수행해야 합니다.

##클라우드 서비스
Azure에서 호스팅되는 모든 클라우드 서비스는 하나 이상의 웹 또는 작업자 역할의 컬렉션입니다. 하나 이상인 지정된 역할의 인스턴스를 동시에 실행할 수 있습니다. 인스턴스 수는 구성에 의해 결정됩니다. 역할 인스턴스는 FC(패브릭 컨트롤러)라는 구성 요소를 사용하여 모니터링되고 관리됩니다. FC는 자동으로 소프트웨어와 하드웨어 오류를 감지하고 대응합니다.

  * 모든 역할 인스턴스는 고유한 VM(가상 컴퓨터)에서 실행되고 GA(게스트 에이전트)를 통해 FC와 통신합니다. GA는 VM 사용, 상태, 로그, 리소스 사용, 예외 및 오류 상태를 포함하는 리소스 및 노드 메트릭을 수집합니다. FC는 구성 가능한 간격으로 GA를 쿼리하고 GA가 대응하지 못한 경우 VM을 재부팅합니다.
  * 하드웨어 오류가 발생한 경우 연결된 FC는 영향을 받은 모든 역할 인스턴스를 새 하드웨어 노드로 이동하고 거기서 트래픽을 라우팅하도록 네트워크를 다시 구성합니다.

이러한 기능을 제대로 활용하려면 개발자는 모든 서비스 역할이 역할 인스턴스에 상태를 저장하지 않도록 해야 합니다. 대신, 모든 영구 데이터는 Azure 저장소 서비스 또는 Azure SQL 데이터베이스와 같은 지속성 저장소에서 액세스되어야 합니다. 따라서 요청을 모든 역할에서 처리할 수 있습니다. 즉, 역할 인스턴스가 서비스의 임시 상태나 영구 상태에서 불일치를 만들지 않고 언제든지 중단될 수 있습니다.

역할 외부에 상태를 저장하라는 요구 사항은 여러 가지를 의미합니다. 예를 들어 가능한 경우 단일 엔터티 그룹 트랜잭션에서 Azure 저장소 테이블에 대한 모든 관련된 변경 사항을 변경해야 합니다. 물론 단일 트랜잭션에서 모든 사항을 변경할 수 있는 것은 아닙니다. 서비스의 영구 상태에 대한 두 개 이상의 업데이트에 걸쳐 있는 장기 실행 작업을 중단시킬 경우 역할 인스턴스 오류가 문제를 발생시키지 않도록 특별히 주의해야 합니다. 다른 역할이 이러한 작업을 다시 시도하려면 작업이 부분적으로 완료된 경우 이를 처리해야 합니다.

예를 들어 여러 저장소에 데이터를 분할하는 서비스에서 분할된 데이터베이스를 재배치하는 동안 작업자 역할이 중단되면 분할된 데이터베이스의 재배치는 완료되지 않거나 다른 작업자 역할에서 처음부터 반복될 수 있습니다. 이는 잠재적으로 분리된 데이터나 데이터 손상을 발생시킵니다. 문제를 방지하려면 장기 실행 작업은 idempotent(즉, 부작용 없이 반복 가능함)이고/이거나 증분 방식으로 다시 시작 가능(즉, 가장 최근의 오류 지점에서 계속할 수 있음)해야 합니다.

  * Idempotent이려면 장기 실행 작업은 실행하는 동안 중단되는 경우더라도 실행되는 횟수에 관계 없이 동일한 효과를 가져야 합니다.
  * 증분 방식으로 다시 시작하려면 장기 실행 작업은 보다 작은 원자성 작업의 시퀀스로 구성되어야 합니다. 그리고 중지된 이전 작업에서 각 후속 호출을 선택할 수 있도록 내구성 저장소의 진행 상태를 기록해야 합니다.

마지막으로 모든 장기 실행 작업은 성공할 때까지 반복적으로 호출되어야 합니다. 예를 들어 프로비전 작업은 Azure 큐에 배치되고 성공한 경우에 작업자 역할에 의해 큐에서 제거될 수 있습니다. 가비지 수집은 중단된 작업에서 만든 데이터를 정리해야 합니다.

###탄력성
각 역할에 실행되는 인스턴스의 초기 수는 각 역할의 구성에서 결정됩니다. 관리자는 예상된 부하에 따라 두 개 이상의 인스턴스를 사용하여 실행할 역할 각각을 처음에 구성해야 합니다. 그러나 역할 인스턴스를사용량 패턴 변경으로 쉽게 확장하거나 축소할 수 있습니다. Azure 포털에서 수동으로 수행할 수 있고 Windows PowerShell, 서비스 관리 API 또는 타사 도구를 사용하여 자동화할 수 있습니다. 자세한 내용은 [클라우드 서비스를 자동 조정하는 방법](../cloud-services/cloud-services-how-to-scale.md)을 참조하세요.

###분할
Azure의 패브릭 컨트롤러는 업데이트 도메인과 장애 도메인이라는 두 가지 유형의 파티션을 사용합니다.

  * 그룹에서 서비스의 역할 인스턴스를 업그레이드하는 데 업데이트 도메인을 사용합니다. Azure는 여러 개의 업데이트 도메인에 서비스 인스턴스를 배포합니다. 전체 업데이트의 경우 FC는 하나의 업데이트 도메인에 있는 모든 인스턴스를 가져와서 업데이트한 후에 다음 업데이트 도메인으로 이동하기 전에 다시 시작합니다. 이 방법은 업데이트 과정에서 전체 서비스를 사용할 수 있도록 합니다.
  * 장애 도메인은 하드웨어 또는 네트워크 오류의 잠재적인 지점을 정의합니다. 둘 이상의 인스턴스가 있는 역할의 경우 FC는 분리된 하드웨어 오류로 인해 서비스를 중단하지 않도록 하기 위해 인스턴스가 여러 장애 도메인에 걸쳐 분산되도록 합니다. Azure의 서버와 클러스터 오류에 대한 노출은 모두 장애 도메인에 의해 제어됩니다.

둘 이상의 웹 역할 인스턴스를 여러 장애 도메인 및 업그레이드 도메인에 배포하는 경우 Microsoft는 [Azure SLA](https://azure.microsoft.com/support/legal/sla/)별로 적어도 99.95% 이상 외부와 연결되어 있습니다. 업데이트 도메인과 달리 장애 도메인의 수를 제어할 방법이 없습니다. Azure는 자동으로 장애 도메인을 할당하고 이들 간에 역할 인스턴스를 배포합니다. 적어도 두 개의 인스턴스로 역할이 SLA를 충족하도록 하기 위해 적어도 모든 역할에서 처음 두 개의 인스턴스를 다른 장애 도메인 및 업그레이드 도메인에 배치합니다. 이 내용은 다음 다이어그램에서 나타납니다.

![장애 도메인 격리(단순화된 보기)](./media/resiliency-technical-guidance-recovery-local-failures/partitioning-1.png "장애 도메인 격리 - 단순화된 보기")

###부하 분산
웹 역할에 대한 인바운드 트래픽은 모두 상태 비저장 부하 분산 장치를 통해 전달되며 역할 인스턴스에 클라이언트 요청을 분산합니다. 개별 역할 인스턴스에는 공용 IP 주소가 없으며 인터넷에서 직접 주소를 지정할 수 없습니다. 웹 역할은 상태 비저장이므로 클라이언트 요청을 어떠한 역할 인스턴스로도 라우팅할 수 있습니다. [StatusCheck](https://msdn.microsoft.com/library/microsoft.windowsazure.serviceruntime.roleenvironment.statuscheck.aspx) 이벤트는 15초마다 발생합니다. 역할이 트래픽을 받을 준비가 되거나 사용 중이어서 부하 분산 장치 순환에서 제거되어야 함을 나타내는 데 사용할 수 있습니다.

##가상 컴퓨터
Azure 가상 컴퓨터는 고가용성과 관련된 몇 가지 측면에서 PaaS 계산 역할이 다릅니다. 일부 인스턴스에서 고가용성을 보장하기 위해 추가적인 작업을 수행해야 합니다.

###디스크 내구성
PaaS 역할 인스턴스와 달리 가상 컴퓨터가 재배치되는 경우 가상 컴퓨터 드라이브에 저장된 데이터는 영구적입니다. Azure 가상 컴퓨터는 Azure 저장소에서 Blob으로 존재하는 VM 디스크를 사용합니다. 또한 Azure 저장소의 가용성 특성 때문에 가상 컴퓨터의 드라이브에 저장된 데이터를 항상 사용 가능합니다. D: 드라이브는 이 규칙의 예외입니다. D: 드라이브는 VM을 호스팅하는 랙 서버에 실제 물리적 저장소이며 VM을 재활용하는 경우 해당 데이터가 손실됩니다. D: 드라이브는 임시 저장소로만 사용됩니다.

###분할
Azure는 PaaS 응용 프로그램(웹 역할 및 작업자 역할)의 계층을 기본적으로 이해하므로 장애 도메인 및 업데이트 도메인에 걸쳐 제대로 배포될 수 있습니다. 반면에 IaaS 응용 프로그램의 계층은 가용성 집합을 사용하여 수동으로 정의되어야 합니다. 가용성 집합은 IaaS에서 SLA에 필요합니다.

![Microsoft Azure 가상 컴퓨터에 대한 가용성 집합](./media/resiliency-technical-guidance-recovery-local-failures/partitioning-2.png "Microsoft Azure 가상 컴퓨터에 대한 가용성 집합")

위의 다이어그램에서 웹앱 계층으로 작동하는 IIS(인터넷 정보 서버) 계층 및 데이터 계층으로 작동하는 SQL 계층은 서로 다른 가용성 집합에 할당됩니다. 이렇게 하면 각 계층의 모든 인스턴스가 장애 도메인에 분산되어 하드웨어 중복성을 가질 수 있고 업데이트하는 동안 작동이 중단되지 않습니다.

###부하 분산
VM에 트래픽을 분산해야 하는 경우 클라우드 서비스에서 VM을 그룹화하고 특정 TCP 또는 UDP 끝점에서 부하를 분산해야 합니다. 자세한 내용은 [가상 컴퓨터 부하 분산](../virtual-machines/virtual-machines-linux-load-balance.md)(영문)을 참조하십시오. VM이 다른 원본(예: 큐 메커니즘)에서 입력을 수신하는 경우 부하 분산 장치가 필요하지 않습니다. 부하 분산 장치는 기본적인 상태 검사를 사용하여 트래픽이 노드로 전송되어야 하는지를 결정합니다. 또한 고유한 프로브를 만들어 VM 트래픽을 수신해야 하는지를 결정하는 응용 프로그램 관련 상태 메트릭을 구현할 수 있습니다.

##저장소
Azure 저장소는 Blob, 테이블, 큐 및 VM 디스크 저장소를 제공하는 Azure에 대한 내구성 있는 기초 데이터 서비스입니다. 복제 및 리소스 관리의 조합을 사용하여 단일 데이터 센터 내에서 고가용성을 제공합니다. Azure 저장소 가용성 SLA는 데이터를 추가, 업데이트, 읽기 및 삭제하도록 올바르게 형식을 지정한 요청이 성공적이고 정확하게 처리되었으며 저장소 계정이 인터넷 게이트웨이에 연결되었음을 99.9% 이상 보장합니다.

###복제
지역 내에서 완전히 독립된 물리적 저장소 하위 시스템에 위치한 여러 드라이브에 모든 데이터의 여러 복사본을 유지 관리하여 Azure 저장소에 대한 데이터 내구성을 촉진합니다. 데이터를 동기적으로 복제하고 쓰기를 승인하기 전에 모든 복사본을 커밋합니다. Azure 저장소는 강력한 일관성을 유지하여 읽기가 가장 최근의 쓰기를 반영하도록 합니다. 또한 데이터의 복사본을 지속적으로 스캔하여 저장된 데이터의 무결성에 위협이 되지만 흔히 간과하는 비트 손상을 탐색하고 복구합니다. 서비스는 Azure 저장소를 사용하여 복제를 활용합니다. 로컬 오류로부터 복구하기 위해 서비스 개발자는 추가 작업이 필요하지 않습니다.

###리소스 관리
2012년 6월 7일 이후에 만들어진 저장소 계정은 최대 200TB까지 가능합니다(이전의 최대 크기는 100TB). 추가 공간이 필요한 경우 응용 프로그램이 여러 저장소 계정을 활용하도록 설계해야 합니다.

###가상 컴퓨터 디스크
가상 컴퓨터의 VM 디스크는 Azure 저장소에서 페이지 Blob으로 저장되고 Blob 저장소와 동일한 내구성 및 확장성 속성을 제공합니다. 이 설계를 통해 VM을 실행하는 서버가 실패하고 다른 서버에서 VM이 다시 시작해야 하더라도 가상 컴퓨터의 디스크에 있는 데이터를 영구적으로 만듭니다.

##데이터베이스

###SQL 데이터베이스
Microsoft Azure SQL 데이터베이스는 DaaS(Database-as-a-Service)를 제공하여 응용 프로그램을 신속하게 프로비전하고 데이터를 삽입하며 관계형 데이터베이스를 쿼리할 수 있습니다. 친숙한 여러 SQL Server 기능을 제공하는 동시에 하드웨어, 구성, 패치 및 복구의 부담을 줄였습니다.

>[AZURE.NOTE]Azure SQL 데이터베이스는 SQL Server와 1대1 기능 패리티를 제공하지 않습니다. 그리고 클라우드 응용 프로그램에 고유하게 맞춘 일련의 요구 사항을 만족하도록 계획되었습니다(유지 관리 비용을 절감하는 탄력적인 확장, DaaS(Database-as-a-Service)). 자세한 정보는 [클라우드 SQL Server 옵션 선택: Azure SQL(PaaS) 데이터베이스 또는 Azure VM(IaaS)의 SQL Server](../sql-database/data-management-azure-sql-database-and-sql-server-iaas.md)를 참조하세요.

####복제
Azure SQL 데이터베이스는 노드 수준 오류에 대한 기본 제공 탄력성을 제공합니다. 데이터베이스에 대한 모든 쓰기는 쿼럼 커밋 기술을 사용하여 두 개 이상의 백그라운드 노드에 자동으로 복제됩니다(주 데이터베이스와 하나 이상의 보조 데이터베이스는 트랜잭션이 성공했다고 간주되어 반환되기 전에 트랜잭션 로그에 활동이 기록되는지 확인해야 함). 노드 오류가 발생할 경우 데이터베이스는 자동으로 보조 복제본 중 하나에 장애 조치합니다. 이로 인해 클라이언트 응용 프로그램에 대한 임시 연결 중단이 발생합니다. 이러한 이유로 Microsoft Azure SQL 데이터베이스 클라이언트는 모두 어떤 형태의 임시 연결 오류 처리를 구현해야 합니다. 자세한 내용은 [SQL Azure로 임시 오류 처리 응용 프로그램 블록 사용](https://msdn.microsoft.com/library/hh680899.aspx)을 참조하세요

####리소스 관리
각 데이터베이스를 만들 경우 최대 크기 제한으로 구성됩니다. 현재 사용할 수 있는 최대 크기는 150GB입니다. 데이터베이스가 최대 크기 제한에 도달하면 추가 INSERT 또는 UPDATE 명령을 거부합니다(데이터 쿼리 및 삭제는 여전히 가능).

데이터베이스 내에서 Microsoft Azure SQL 데이터베이스는 패브릭을 사용하여 리소스를 관리합니다. 그러나 패브릭 컨트롤러 대신 링 토폴로지를 사용하여 오류를 감지합니다. 클러스터에 있는 모든 복제본에는 두 개의 인접 항목이 있으며 중단되었을 경우 감지할 책임이 있습니다. 복제본이 중단되면 인접 항목은 RA(재구성 에이전트)를 트리거하여 다른 컴퓨터에서 다시 만듭니다. 논리 서버가 컴퓨터에서 너무 많은 리소스를 사용하거나 컴퓨터의 물리적 제한을 초과하지 않도록 엔진 제한을 제공합니다.

###탄력성
응용 프로그램이 제한인 150GB 데이터베이스보다 더 많은 데이터베이스가 필요한 경우 규모 확장 방식을 구현해야 합니다. Microsoft Azure SQL 데이터베이스의 규모를 확장하는 작업은 여러 Azure SQL 데이터베이스 간에 데이터를 수동으로 분할하여(분할된 데이터라고도 함) 수행됩니다. 이 규모 확장 방법은 눈금으로 가까운 선형 비용 증가를 달성할 기회를 제공합니다. 데이터베이스는 최대 크기가 아닌 하루에 사용되는 실제 평균 크기에 따라 요금이 청구되기 때문에 필요에 따라 비용이 증가하면서 요청되는 탄력적인 성장이나 용량도 증가할 수 있습니다.

##가상 컴퓨터의 SQL Server
SQL Server를 Azure 가상 컴퓨터(버전 2014 이상)에 설치하여 AlwaysOn 가용성 그룹 또는 데이터베이스 미러링과 같은 SQL Server의 기존 가용성 기능을 이용할 수 있습니다. Azure VM, 저장소 및 네트워킹은 온-프레미스, 가상화되지 않은 IT 인프라에서는 작동 특성이 달라집니다. Azure에서 고가용성/재해 복구(HA/DR) SQL Server 솔루션을 성공적으로 구현하기 위해서는 이러한 차이점을 이해하고 그에 맞게 솔루션을 설계해야 합니다.

###가용성 집합의 고가용성 노드
Azure의 고가용성 솔루션을 구현하는 경우 Azure의 가용성 집합을 사용하면 고가용성 노드를 별도의 장애 도메인과 업그레이드 도메인에 배치할 수 있습니다. 분명히 하자면 가용성 집합은 Azure 개념입니다. AlwaysOn 가용성 그룹, 미러링 또는 다른 기능을 사용하는 것과 상관 없이 데이터베이스가 실제로 항상 사용 가능한지 확인하기 위해 따라야 하는 모범 사례입니다. 이 모범 사례를 준수하지 않는 경우 시스템이 항상 사용 가능하다는 잘못된 가정을 했지만 Azure 데이터 센터에서 동일한 장애 도메인에 배치되었기 때문에 실제로 노드가 모두 동시에 실패할 수 있습니다. 이 권장 사항은 로그 전달처럼 적용될 수 없습니다. 따라서 재해 복구 기능으로 서버가 별도 Azure 데이터 센터 위치(지역)에서 실행되도록 해야 합니다. 기본적으로 이러한 데이터 센터 위치는 별도의 장애 도메인입니다.

같은 가용성 집합에 배치할 Azure VM이라면 같은 클라우드 서비스에 배포해야 합니다. 같은 클라우드 서비스에 있는 노드만 같은 가용성 집합에 참여할 수 있습니다. 또한 VM은 서비스 복구 후에 해당 IP를 유지하는지 확인하기 위해 동일한 VNet에 위치해야 하며 DNS 업데이트 시간을 피할 수 있습니다.

###Azure 전용: 고가용성 솔루션
AlwaysOn 가용성 그룹 또는 데이터베이스 미러링을 사용하여 Azure에서 SQL Server 데이터베이스를 위한 고가용성 솔루션을 구현할 수 있습니다.

다음 다이어그램에서는 Azure 가상 컴퓨터에서 실행되는 AlwaysOn 가용성 그룹의 아키텍처를 보여 줍니다. 이 다이어그램은 [Azure 가상 컴퓨터에서 SQL Server에 대한 고가용성 및 재해 복구](../virtual-machines/virtual-machines-windows-sql-high-availability-dr.md)라는 제목의 자세한 문서에서 가져왔습니다.

![Microsoft Azure의 AlwaysOn 가용성 그룹](./media/resiliency-technical-guidance-recovery-local-failures/high_availability_solutions-1.png "Microsoft Azure의 AlwaysOn 가용성 그룹")

Microsoft Azure 포털에서 AlwaysOn 템플릿을 사용하여 Azure VM에 AlwaysOn 가용성 그룹 배포 종단 간을 자동으로 프로비전할 수 있습니다. 자세한 내용은 [Microsoft Azure 포털 갤러리의 SQL Server AlwaysOn 제품](https://blogs.technet.microsoft.com/dataplatforminsider/2014/08/25/sql-server-alwayson-offering-in-microsoft-azure-portal-gallery/)을 참조하세요.

다음 다이어그램은 Azure 가상 컴퓨터에서 데이터베이스 미러링의 사용법을 보여 줍니다. [Azure 가상 컴퓨터에서 SQL Server에 대한 고가용성 및 재해 복구](../virtual-machines/virtual-machines-windows-sql-high-availability-dr.md) 자세한 항목에서 가져왔습니다.

![Microsoft Azure의 데이터베이스 미러링](./media/resiliency-technical-guidance-recovery-local-failures/high_availability_solutions-2.png "Microsoft Azure의 데이터베이스 미러링")

>[AZURE.NOTE]두 아키텍처 모두에서 도메인 컨트롤러는 필수입니다. 그러나 데이터베이스 미러링으로 서버 인증서를 사용하여 도메인 컨트롤러에 대한 필요성을 제거할 수 있습니다.

##다른 Azure 플랫폼 서비스
로컬 오류로부터 복구하기 위해 앞에서 설명한 플랫폼 기능을 활용하도록 Azure에 Azure 클라우드 서비스를 빌드합니다. 일부 경우에 특정 시나리오에 대한 가용성을 높이기 위해 수행할 수 있는 특정 작업이 있습니다.

###서비스 버스
Azure 서비스 버스의 일시적 중단을 줄이려면 내구성이 있는 클라이언트 쪽 큐를 만드는 것이 좋습니다. 일시적으로 대체 로컬 저장소 메커니즘을 사용하여 서비스 버스 큐에 추가할 수 없는 메시지를 저장합니다. 응용 프로그램은 서비스가 복원된 후에 일시적으로 저장된 메시지를 처리하는 방법을 결정할 수 있습니다. 자세한 내용은 [서비스 버스 조정된 메시징을 사용한 성능 향상의 모범 사례](../service-bus/service-bus-performance-improvements.md)를 참조하세요. 자세한 내용은 [서비스 버스(재해 복구)](./resiliency-technical-guidance-recovery-loss-azure-region.md#service-bus)를 참조하세요.

###모바일 서비스
Azure 모바일 서비스에 대한 두 가지의 가용성 고려 사항이 있습니다. 첫째, 모바일 서비스에 연결된 Azure SQL 데이터베이스를 정기적으로 백업합니다. 또한 모바일 서비스 스크립트를 백업합니다. 자세한 내용은 [재해가 발생한 경우 모바일 서비스 복구](../mobile-services/mobile-services-disaster-recovery.md)를 참조하세요. 모바일 서비스가 임시 중단 상태인 경우 일시적으로 대체 Azure 데이터 센터를 사용해야 합니다. 자세한 내용은 [모바일 서비스 버스(재해 복구)](./resiliency-technical-guidance-recovery-loss-azure-region.md#mobile-services)를 참조하세요.

###HDInsight
HDInsight와 연결된 데이터는 기본적으로 Azure Blob 저장소에 저장되며 Azure 저장소에서 지정된 고가용성 및 내구성 속성을 갖습니다. Hadoop MapReduce 작업과 관련된 다중 노드 처리는 HDInsight에서 필요할 때 프로비전되는 임시 HDFS(Hadoop 분산 파일 시스템)에서 수행됩니다. 또한 MapReduce 작업의 결과가 기본적으로 Azure Blob 저장소에 저장되므로 처리된 데이터는 Hadoop 클러스터의 프로비전을 해제한 후에 내구성 있고 항상 사용 가능한 상태로 유지합니다. 자세한 내용은 [HDInsight(재해 복구)](./resiliency-technical-guidance-recovery-loss-azure-region.md#hdinsight)를 참조하세요.

##검사 목록: 로컬 오류
 
##클라우드 서비스 검사 목록
  1. 이 문서의 [클라우드 서비스](#cloud-services) 섹션 검토
  2. 각 역할에 두 개 이상의 인스턴스 구성
  3. 역할 인스턴스가 아니라 내구성 저장소에서 상태 유지
  4. StatusCheck 이벤트를 올바르게 처리
  5. 가능한 경우 트랜잭션에서 관련된 변경 내용 래핑
  6. 작업자 역할 작업이 idempotent 또는 다시 시작 가능한지 확인
  7. 작업 호출이 성공할 때까지 계속
  8. 자동 크기 조정 전략 고려

##가상 컴퓨터 검사 목록
  1. 이 문서의 [가상 컴퓨터](#virtual-machines) 섹션 검토
  2. 영구 저장소에는 D: 드라이브를 사용하지 않습니다
  3. 가용성 집합에 서비스 계층의 컴퓨터 그룹화
  4. 부하 분산 및 선택적 프로브 구성
 
##저장소 검사 목록
  1. 이 문서의 [저장소](#storage) 섹션 검토
  2. 데이터 또는 대역폭이 할당량을 초과하는 경우 여러 저장소 계정 사용

##SQL 데이터베이스 검사 목록
  1. 이 문서의 [SQL 데이터베이스](#sql-database) 섹션 검토
  2. 재시도 정책을 구현하여 임시 오류 처리
  3. 분할을 규모 확장 전략으로 사용
  
##가상 컴퓨터 검사 목록의 SQL Server
  1. 이 문서의 [가상 컴퓨터에서 SQL Server](#sql-server-on-virtual-machines) 섹션 검토
  2. 가상 컴퓨터에 대한 이전의 권장 사항 수행
  3. AlwaysOn과 같은 SQL Server 고가용성 기능 사용
  
##서비스 버스 검사 목록
  1. 이 문서의 [서비스 버스](#service-bus) 섹션 검토
  2. 백업으로 내구성이 있는 클라이언트 쪽 큐를 만드는 것이 좋습니다

##HDInsight 검사 목록:
  1. 이 문서의 [HDInsight](#hdinsight) 섹션 검토
  2. 로컬 오류에 필요한 추가 가용성 단계가 없습니다
 
##다음 단계
이 문서는 [Azure 복구 기술 지침](./resiliency-technical-guidance.md)에 대한 시리즈의 일부입니다. 이 시리즈의 다음 문서에서는 [지역 전체의 서비스 중단으로부터 복구](./resiliency-technical-guidance-recovery-loss-azure-region.md)에 대해 자세히 알아 봅니다.

<!---HONumber=AcomDC_0525_2016-->