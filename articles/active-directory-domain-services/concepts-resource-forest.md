---
title: Azure AD 도메인 서비스에 대한 리소스 포리스트 개념 | 마이크로 소프트 문서
description: Azure Active Directory 도메인 서비스에 있는 리소스 포리스트와 제한된 사용자 인증 옵션 또는 보안 문제로 하이브리드 환경에서 리소스 포리스트가 조직에 어떤 이점을 제공하는지 알아봅니다.
services: active-directory-ds
author: iainfoulds
manager: daveba
ms.service: active-directory
ms.subservice: domain-services
ms.workload: identity
ms.topic: conceptual
ms.date: 03/30/2020
ms.author: iainfou
ms.openlocfilehash: e0e5dde246dbcd5e5cb2e4ae923872a59a539d87
ms.sourcegitcommit: efefce53f1b75e5d90e27d3fd3719e146983a780
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/01/2020
ms.locfileid: "80476410"
---
# <a name="resource-forest-concepts-and-features-for-azure-active-directory-domain-services"></a>Azure Active 디렉터리 도메인 서비스에 대한 리소스 포리스트 개념 및 기능

Azure Active Directory 도메인 서비스(AD DS)는 레거시, 온-프레미스, 업무 용 응용 프로그램에 대한 로그인 환경을 제공합니다. 온-프레미스 및 클라우드 사용자의 사용자, 그룹 및 암호 해시는 Azure AD DS 관리 도메인에 동기화됩니다. 이러한 동기화된 암호 해시는 사용자에게 온-프레미스 AD DS, Office 365 및 Azure Active Directory에 사용할 수 있는 단일 자격 증명 집합을 제공합니다.

보안 및 추가 보안 혜택을 제공하지만 일부 조직에서는 해당 사용자 암호 해시를 Azure AD 또는 Azure AD DS에 동기화할 수 없습니다. 조직의 사용자는 스마트 카드 인증만 사용하기 때문에 암호를 알지 못할 수 있습니다. 이러한 제한으로 인해 일부 조직에서Azure AD DS를 사용하여 온-프레미스 클래식 응용 프로그램을 Azure로 들어 올리고 이동하지 못하게 됩니다.

이러한 요구 사항 과 제한 사항을 해결하려면 리소스 포리스트를 사용하는 Azure AD DS 관리 도메인을 만들 수 있습니다. 이 개념 문서에서는 포리스트가 무엇인지, 그리고 보안 인증 방법을 제공하기 위해 다른 리소스를 신뢰하는 방법을 설명합니다. Azure AD DS 리소스 포리스트는 현재 미리 보기 상태입니다.

> [!IMPORTANT]
> Azure AD DS 리소스 포리스트는 현재 Azure HDInsight 또는 Azure 파일을 지원하지 않습니다. 기본 Azure AD DS 사용자 포리스트는 이러한 추가 서비스를 모두 지원합니다.

## <a name="what-are-forests"></a>숲이란?

*포리스트는* 하나 이상의 도메인을 그룹화하는 데 AD DS(Active Directory 도메인 서비스)에서 사용하는 논리적 *구문입니다.* 그런 다음 도메인은 사용자 또는 그룹에 대한 개체를 저장하고 인증 서비스를 제공합니다.

Azure AD DS에서 포리스트에는 하나의 도메인만 포함됩니다. 온-프레미스 AD DS 포리스트에는 종종 많은 도메인이 포함됩니다. 대규모 조직에서는 특히 인수 합병 후 각각 여러 도메인을 포함하는 여러 온-프레미스 포리스트가 생길 수 있습니다.

기본적으로 Azure AD DS 관리 도메인은 *사용자* 포리스트로 만들어집니다. 이 유형의 포리스트는 온-프레미스 AD DS 환경에서 만든 모든 사용자 계정을 포함하여 Azure AD의 모든 개체를 동기화합니다. 사용자 계정은 도메인 에 가입한 VM에 로그인하는 등 Azure AD DS 관리 도메인에 대해 직접 인증할 수 있습니다. 사용자 포리스트는 암호 해시를 동기화할 수 있고 사용자가 스마트 카드 인증과 같은 단독 로그인 방법을 사용하지 않는 경우에 작동합니다.

Azure AD DS *리소스* 포리스트에서 사용자는 온-프레미스 AD DS에서 단방향 포리스트 *트러스트를* 통해 인증합니다. 이 방법을 사용하면 사용자 개체 및 암호 해시가 Azure AD DS에 동기화되지 않습니다. 사용자 개체 및 자격 증명은 온-프레미스 AD DS에만 존재합니다. 이 방법을 사용하면 기업은 LDAPS, Kerberos 또는 NTLM과 같은 클래식 인증에 의존하는 Azure에서 리소스 및 응용 프로그램 플랫폼을 호스팅할 수 있지만 인증 문제 나 문제는 제거됩니다. Azure AD DS 리소스 포리스트는 현재 미리 보기 상태입니다.

또한 리소스 포리스트는 응용 프로그램을 한 번에 하나의 구성 요소로 들어 올리고 이동하는 기능을 제공합니다. 많은 레거시 온-프레미스 응용 프로그램은 웹 서버 또는 프런트 엔드와 많은 데이터베이스 관련 구성 요소를 사용하는 다중 계층화되어 있습니다. 이러한 계층을 통해 전체 애플리케이션을 한 단계로 클라우드로 리프트 앤 시프트하기가 어렵습니다. 리소스 포리스트를 사용하면 단계별 접근 방식으로 응용 프로그램을 클라우드로 들어 올릴 수 있으므로 응용 프로그램을 Azure로 쉽게 이동할 수 있습니다.

## <a name="what-are-trusts"></a>트러스트란 무엇입니까?

도메인이 두 개 이상인 조직에서는 사용자가 다른 도메인의 공유 리소스에 액세스해야 하는 경우가 많습니다. 이러한 공유 리소스에 액세스하려면 한 도메인의 사용자가 다른 도메인에 인증해야 합니다. 클라이언트와 서로 다른 도메인의 서버 간에 이러한 인증 및 권한 부여 기능을 제공하려면 두 도메인 간에 *트러스트가* 있어야 합니다.

도메인 트러스트를 사용하면 각 도메인에 대한 인증 메커니즘이 다른 도메인에서 오는 인증을 신뢰합니다. 트러스트는 들어오는 인증 요청이 신뢰할 수 있는 *기관(신뢰할 수 있는* 도메인)에서 오는지 확인하여 리소스 도메인(트러스트 도메인)의 공유 리소스에 대한 제어된 액세스를 제공하는 데 도움이 됩니다. *trusting* 트러스트는 검증된 인증 요청만 도메인 간에 이동할 수 있도록 하는 브리지 역할을 합니다.

트러스트가 인증 요청을 전달하는 방법은 인증 요청을 구성하는 방법에 따라 다릅니다. 트러스트는 다음 방법 중 하나로 구성할 수 있습니다.

* **단방향** - 신뢰할 수 있는 도메인에서 트러스트 도메인의 리소스에 대한 액세스를 제공합니다.
* **양방향** - 각 도메인에서 다른 도메인의 리소스에 대한 액세스를 제공합니다.

트러스트는 다음 방법 중 하나로 추가 트러스트 관계를 처리하도록 구성됩니다.

* **비전이적** - 트러스트는 두 트러스트 파트너 도메인 사이에만 존재합니다.
* **전속성** - 신뢰는 파트너 중 하나가 신뢰하는 다른 도메인으로 자동으로 확장됩니다.

경우에 따라 도메인을 만들 때 트러스트 관계가 자동으로 설정됩니다. 다른 경우 트러스트 유형을 선택하고 적절한 관계를 명시적으로 설정해야 합니다. 사용되는 특정 트러스트 유형과 이러한 트러스트 관계의 구조는 Active Directory 디렉터리 서비스가 구성되는 방식과 서로 다른 버전의 Windows가 네트워크에 공존하는지 여부에 따라 달라집니다.

## <a name="trusts-between-two-forests"></a>두 포리스트 간의 트러스트

단방향 또는 양방향 포리스트 트러스트를 수동으로 만들어 단일 포리스트 내의 도메인 트러스트를 다른 포리스트로 확장할 수 있습니다. 포리스트 트러스트는 포리스트 루트 도메인과 두 번째 포리스트 루트 도메인 사이에만 존재하는 전이적 트러스트입니다.

* 단방향 포리스트 트러스트를 사용하면 한 포리스트의 모든 사용자가 다른 포리스트의 모든 도메인을 신뢰할 수 있습니다.
* 양방향 포리스트 트러스트는 두 포리스트의 모든 도메인 간에 전이 트러스트 관계를 형성합니다.

포리스트 트러스트의 전송성은 두 포리스트 파트너로 제한됩니다. 포리스트 트러스트는 파트너 중 한 쪽에서 신뢰하는 추가 포리스트로 확장되지 않습니다.

![Azure AD DS에서 온-프레미스 AD DS에 대한 포리스트 트러스트 다이어그램](./media/concepts-resource-forest/resource-forest-trust-relationship.png)

조직의 Active Directory 구조에 따라 다른 도메인 및 포리스트 트러스트 구성을 만들 수 있습니다. Azure AD DS는 단방향 포리스트 트러스트만 지원합니다. 이 구성에서 Azure AD DS의 리소스는 온-프레미스 포리스트의 모든 도메인을 신뢰할 수 있습니다.

## <a name="supporting-technology-for-trusts"></a>트러스트를 위한 기술 지원

트러스트는 DNS와 같은 다양한 서비스와 기능을 사용하여 파트너 포리스트에서 도메인 컨트롤러를 찾습니다. 또한 트러스트는 NTLM 및 Kerberos 인증 프로토콜과 Windows 기반 권한 부여 및 액세스 제어 메커니즘에 의존하여 Active Directory 도메인 및 포리스트 전반에 걸쳐 보안된 통신 인프라를 제공합니다. 다음 서비스 및 기능은 성공적인 신뢰 관계를 지원하는 데 도움이 됩니다.

### <a name="dns"></a>DNS

AD DS는 DC(도메인 컨트롤러) 위치 및 명명에 DNS가 필요합니다. AD DS가 성공적으로 작동하려면 DNS의 다음 지원이 제공됩니다.

* 네트워크 호스트와 서비스가 DC를 찾을 수 있도록 하는 이름 확인 서비스입니다.
* 기업이 디렉터리 서비스 도메인의 이름에 조직 구조를 반영할 수 있도록 하는 명명 구조입니다.

DNS 도메인 네임스페이스는 일반적으로 AD DS 도메인 네임스페이스를 미러하는 배포됩니다. AD DS 배포 전에 기존 DNS 네임스페이스가 있는 경우 DNS 네임스페이스는 일반적으로 Active Directory에 대해 분할되고 Active Directory 포리스트 루트에 대한 DNS 하위 도메인 및 위임이 만들어집니다. 그런 다음 각 Active Directory 자식 도메인에 대해 추가 DNS 도메인 이름이 추가됩니다.

DNS는 Active Directory DC의 위치를 지원하는 데도 사용됩니다. DNS 영역은 네트워크 호스트와 서비스가 Active Directory DC를 찾을 수 있도록 하는 DNS 리소스 레코드로 채워집니다.

### <a name="applications-and-net-logon"></a>응용 프로그램 및 순 로그온

응용 프로그램과 넷 로그온 서비스는 모두 Windows 분산 보안 채널 모델의 구성 요소입니다. Windows Server 및 Active Directory와 통합된 응용 프로그램은 인증 프로토콜을 사용하여 Net Logon 서비스와 통신하여 인증이 발생할 수 있는 보안 경로를 설정합니다.

### <a name="authentication-protocols"></a>인증 프로토콜

Active Directory DC는 다음 프로토콜 중 하나를 사용하여 사용자와 응용 프로그램을 인증합니다.

* **케르베로스 버전 5 인증 프로토콜**
    * Kerberos 버전 5 프로토콜은 Windows를 실행하고 타사 운영 체제를 지원하는 온-프레미스 컴퓨터에서 사용하는 기본 인증 프로토콜입니다. 이 프로토콜은 RFC 1510에 지정되어 있으며 이러한 프로토콜을 사용하는 클라이언트 및 서버 응용 프로그램뿐만 아니라 Active Directory, SMB(서버 메시지 블록), HTTP 및 원격 프로시저 호출(RPC)과 완전히 통합됩니다.
    * Kerberos 프로토콜을 사용하면 서버가 DC에 연락할 필요가 없습니다. 대신 클라이언트는 서버 계정 도메인의 DC에서 요청을 하여 서버에 대한 티켓을 받습니다. 그런 다음 서버는 다른 기관과 상의하지 않고 티켓의 유효성을 검사합니다.
    * 트랜잭션에 관련된 컴퓨터가 Kerberos 버전 5 프로토콜을 지원하지 않는 경우 NTLM 프로토콜이 사용됩니다.

* **NTLM 인증 프로토콜**
    * NTLM 프로토콜은 이전 운영 체제에서 사용하는 고전적인 네트워크 인증 프로토콜입니다. 호환성을 위해 Active Directory 도메인에서 이전 Windows 기반 클라이언트 및 서버 및 타사 운영 체제용으로 설계된 응용 프로그램에서 오는 네트워크 인증 요청을 처리하는 데 사용됩니다.
    * 클라이언트와 서버 간에 NTLM 프로토콜을 사용하는 경우 서버는 DC의 도메인 인증 서비스에 문의하여 클라이언트 자격 증명을 확인해야 합니다. 서버는 클라이언트 계정 도메인의 DC에 클라이언트 자격 증명을 전달하여 클라이언트를 인증합니다.
    * 두 Active Directory 도메인 또는 포리스트가 트러스트에 의해 연결되면 이러한 프로토콜을 사용하여 이루어진 인증 요청을 라우팅하여 두 포리스트의 리소스에 대한 액세스를 제공할 수 있습니다.

## <a name="authorization-and-access-control"></a>권한 부여 및 액세스 제어

권한 부여 및 신뢰 기술은 함께 작동하여 Active Directory 도메인 또는 포리스트에 걸쳐 보안된 통신 인프라를 제공합니다. 권한 부여는 사용자가 도메인의 리소스에 대해 어떤 액세스 권한을 가지고 있는지를 결정합니다. 트러스트는 다른 도메인의 사용자를 인증하기 위한 경로를 제공하여 해당 도메인의 공유 리소스에 대한 요청을 승인할 수 있도록 하여 사용자의 도메인 간 권한 부여를 용이하게 합니다.

신뢰할 수 있는 도메인에서 인증 요청의 유효성을 검사하면 대상 리소스에 전달됩니다. 그런 다음 대상 리소스는 액세스 제어 구성에 따라 신뢰할 수 있는 도메인의 사용자, 서비스 또는 컴퓨터에서 만든 특정 요청을 승인할지 여부를 결정합니다.

트러스트는 트러스트 도메인에 전달되는 인증 요청의 유효성을 검사하는 이 메커니즘을 제공합니다. 리소스 컴퓨터의 액세스 제어 메커니즘에 따라 신뢰할 수 있는 도메인의 요청자가 부여한 최종 액세스 수준이 결정됩니다.

## <a name="next-steps"></a>다음 단계

트러스트에 대한 자세한 내용은 [Azure AD DS에서 포리스트 트러스트가 어떻게 작동합니까][concepts-trust] 를 참조하세요.

리소스 포리스트를 사용하여 Azure AD DS 관리 도메인 만들기를 시작하려면 [Azure AD DS 관리 도메인 만들기 및 구성을][tutorial-create-advanced]참조하십시오. 그런 다음 [온-프레미스 도메인(미리 보기)에 아웃바운드 포리스트 트러스트를 만들][create-forest-trust]수 있습니다.

<!-- LINKS - INTERNAL -->
[concepts-trust]: concepts-forest-trust.md
[tutorial-create-advanced]: tutorial-create-instance-advanced.md
[create-forest-trust]: tutorial-create-forest-trust.md
