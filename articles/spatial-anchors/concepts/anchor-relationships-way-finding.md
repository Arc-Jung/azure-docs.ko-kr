---
title: 관계 및 방법 찾기 를 고정
description: 앵커 관계의 개념적 모델에 대해 알아봅니다. 공간 내에서 앵커를 연결하고 주변 API를 사용하여 길 찾기 시나리오를 수행하는 방법을 알아봅니다.
author: ramonarguelles
manager: vriveras
services: azure-spatial-anchors
ms.author: rgarcia
ms.date: 02/24/2019
ms.topic: conceptual
ms.service: azure-spatial-anchors
ms.openlocfilehash: f2fd8f4b7d03be8822c3ec12e2be589054942ce3
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/27/2020
ms.locfileid: "74270611"
---
# <a name="anchor-relationships-and-way-finding-in-azure-spatial-anchors"></a>Azure 공간 앵커에서 관계 및 길 찾기 를 고정합니다.

앵커 관계를 사용하면 공간에서 연결된 앵커를 만든 다음 다음과 같은 질문을 할 수 있습니다.

* 근처에 앵커가 있습니까?
* 그들은 얼마나 멀리 떨어져 있습니까?

## <a name="examples"></a>예

다음과 같은 경우에 연결된 앵커를 사용할 수 있습니다.

* 작업자는 산업 공장의 다양한 위치를 방문하는 작업을 완료해야 합니다. 공장에는 각 위치에 공간 앵커가 있습니다. HoloLens 또는 모바일 앱은 작업자를 한 위치에서 다음 위치로 안내하는 데 도움이 됩니다. 앱은 먼저 근처의 공간 앵커를 요청한 다음 작업자를 다음 위치로 안내합니다. 앱은 다음 위치까지의 일반적인 방향과 거리를 시각적으로 보여줍니다.

* 박물관은 공공 전시에서 공간 앵커를 만듭니다. 이 앵커들은 함께 박물관의 필수 공공 전시물 1시간 투어를 구성합니다. 공공 디스플레이에서 방문자는 모바일 장치에서 박물관의 혼합 현실 앱을 열 수 있습니다. 그런 다음 휴대폰 카메라를 공간 주변으로 가리키며 투어의 다른 일반 디스플레이에 대한 일반적인 방향과 거리를 확인합니다. 사용자가 공용 디스플레이쪽으로 이동하면 앱이 일반 방향과 거리를 업데이트하여 사용자를 안내합니다.

## <a name="set-up-way-finding"></a>길 찾기 설정

가시선 방향과 앵커 사이의 거리를 사용하여 지침을 제공하는 앱은 *길 찾기를*사용합니다. 길 찾기는 턴 바이 턴 네비게이션과 다릅니다. 턴바이턴 내비게이션에서 사용자는 벽 주위를, 문을 통해, 그리고 바닥 사이를 안내받습니다. 길 찾기를 통해 사용자는 대상의 일반적인 방향에 대한 힌트를 얻습니다. 그러나 공간의 추론이나 지식은 또한 사용자가 구조를 통해 대상으로 이동하는 데 도움이됩니다.

방법 찾기 환경을 구축하려면 먼저 환경을 위한 공간을 준비하고 사용자가 상호 작용할 앱을 개발합니다. 다음은 개념단계입니다.

1. **공간 계획**: 공간 내의 위치가 길 찾기 경험의 일부가 될 지 결정합니다. 시나리오에서는 공장 관리자 또는 박물관 투어 코디네이터가 길 찾기 경험에 포함할 위치를 결정할 수 있습니다.
2. **앵커 연결**: 선택한 위치를 방문하여 공간 앵커를 만듭니다. 최종 사용자 앱의 관리자 모드 또는 완전히 다른 앱에서 이 작업을 수행할 수 있습니다. 각 앵커를 다른 앵커에 연결하거나 연결합니다. 서비스는 이러한 관계를 유지 관리합니다.
3. **최종 사용자 환경 시작**: 사용자가 앱을 실행하여 선택한 위치에 있을 수 있는 앵커를 찾습니다. 전체 설계에서 사용자가 환경을 입력할 수 있는 위치를 결정해야 합니다.
4. **근처 앵커 찾기**: 사용자가 앵커를 찾은 후 앱에서 근처의 앵커를 요청할 수 있습니다. 이 절차는 장치와 이러한 앵커 사이의 포즈를 반환합니다.
5. **안내 :** 응용 프로그램은 사용자의 일반적인 방향과 거리에 대한 지침을 제공하기 위해 이러한 앵커의 각각에 포즈를 사용할 수 있습니다. 예를 들어 앱의 카메라 피드에는 다음 이미지와 같이 각 잠재적 대상을 나타내는 아이콘과 화살표가 표시될 수 있습니다.
6. **안내 구체화**: 사용자가 걸으면서 앱은 장치와 대상 앵커 사이의 새 포즈를 주기적으로 계산할 수 있습니다. 앱은 사용자가 목적지에 도착하는 데 도움이 되는 지침 힌트를 계속 구체화합니다.

    ![앱이 길 찾기 지침을 표시하는 방법의 예](./media/meeting-spot.png)

## <a name="connect-anchors"></a>앵커 연결

길 찾기 환경을 구축하려면 먼저 선택한 위치에 앵커를 배치해야 합니다. 이 섹션에서는 앱관리자가 이 작업을 이미 완료했다고 가정합니다.

### <a name="connect-anchors-in-a-single-session"></a>단일 세션에서 앵커 연결

앵커를 연결하려면 다음을 수행하십시오.

1. 첫 번째 위치로 걸어가서 CloudSpatial앵커세션을 사용하여 앵커 A를 만듭니다.
2. 두 번째 위치로 걸어가세요. 기본 MR/AR 플랫폼은 움직임을 추적합니다.
3. 동일한 클라우드공간 앵커세션을 사용하여 앵커 B를 만듭니다. 앵커 A와 B가 연결되었습니다. 공간 앵커 서비스는 이 관계를 유지합니다.
4. 나머지 앵커에 대한 절차를 계속합니다.

### <a name="connect-anchors-in-multiple-sessions"></a>여러 세션에서 앵커 연결

여러 세션에 걸쳐 공간 앵커를 연결할 수 있습니다. 이 방법을 사용하면 한 번에 일부 앵커를 만들고 연결한 다음 나중에 더 많은 앵커를 만들고 연결할 수 있습니다.

여러 세션에 앵커를 연결하려면 다음을 수행하십시오.

1. 응용 프로그램은 하나의 클라우드 공간 앵커세션에서 일부 앵커를 만듭니다.
2. 다른 시간에 응용 프로그램은 새 CloudSpatialAnchorSession를 사용하여 이러한 앵커 중 하나(예: 앵커 A)를 찾습니다.
3. 새 위치로 걸어가세요. 기본 혼합 현실 또는 증강 현실 플랫폼은 무브먼트를 추적합니다.
4. 동일한 클라우드공간 앵커세션을 사용하여 앵커 C를 만듭니다. 앵커 A, B 및 C가 연결되었습니다. 공간 앵커 서비스는 이 관계를 유지합니다.

시간이 지남에 따라 더 많은 앵커와 더 많은 세션에 대해 이 절차를 계속할 수 있습니다.

### <a name="verify-anchor-connections"></a>앵커 연결 확인

앱은 근처 앵커에 대한 쿼리를 실행하여 두 개의 앵커가 연결되어 있는지 확인할 수 있습니다. 쿼리 결과에 대상 앵커가 포함되어 있으면 앵커 연결이 확인됩니다. 앵커가 연결되지 않은 경우 앱에서 앵커를 다시 연결하려고 시도할 수 있습니다.

앵커가 연결되지 않는 몇 가지 이유는 다음과 같습니다.

* 기본 혼합 현실 또는 증강 현실 플랫폼은 앵커를 연결하는 과정에서 추적을 잃었습니다.
* 공간 앵커 서비스와 통신하는 동안 네트워크 오류로 인해 앵커 연결을 지속할 수 없습니다.

### <a name="find-sample-code"></a>샘플 코드 찾기

앵커를 연결하고 가까운 쿼리를 수행하는 방법을 보여 주는 샘플 코드를 찾으려면 [공간 앵커 샘플 앱을](https://github.com/Azure/azure-spatial-anchors-samples)참조하십시오.
