---
title: 3DSMax에서 물리적 기반 렌더링 재질 설정
description: 3DSMax에서 물리적 기반 렌더링 재질을 설정하고 FBX 형식으로 내보내는 방법을 설명합니다.
author: muxanickms
ms.author: misams
ms.date: 06/16/2020
ms.topic: tutorial
ms.openlocfilehash: df4be8963c93199f9fad23ab3f709f691e1da768
ms.sourcegitcommit: 9b5c20fb5e904684dc6dd9059d62429b52cb39bc
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/02/2020
ms.locfileid: "85857615"
---
# <a name="tutorial-set-up-physically-based-rendering-materials-in-3d-studio-max"></a>자습서: 3D Studio Max에서 물리적 기반 렌더링 재질 설정

## <a name="overview"></a>개요
이 자습서에서 학습할 방법은 다음과 같습니다.

>[!div class="checklist"]
>
> * 장면에서 고급 조명 모델을 사용하는 재질을 개체에 할당합니다.
> * 개체 및 재질의 인스턴싱을 처리합니다.
> * 장면을 FBX 형식으로 내보내고 중요한 옵션을 선택합니다.

3DSMax(3D Studio Max)에서 [PBR(물리적 기반 렌더링) 재질](../../overview/features/pbr-materials.md)을 만드는 작업은 비교적 간단합니다. Maya와 같은 다른 콘텐츠 만들기 앱에서 PBR을 설정하는 다양한 방법과 비슷합니다. 이 자습서는 Azure Remote Rendering 프로젝트의 기본 PBR 셰이더 설정 및 FBX 내보내기에 대한 지침입니다.

이 자습서의 샘플 장면에는 여러 다각형 상자 개체가 포함되어 있습니다. 이러한 개체에는 목재, 금속, 도장 금속, 플라스틱 및 고무와 같은 여러 재질이 할당됩니다. 일반적으로 각 재질에는 다음 질감의 전부 또는 대부분이 포함되어 있습니다.

* **Albedo** - 재질 색상표입니다(**Diffuse** 또는 **BaseColor**라고도 함).
* **Metalness(금속성)** - 재질이 금속인지 여부 또는 금속으로 구성된 부분을 결정합니다. 
* **Roughness(황삭)** - 표면의 거칠거나 매끄러운 정도를 결정합니다.
또한 표면의 반사와 밝기의 선명도 또는 불선명도에 영향을 줍니다.
* **Normal(보통)** - 다각형을 더 추가하지 않고도 표면에 대한 세부 정보를 추가합니다. 세부 정보의 예로 금속 표면의 점식(pitting) 및 파임(dent) 또는 목재의 나뭇결이 있습니다.
* **Ambient Occlusion(앰비언트 폐색)** - 모델에 부드러운 음영 및 콘택트 섀도(contact shadow)를 추가하는 데 사용됩니다. 모델에서 전체 조명(흰색) 또는 전체 음영(검은색)을 받는 영역을 나타내는 회색조 맵입니다.

## <a name="prepare-the-scene"></a>장면 준비
**3D Studio Max**에서 PBR 재질을 설정하는 프로세스는 다음과 같습니다.

먼저 샘플 장면에서 볼 수 있듯이 각각 서로 다른 유형의 재질을 나타내는 여러 Box(상자) 개체를 만들었습니다.

>[!TIP]
>**미터** 단위를 측정에 사용하는 ARR용 자산 만들기를 시작하기 전에 주목할 가치가 있습니다.  
>따라서 장면의 **System Units(시스템 단위)** 를 **Meters(미터)** 로 설정하는 것이 좋습니다. 또한 이는 FBX 내보내기 설정에서 Units(단위)를 미터로 설정하기 위해 내보내는 경우에도 좋습니다.

다음 이미지에서는 3D Studio Max에서 System Units(시스템 단위)를 미터 단위로 설정하는 단계를 보여 줍니다. 주 메뉴에서 **Customize(사용자 지정)**  > **Units Setup(단위 설정)**  > **System Units Setup(시스템 단위 설정)** 으로 차례로 이동하고, **System Units Scale(시스템 단위 기준)** 드롭다운에서 **Meters(미터)** 를 선택합니다. 
![시스템 단위](media/3dsmax/system-units.jpg)

시스템 단위를 미터로 설정하면 모델 만들기를 시작할 수 있습니다. 샘플 장면에서 각각 서로 다른 재질 유형(예: 금속, 고무, 플라스틱 등)을 나타내는 여러 상자 개체를 만듭니다. 

>[!TIP]
>자산을 만들 때 적절한 이름을 지정하는 것이 좋습니다. 그러면 장면에 많은 개체가 있는 경우 나중에 쉽게 찾을 수 있습니다.

![rename-objects](media/3dsmax/rename-objects.jpg)

## <a name="assign-materials"></a>재질 할당

장면에서 몇 가지 개체(이 경우 여러 큐브)가 만들어지면 다음과 같은 PBR 설정을 시작할 수 있습니다.

* 다음 이미지와 같이 주 도구 모음에서 **Material Editor(재질 편집기)** 아이콘을 클릭합니다. 키보드에서 **M** 키를 눌러 편집기를 열 수도 있습니다. 재질 편집기에는 **Modes(모드)** 드롭다운에서 선택할 수 있는 두 가지 모드(**Compact material editor(컴팩트 재질 편집기)** 모드 및 **Slate material(슬레이트 재질)** 모드)가 있습니다. 이 장면은 비교적 간단하므로 **컴팩트 모드**를 사용합니다.

* 재질 편집기 내에는 많은 구가 표시되며, 이러한 구는 재질입니다. 장면에서 이러한 재질 중 하나를 각 개체(상자)에 할당합니다. 이 할당을 수행하려면 먼저 주 뷰포트의 개체 중 하나를 선택합니다. 이 개체가 선택되면 재질 편집기 창에서 첫 번째 구를 클릭합니다. 개체에 할당되면 다음 이미지와 같이 선택한 재질이 강조 표시됩니다.

* 강조 표시된 **Assign Material to Selection(선택 항목에 재질 할당)** 단추를 클릭합니다. 이제 선택한 재질이 선택한 개체에 할당되었습니다.
![assign-material](media/3dsmax/assign-material.jpg)

재질 편집기에서 사용 사례에 따라 다양한 선택 항목에서 재질 유형을 선택할 수 있습니다. 일반적으로 재질 유형은 기본적으로 **Standard(표준)** 로 설정됩니다. 이 재질은 PBR 설정에 적합하지 않은 기본 재질이므로 재질 유형을 PBR 재질로 변경해야 합니다. Azure Remote Rendering 프로젝트에 대한 기본 설정 **3DSMax** 재질은 **Physical Material(물리적 재질)** 입니다.

* 재질 편집기에서 **Standard** 탭을 클릭하고, 열리는 재질/맵 브라우저에서 **Physical Material**을 선택합니다. 이 작업은 할당된 **Standard** 재질을 PBR **Physical Material**로 변환합니다.
![physical-material](media/3dsmax/physical-material.jpg)

* 이제 재질 편집기에서 물리적 재질에 대한 속성이 표시되며(아래 참조), 질감을 자산에 할당할 수 있습니다.
![textures-list](media/3dsmax/textures-list.jpg)

위의 이미지에서 볼 수 있듯이 재질에 추가할 수 있는 다양한 맵과 질감이 있습니다. 그러나 자습서의 목적을 위해 재질에서 5개의 질감 슬롯만 사용합니다.

>[!TIP]
>위의 이미지와 같이 재질의 이름을 적절하게 지정하는 것이 좋습니다.

이제 질감을 재질에 할당하는 것을 고려할 수 있습니다. 질감을 생성하는 방법은 기본 설정 또는 사용법에 따라 달라질 수 있습니다. 예를 들어 자산에 적용할 수 있는 바둑판식 배열 질감을 사용하는 것이 좋거나 프로젝트/자산의 특정 부분에 고유한 사용자 지정 질감 세트가 있어야 할 수 있습니다. 온라인으로 가져온 일반 바둑판식 배열 질감을 사용하거나 **Photoshop**, **Quixel Suite**, **Substance Suite** 등과 같은 앱에서 직접 만들 수 있습니다. 

질감 할당을 시작하기 전에 자산 질감 좌표(UVW)를 고려해야 합니다. 질감을 모델에 적용하여 모델의 래핑이 해제되었는지 확인하는 것이 가장 좋지만(적절한 UV 래핑 해제 없이는 질감이 제대로 표시되지 않음), 모델에서 **Ambient Oclusion(앰비언트 폐색)** 맵을 사용하려는 경우 자습서의 목적을 위해 이를 사용해야 합니다. **Maya**의 **Stingray 셰이더**와 달리 **3DSMax**의 **Physical Material(물리적 재질)** 에는 전용 **Ambient Occlusion** 질감 슬롯이 없습니다. 따라서 AO 맵을 다른 슬롯에 적용하고 다른 질감(예: 바둑판식 배열 질감)과 별도로 사용할 수 있도록 자체 UVW 맵 채널을 할당합니다. 

아래와 같이 **Unwrap UVW(UVW 래핑 해제) 한정자**를 모델에 할당하여 시작합니다.

* 선택한 개체 속성 편집기에서 Modifier List(한정자 목록)를 클릭하고, 열리는 드롭다운에서 아래로 스크롤하여 Unwrap UVW를 선택합니다. 이 작업을 수행하면 UVW 래핑 해제 한정자가 자산에 적용됩니다.
![unwrap-modifier](media/3dsmax/unwrap-modifier.jpg)

* 맵 채널이 1로 설정되었습니다. 기본 래핑 해제는 일반적으로 맵 채널 1에서 수행됩니다. 여기서는 개체가 겹치는 질감 좌표(UV)를 사용하지 않고 래핑 해제되었습니다.
![unwrapped-uvw](media/3dsmax/unwrapped-uvw.jpg)

다음 단계는 두 번째 UV 맵 채널을 만드는 것입니다.

* UV 편집기가 열려 있으면 닫고, **Edit UV's(UV 편집)** 메뉴의 채널 섹션에서 채널 번호를 2로 변경합니다. 맵 채널 2는 Ambient Occlusion(앰비언트 폐색) 맵에 필요한 채널입니다. 

* 열리는 **Channel Change Warning(채널 변경 경고)** 대화 상자에는 채널 1의 기존 UV를 새 채널 2로 **Move(이동)** 하거나 기존 UV를 **Abandon(차단)** 하여 새 **UV Unwrap(UV 래핑 해제)** 을 자동으로 만드는 옵션이 제공됩니다. 맵 채널 1의 UV와 다른 앰비언트 폐색 맵에 대한 새 **UV 래핑 해제**를 만들려는 경우에만(예: 채널 1에서 바둑판식 배열 질감을 사용하려는 경우) **Abandon(차단)** 을 선택합니다. 새 UV 채널을 편집할 필요가 없으므로 UV를 채널 1에서 채널 2로 **Move(이동)** 합니다.

>[!NOTE]
>UV를 맵 채널 1에서 맵 채널 2로 복사한 경우(**Moved(이동됨)** )에도 원래 맵 채널에는 영향을 주지 않고 새 채널 UV를 필요한 대로 편집할 수 있습니다.

![channel-change](media/3dsmax/channel-change.jpg)

새 맵 채널이 만들어지면 재질 편집기의 물리적 재질로 돌아가서 질감 추가를 시작할 수 있습니다. 올바르게 작동하도록 하는 추가 단계가 있으므로 먼저 **AO(앰비언트 폐색)** 맵을 추가합니다. AO 맵이 재질에 연결되면 맵 채널 2를 사용하도록 지시해야 합니다.

* 앞에서 설명한 대로 **3DSMax 물리적 재질**에는 AO 맵 전용 슬롯이 없습니다. 대신 AO 맵을 **Diffuse Rougness(확산 황삭)** 슬롯에 적용합니다.

* 물리적 재질의 **Generic Maps(일반 맵)** 목록에서 **Diffuse Rougness**의 **No Map(맵 없음)** 슬롯을 클릭하고 AO 맵을 로드합니다.

* AO 질감 속성에는 기본적으로 **1**로 설정된 맵 채널이 표시됩니다. 이 값을 **2**로 변경합니다. 이 작업을 수행하면 앰비언트 폐색 맵을 추가하는 데 필요한 단계가 완료됩니다.

>[!IMPORTANT]
>AO가 잘못된 채널을 선택한 상태에서 올바르게 매핑되지 않으므로 채널 2의 UV가 채널 1의 UV와 다른 경우 이는 특히 중요한 단계입니다.

![assign-ao-map](media/3dsmax/assign-ao-map.jpg)

이제 보통 맵을 PBR 재질에 할당하는 방법에 대해 설명하겠습니다. 이 작업은 보통 맵이 범프 맵 슬롯에 직접 적용되지 않는다는 점에서 **Maya**와 약간 다릅니다(**3DSMax 물리적 재질**에는 보통 맵 슬롯이 없음). 대신 보통 맵 자체가 **normals(보통)** 슬롯에 연결되는 보통 맵 한정자에 추가됩니다.

* 재질 편집기에 있는 물리적 재질 속성의 **Special Maps(특수 맵)** 섹션에서 **Bump Map(범프 맵)** 의 **No Map(맵 없음)** 슬롯을 클릭합니다. 

* 재질/맵 브라우저에서 **Normal Bump(보통 범프)** 를 찾아서 클릭합니다. 이 작업을 수행하면 **Normal Bump** 한정자가 재질에 추가됩니다.

* **Normal Bump** 한정자에서 **Normal**의 **No Map**을 클릭하여 보통 맵을 찾은 다음, 이를 로드합니다.

* 메서드가 **Tangent**(기본값임)로 설정되어 있는지 확인하고, 필요한 경우 **Flip Green (Y)(녹색 전환(Y))** 으로 전환합니다.

![normal-bump](media/3dsmax/normal-bump.jpg)
![load-normal-map](media/3dsmax/load-normal-map.jpg)

보통 맵이 올바르게 할당되면 나머지 질감을 할당하여 물리적 재질 설정을 완료할 수 있습니다. 이는 고려할 특별한 설정이 없는 간단한 프로세스입니다. 다음 이미지에서는 재질에 할당된 전체 질감 세트를 보여 줍니다. ![all-textures](media/3dsmax/all-textures.jpg)

PBR 재질이 만들어지고 설정되면 장면에서 개체 인스턴싱을 수행하도록 고려해야 합니다. 장면에서 비슷한 개체(예: 너트, 볼트, 나사 와셔), 기본적으로 동일한 개체를 인스턴싱하면 파일 크기 측면에서 상당한 비용을 절감할 수 있습니다. 마스터 개체의 인스턴스는 자체의 크기 조정, 회전 및 변환을 사용하고 있으므로 장면에서 필요한 대로 배치할 수 있습니다. **3D Studio Max**에서 **인스턴싱** 프로세스는 간단합니다.

* 주 뷰포트에서 내보내려는 하나 이상의 개체를 선택합니다.

* 변환(이동) 도구를 사용하여 **Shift** 키를 누른 채 자산을 위쪽으로 끕니다. 

* 열리는 **Clone Options(복제 옵션)** 대화 상자에서 **Object(개체)** 를 **Instance(인스턴스)** 로 설정하고, **OK(확인)** 를 클릭합니다. 
![instance-object](media/3dsmax/instance-object.jpg)

이 작업을 수행하면 개체의 부모 및 해당 부모의 다른 인스턴스와 독립적으로 회전하거나 크기를 조정할 수 있는 해당 개체의 인스턴스가 만들어집니다.

>[!IMPORTANT]
>그러나 하위 개체 모드에서 인스턴스에 대한 모든 변경 내용은 개체의 모든 인스턴스에 전송되므로, 인스턴싱된 개체 구성 요소(정점, 다각형 면 등)를 사용하는 경우 먼저 이러한 모든 인스턴스에 영향을 주도록 변경 내용을 적용해야 합니다. 인스턴싱된 개체는 언제든지 고유한 개체로 만들 수 있습니다. 

>[!TIP]
>나중에 **복사본**을 인스턴싱된 개체로 바꾸는 것이 매우 어려우므로 장면에서의 인스턴싱에 대한 모범 사례는 인스턴싱을 진행하면서 개체를 만드는 것입니다. 

내보내기 프로세스로 진행하기 전에 고려해야 할 마지막 한 가지 사항은 공유할 장면/자산을 패키지하는 방법입니다. 자산을 클라이언트 또는 팀 멤버에 전달하는 경우 최소한의 혼란 속에서 자산을 열어 볼 수 있도록 하는 것이 좋습니다. 따라서 장면 파일을 기준으로 자산 질감 경로를 유지해야 합니다. 자산의 질감 경로가 로컬 드라이브 또는 절대 경로/위치를 가리키는 경우 **.max** 파일이 질감과 동일한 폴더에 있더라도 다른 컴퓨터에서 열면 장면에 로드되지 않습니다. 3D Studio Max에서 상대적인 질감 경로를 설정하면 이 문제가 해결되며 매우 간단합니다.

* 주 도구 모음에서 **File(파일)**  > **Reference(참조)**  > **Asset Tracking Toggle(자산 추적 설정/해제)** 로 차례로 이동합니다. 

* 열리는 자산 추적 브라우저의 **Maps/Shaders(맵/셰이더)** 열 아래에는 PBR 재질에 적용한 질감의 전부 또는 대부분이 나열됩니다.

* 이 열 옆의 **Full Path(전체 경로)** 열에는 질감의 위치에 대한 파일 경로(대부분 로컬 컴퓨터의 해당 위치)가 표시됩니다.

* 마지막으로 **Status(상태)** 라는 열이 표시됩니다. 이 열은 지정된 질감이 배치되어 장면에 적용되었는지 여부를 나타내며, **OK**, **Found(있음)** 또는 **File Missing(파일 없음)** 용어 중 하나를 사용하여 이 질감에 대한 플래그를 지정합니다. 처음 두 플래그는 파일이 검색되어 로드되었음을 나타내며, 마지막 플래그는 추적기에서 파일을 찾지 못했음을 나타냅니다.
![texture-paths](media/3dsmax/texture-paths.jpg)

처음 여는 경우 일부 질감이 자산 추적기에 나열되지 않을 수 있습니다. 경로 찾기 프로세스를 한 번 또는 두 번 실행하면 대개 모든 장면 질감이 검색되므로 걱정할 필요가 없습니다. 경로 찾기 프로세스는 다음과 같습니다. 

* 자산 추적기 창에서 **Maps/Shaders(맵/셰이더)** 목록의 위쪽 질감을 **Shift 키**+**클릭**하고, Shift 키를 누른 채 목록의 마지막 질감을 클릭합니다. 이 작업을 수행하면 목록의 모든 질감이 선택됩니다. 이제 선택한 질감이 파란색으로 강조 표시됩니다(위의 이미지 참조).

* 마우스 오른쪽 단추로 선택 항목을 클릭하고, 열리는 팝업 메뉴에서 **Set Path(경로 설정)** 를 선택합니다.

* 열리는 **Specify Asset Path(자산 경로 지정)** 상자에서 표시된 질감의 로컬 경로를 선택하고, `.\`로 바꾸고, **OK(확인)** 를 클릭합니다. 

* 일정 기간이 지나면(장면에 있는 질감의 수와 장면 크기에 따라 달라짐) 자산 추적기에서 다음과 같이 자체적으로 확인됩니다(이미지 참조).
![resolve-textures](media/3dsmax/resolve-textures.jpg)

이제 **Full Path(전체 경로)** 열이 비어 있습니다. 즉, 장면에서 특정(절대) 위치에 있는 관련 질감을 더 이상 찾지 않지만, 최대 파일 또는 관련 FBX 파일이 질감과 동일한 폴더에 있으면 항상 해당 질감을 찾습니다. 

>[!NOTE]
>모든 질감과 경로를 찾아서 확인하려면 이 프로세스를 두 번 반복해야 하는 경우도 있습니다. 이는 걱정할 필요가 없으며, 관련된 모든 자산이 고려될 때까지 반복하면 됩니다. 일부 파일은 더 이상 찾지 못할 수도 있습니다. 이 경우 목록에서 모든 자산을 선택하고, **Remove Missing Paths(누락된 경로 제거)** 를 클릭하기만 하면 됩니다(위의 이미지 참조).

## <a name="fbx-export"></a>FBX 내보내기

자산 추적이 완료되면 이제 FBX 내보내기로 진행할 수 있습니다. 다시 말하지만, 이 프로세스는 간단하며 몇 가지 방법으로 수행될 수 있습니다. 

>[!TIP]
>전체 장면을 내보내지 않으려면 필요한 자산만 내보내도록 선택하는 것이 좋습니다. 특히 리소스를 많이 사용하는 장면에서 내보내기는 오래 걸릴 수 있으므로 필요한 자산만 내보내는 것이 좋습니다.
>
>**Turbosmooth** 또는 **Open SubDiv** 등과 같은 한정자를 사용한 경우 내보내는 중에 문제가 발생할 수 있으므로 내보내기 전에 이를 축소하는 것이 좋습니다. 이 작업을 수행하기 전에 항상 장면을 저장하세요! 

* 장면에서 내보내려는 자산을 선택하고, 주 도구 모음에서 **File(파일)**  > **Export(내보내기)**  > **Export Selected(선택한 항목 내보내기)** 로 차례로 이동합니다.

* **Select File to Export(내보낼 파일 선택)** 대화 상자에서 출력 파일 이름을 입력하거나 선택하고, **Save as Type(파일 형식)** 옵션에서 **Autodesk(*.fbx)** 를 선택합니다. 이 작업을 수행하면 FBX 내보내기 메뉴가 열립니다. 

* 장면에서 인스턴스를 만든 경우 FBX 내보내기 설정에서 **Preserve Instance(인스턴스 유지)** 가 설정되어 있어야 합니다. 
![fbx-export](media/3dsmax/fbx-export.jpg)

이전에 파일을 내보낼 수 있는 몇 가지 방법이 있다고 언급했습니다. 내보낼 때 폴더/디렉터리의 질감 파일과 함께 FBX를 공유하려는 경우 아래 이미지에 표시된 설정이 적용되고 제대로 작동해야 합니다. 설정이 선택되었으면 **OK(확인)** 를 클릭합니다.
![fbx-settings](media/3dsmax/fbx-settings.jpg)

그러나 FBX와 함께 질감의 큰 폴더/텍스트 디렉터리를 공유하지 않으려면 질감이 FBX에 **Embed(포함)** 되도록 선택할 수 있습니다. 즉, 전체 자산(포함된 질감)이 단일 FBX에 추가됩니다. 그러나 내보내기가 단일 자산으로 결합되는 한편, FBX 파일이 결과적으로 상당히 커질 수 있습니다.

>[!IMPORTANT]
>결과 FBX 파일이 2.4GB보다 큰 경우 FBX 내보내기 설정의 최소 버전(위 참조)이 2016 이상이어야 합니다. 최신 버전에서는 64비트를 지원하므로 더 큰 파일이 지원됩니다.

* FBX 내보내기 설정에서 **Embed Media(**미디어 포함)를 설정/해제한 다음, **OK**를 클릭하여 질감이 포함된 상태로 내보냅니다. 

Physical Material(물리적 재질)을 사용하는 동안 FBX로 내보내는 경우 내보내기 대화 상자에서 'OK'를 클릭하면 다음과 같은 경고 팝업이 표시될 수 있습니다. ![export-warnings](media/3dsmax/export-warnings.jpg)

이 경고는 내보낸 재질이 다른 소프트웨어 패키지와 호환되지 않을 수 있음을 사용자에게 알려줍니다. 물리적 재질은 Azure Remote Rendering과 호환되므로 걱정할 필요가 없습니다. **OK**를 클릭하여 프로세스를 완료하고 창을 닫기만 하면 됩니다.

## <a name="conclusion"></a>결론

일반적으로 이 유형의 재질은 실제 세계의 광물리학을 기반으로 하므로 더 사실적으로 표현됩니다. 이를 통해 장면이 실제 세계에 존재하는 것처럼 보이도록 추가적인 몰입형 효과가 만들어집니다.

## <a name="next-steps"></a>다음 단계

이제 장면에서 고급 조명을 개체에 사용하여 재질을 설정하는 방법을 알아보았습니다. 또한 개체를 Azure Remote Rendering에서 지원하는 FBX 형식으로 내보내는 방법도 알아보았습니다. 다음 단계에서는 FBX 파일을 변환하고, Azure Remote Rendering에서 시각화합니다.

>[!div class="nextstepaction"]
>[빠른 시작: 렌더링을 위해 모델 변환](../../quickstarts\convert-model.md)