<properties 
	pageTitle="DocumentDB 용량 관리 | Microsoft Azure" 
	description="응용 프로그램의 용량 요구 사항을 충족하기 위해 DocumentDB의 크기를 조정할 수 있는 방법을 알아봅니다." 
	services="documentdb" 
	authors="mimig1" 
	manager="jhubbard" 
	editor="cgronlun" 
	documentationCenter=""/>

<tags 
	ms.service="documentdb" 
	ms.workload="data-services" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="07/27/2015" 
	ms.author="mimig"/>

# DocumentDB 용량 요구 관리
DocumentDB는 완전히 관리되고 확장 가능한 문서 지향 NoSQL 데이터베이스 서비스입니다. DocumentDB를 사용하면 가상 컴퓨터를 임대하거나, 소프트웨어를 배포하거나, 데이터베이스를 모니터링하거나, 재해 복구에 대해 걱정할 필요가 없습니다. 세계적 수준의 가용성, 성능 및 데이터 보호를 제공하기 위해 Microsoft 엔지니어가 DocumentDB를 작동하고 지속적으로 모니터링합니다.

[Azure Preview 포털](https://portal.azure.com/)을 통해 [데이터베이스 계정을 만들어](documentdb-create-account.md) DocumentDB를 시작할 수 있습니다. DocumentDB는 SSD(반도체 드라이브) 지원 저장소 및 처리량의 단위로 제공됩니다. 이러한 단위는 데이터베이스 계정 내에서 데이터베이스 컬렉션을 만들어 프로비전됩니다. 각 컬렉션은 처리량이 예약된 데이터베이스 저장소 10GB를 포함합니다. 응용 프로그램의 처리량 요구 사항이 변경되면 각 컬렉션의 [성능 수준](documentdb-performance-levels.md)을 설정하여 동적으로 변경합니다.

응용 프로그램이 하나 이상의 컬렉션에 대한 성능 수준을 초과할 경우 컬렉션당 기준에 따라 요청이 제한됩니다. 즉, 응용 프로그램 요청이 경우에 따라 성공하거나 제한될 수도 있습니다.

## 데이터베이스 계정 및 관리 리소스
Azure 구독자는 DocumentDB 데이터베이스 계정을 하나 이상 프로비전할 수 있습니다. 각 데이터베이스 계정에는 데이터베이스, 사용자, 사용 권한을 비롯한 관리 리소스 할당량이 있습니다. 이러한 리소스는 [한도 및 할당량](documentdb-limits.md)의 영향을 받습니다. 추가적인 관리 리소스가 필요하면 [지원 센터에 문의](documentdb-increase-limits.md)하세요.

## 문서 저장소가 제한되지 않은 데이터베이스
단일 DocumentDB 데이터베이스에 실제로 무제한 크기의 문서 저장소가 컬렉션으로 분할되어 포함될 수 있습니다. 컬렉션은 포함된 문서에 대한 트랜잭션 도메인을 형성합니다. DocumentDB 데이터베이스는 크가가 탄력적이며 SSD 지원 문서 저장소 및 프로비전된 처리량이 몇 GB에서 테라바이트 범위까지 다양합니다. 기존의 RDBMS 데이터베이스와 달리 DocumentDB의 데이터베이스는 단일 컴퓨터로 범위가 지정되지 않습니다.

DocumentDB를 사용하면 응용 프로그램을 확장할 필요에 따라 컬렉션, 데이터베이스 또는 둘 다를 더 만들 수 있습니다. Microsoft 내의 다양한 자사 응용 프로그램은 각각 테라바이트의 문서 저장소가 있는 컬렉션이 수백 또는 수천 개 포함된 대형 DocumentDB 데이터베이스를 만들어 소비자 배율로 DocumentDB를 사용했습니다. 응용 프로그램의 크기 조정 요구 사항을 충족하기 위해 컬렉션을 추가 또는 제거하여 데이터베이스를 확장하거나 축소할 수 있습니다.

## 데이터베이스 컬렉션
각 DocumentDB 데이터베이스에 컬렉션이 하나 이상 포함될 수 있습니다. 컬렉션은 문서 저장소 및 처리에 대해 항상 사용 가능한 데이터 파티션으로 작동합니다. 각 컬렉션은 유형이 다른 스키마를 사용하여 문서를 저장할 수 있습니다. DocumentDB의 자동 인덱싱 및 쿼리 기능을 이용하여 문서를 쉽게 필터링하고 검색할 수 있습니다. 컬렉션은 문서 저장소 및 쿼리 실행 범위를 제공합니다. 컬렉션은 포함된 모든 문서에 대한 트랜잭션 도메인이기도 합니다. 컬렉션은 지정한 성능 수준에 따라 처리량을 할당받습니다. Azure Preview 포털 또는 SDK 중 하나를 통해 동적으로 조정할 수 있습니다.

응용 프로그램의 저장소 및 처리량 크기 조정 요구 사항을 충족하기 위해 컬렉션을 개수에 제한 없이 만들 수 있습니다. [Azure Preview 포털](https://portal.azure.com/)을 통해 또는 [DocumentDB SDK](https://msdn.microsoft.com/library/azure/dn781482.aspx) 중 하나를 통해 컬렉션을 만들 수 있습니다.

>[AZURE.NOTE]각 컬렉션에서는 최대 10GB의 문서 데이터까지 저장소가 지원됩니다.
 
## 요청 단위 및 데이터베이스 작업
DocumentDB에서는 UDF, 저장 프로시저 및 트리거와 함께 데이터베이스 컬렉션 내부의 문서에서 작동하는 모든 관계형 및 계층형 쿼리를 포함해서 다양한 데이터베이스 작업이 허용됩니다. 이러한 각 작업과 연관된 처리 비용은 해당 작업을 완료하는 데 필요한 CPU, IO 및 메모리에 따라 달라집니다. 하드웨어 리소스를 고려하고 관리하는 대신 다양한 데이터베이스 작업을 수행하고 응용 프로그램 요청을 처리하는 데 필요한 리소스의 단일 측정값으로 RU(요청 단위)를 고려할 수 있습니다.

컬렉션을 설정하는 성능 수준에 따라 요청 단위를 프로비전하고 할당을 요청합니다. 각 컬렉션을 만들 때 성능 수준을 지정합니다. 이 성능 수준은 초 당 요청 단위에서 컬렉션의 처리 능력을 결정합니다. 성능 수준은 변화하는 처리 요구에 맞고 응용 프로그램의 패턴에 액세스하는 컬렉션의 수명 동안 조정할 수 있습니다. 자세한 내용은 [DocumentDB 성능 수준](documentdb-performance-levels.md)을 참조하세요.

>[AZURE.IMPORTANT]컬렉션은 청구 가능한 엔터티입니다. 컬렉션에 할당된 성능 수준에 따라 비용을 결정합니다.

요청 단위 소비는 초당 비율로 평가됩니다. 컬렉션에서 프로비전된 요청 단위 속도를 초과하는 응용 프로그램의 경우 비율이 예약된 수준 이하로 떨어질 때까지 해당 컬렉션에 대한 요청이 제한됩니다. 응용 프로그램이 더 높은 수준의 처리량을 필요로 하면 기존 컬렉션의 성능 수준을 조정하거나 새 컬렉션에 응용 프로그램 요청을 분산할 수 있습니다.

요청 단위는 요청 처리 비용의 정규화된 측정값입니다. 단일 요청 단위는 10개의 고유한 속성 값으로 구성된 1KB JSON 문서 하나를 읽는 데(self 링크를 통해) 필요한 처리 용량을 나타냅니다. 요청 단위 요금은 일관성 수준이 기본값인 "세션"으로 설정되어 있고 모든 문서가 자동으로 인덱싱된다고 가정합니다. 동일한 문서를 삽입, 대체 또는 삭제하는 요청은 서비스에서 추가 처리를 사용하므로 더 많은 요청 단위가 사용됩니다. 서비스의 각 응답에는 요청에 사용된 요청 단위를 측정하는 사용자 지정 헤더(x-ms-request-charge)가 포함됩니다. 이 헤더는 [SDK](https://msdn.microsoft.com/library/azure/dn781482.aspx)를 통해 액세스할 수도 있습니다. .NET SDK에서 RequestCharge는 ResourceResponse 개체의 속성입니다.

>[AZURE.NOTE]1KB 문서에 대한 한 개 요청 단위의 기초는 문서의 self 링크에 의한 간단한 GET에 해당합니다.

DocumentDB 데이터베이스 계정에 대한 작업에 사용되는 요청 단위에 영향을 주는 여러 요인이 있습니다. 이러한 요인은 다음과 같습니다.

- 문서 크기. 문서 크기가 증가할수록 데이터를 읽거나 쓰는 데 사용되는 단위도 증가합니다.
- 속성 수. 모든 속성의 기본 인덱싱을 가정할 경우 속성 수가 증가할수록 문서를 쓰는 데 사용되는 단위가 증가합니다.
- 데이터 일관성. 강력 또는 제한된 부실 데이터 일관성 수준을 사용하는 경우 문서를 읽는 데 추가 단위가 사용됩니다.
- 인덱싱되는 속성. 각 컬렉션의 인덱스 정책에 따라 기본적으로 인덱싱되는 속성이 결정됩니다. 인덱싱되는 속성 수를 제한하면 요청 단위 사용을 줄일 수 있습니다. 
- 문서 인덱싱. 기본적으로 각 문서가 자동으로 인덱싱되며, 일부 문서를 인덱싱하지 않도록 선택하면 더 적은 요청 단위가 사용됩니다.

쿼리, 저장 프로시저 및 트리거는 수행하는 작업의 복잡성에 따라 요청 단위를 사용합니다. 응용 프로그램을 개발하면서 요청 요금 헤더를 검사하면 각 작업이 요청 단위 용량을 어떻게 사용하는지 파악하는 데 도움이 됩니다.

## 일관성 수준 및 처리량 선택
기본 일관성 수준 선택은 처리량 및 대기 시간에 영향을 줍니다. 프로그래밍 방식으로 및 Azure Preview 포털을 통해 기본 일관성 수준을 설정할 수 있습니다. 요청 단위로 일관성 수준을 재정의할 수도 있습니다. 기본 일관성 수준은 일정한 읽기/쓰기 및 고유한 쓰기 읽기를 보장하는 세션 일관성 수준입니다. 세션 일관성은 사용자 중심 응용 프로그램에 유용하며 일관성과 성능 절충의 최적 균형을 제공합니다.

Azure Preview 포털에서 일관성 수준 변경에 대한 지침은 [DocumentDB 계정을 관리하는 방법](documentdb-manage-account.md#consistency)을 참조하세요. 일관성 수준에 대한 자세한 내용은 [일관성 수준 사용](documentdb-consistency-levels.md)을 참조하세요.

## 프로비전된 문서 저장소 및 인덱스 오버헤드
생성된 각 컬렉션 마다 SSD 지원 문서 저장소 10GB가 프로비전됩니다. 10GB의 문서 저장소에는 문서와 인덱스 저장소가 포함됩니다. 기본적으로 DocumentDB 컬렉션은 보조 인덱스나 스키마를 명시적으로 요구하지 않고 모든 문서를 자동으로 인덱싱하도록 구성되어 있습니다. DocumentDB를 사용하는 응용 프로그램에 따라 일반적인 인덱스 오버헤드는 2-20% 사이입니다. DocumentDB에서 사용하는 인덱싱 기술은 속성 값에 관계없이 인덱스 오버헤드가 기본 설정을 사용한 문서 크기의 80%를 초과하지 않도록 합니다.

기본적으로 모든 문서가 DocumentDB에서 자동으로 인덱싱됩니다. 그러나 [DocumentDB 인덱싱 정책](documentdb-indexing-policies.md)에서 설명한 대로 인덱스 오버헤드를 미세 조정하려면 문서를 삽입하거나 바꿀 때 특정 문서가 인덱싱되지 않도록 제거할 수 있습니다. 컬렉션 내의 모든 문서를 인덱싱에서 제외하도록 DocumentDB 컬렉션을 구성할 수 있습니다. [컬렉션의 인덱싱 정책 구성](documentdb-indexing-policies.md#configuring-the-indexing-policy-of-a-collection)의 설명과 같이 JSON 문서의 와일드카드가 있는 특정 속성이나 경로만 선택적으로 인덱싱하도록 DocumentDB 컬렉션을 구성할 수도 있습니다. 속성이나 문서를 제외하면 쓰기 처리량도 향상되므로 사용하는 요청 단위가 줄어듭니다.
 
## 다음 단계
Azure Preview 포털에서 성능 수준 모니터링에 대한 지침은 [DocumentDB 계정 모니터링](documentdb-monitor-accounts.md)을 참조하세요.

컬렉션에 대한 성능 수준 선택에 대한 자세한 내용은 [DocumentDB의 성능 수준](documentdb-performance-levels)을 참조하세요.
 

<!---HONumber=August15_HO6-->