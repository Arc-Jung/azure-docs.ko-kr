---
title: 기능 해싱 모듈 참조
titleSuffix: Azure Machine Learning
description: Azure 기계 학습에서 기능 해싱 모듈을 사용하여 텍스트 데이터를 위화하는 방법을 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/22/2020
ms.openlocfilehash: 7178417a5c20afe5b1ed02bc526ec174704962df
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/28/2020
ms.locfileid: "79456253"
---
# <a name="feature-hashing-module-reference"></a>기능 해싱 모듈 참조

이 문서에서는 Azure 기계 학습 디자이너(미리 보기)에 포함된 모듈에 대해 설명합니다.

기능 해싱 모듈을 사용하여 영어 텍스트 스트림을 정수 기능 집합으로 변환합니다. 그런 다음 이 해시된 기능 집합을 기계 학습 알고리즘으로 전달하여 텍스트 분석 모델을 학습할 수 있습니다.

이 모듈에서 제공하는 기능 해싱 기능은 nimbusml 프레임워크를 기반으로 합니다. 자세한 내용은 [NgramHash 클래스를](https://docs.microsoft.com/python/api/nimbusml/nimbusml.feature_extraction.text.extractor.ngramhash?view=nimbusml-py-latest)참조하십시오.

## <a name="what-is-feature-hashing"></a>기능 해싱이란 무엇입니까?

고유한 토큰을 정수로 변환하여 기능 해싱 작업을 합니다. 입력으로 제공하는 정확한 문자열에서 작동하며 언어 분석 이나 전처리를 수행하지 않습니다. 

예를 들어 다음과 같은 간단한 문장 집합을 가져간 다음 감정 점수를 가져옵니다. 이 텍스트를 사용하여 모델을 작성한다고 가정합니다.

|사용자 텍스트|데이터|
|--------------|---------------|
|나는이 책을 사랑했다.|3|
|나는이 책을 싫어|1|
|이 책은 훌륭했습니다.|3|
|저는 책을 좋아해요.|2|

내부적으로 기능 해싱 모듈은 n-grams 사전을 만듭니다. 예를 들어 이 데이터 집합의 bigrams 목록은 다음과 같습니다.

|기간 (빅램스)|빈도|
|------------|---------------|
|이 책은|3|
|나는 사랑했다|1|
|나는 싫어|1|
|사랑해요|1|

N-grams 속성을 사용하여 **n그램의** 크기를 제어할 수 있습니다. 큰 램을 선택하면 유니그램도 계산됩니다. 사전에는 다음과 같은 단일 용어도 포함됩니다.

|용어 (유니그램)|빈도|
|------------|---------------|
|설명서|3|
|I|3|
|서적|1|
|는|1|

사전을 빌드한 후 기능 해시 모듈은 사전 용어를 해시 값으로 변환합니다. 그런 다음 각 경우에 피쳐가 사용되었는지 여부를 계산합니다. 텍스트 데이터의 각 행에 대해 모듈은 각 해시된 피쳐에 대해 하나의 열인 열 집합을 출력합니다.

예를 들어 해싱 후 피처 열은 다음과 같이 보일 수 있습니다.

|등급|해시 기능 1|해싱 기능 2|해싱 기능 3|
|-----|-----|-----|-----|
|4|1|1|0|
|5|0|0|0|

* 열의 값이 0이면 행에 해시된 피쳐가 포함되지 않았습니다.
* 값이 1이면 행에 피쳐가 포함되어 있습니다.

피쳐 해시를 사용하면 가변 길이의 텍스트 문서를 동일한 길이의 숫자 피쳐 벡터로 표현하여 치수를 줄일 수 있습니다. 학습에 텍스트 열을 있는 것처럼 사용하려고 하면 고유한 값이 많은 범주형 피쳐 열로 처리됩니다.

또한 숫자 출력을 사용하면 분류, 클러스터링 및 정보 검색을 비롯한 일반적인 기계 학습 방법을 사용할 수 있습니다. 조회 작업은 문자열 비교대신 정수 해시를 사용할 수 있으므로 기능 가중치를 가져오는 속도도 훨씬 빠릅니다.

## <a name="configure-the-feature-hashing-module"></a>피처 해싱 모듈 구성

1.  디자이너의 파이프라인에 기능 해싱 모듈을 추가합니다.

1. 분석할 텍스트가 포함된 데이터 집합을 연결합니다.

    > [!TIP]
    > 피쳐 해싱은 형태소 분석이나 잘림과 같은 어휘 작업을 수행하지 않으므로 피쳐 해싱을 적용하기 전에 텍스트를 전처리하여 더 나은 결과를 얻을 수 있습니다. 

1. **대상 열을** 해시된 피쳐로 변환할 텍스트 열로 설정합니다. 다음 을 유의하십시오.

    * 열은 문자열 데이터 형식이어야 합니다.
    
    * 여러 텍스트 열을 선택하면 피처 차원에 큰 영향을 미칠 수 있습니다. 예를 들어 10비트 해시에 대한 열 수는 단일 열의 경우 1,024개에서 두 열의 경우 2,048개로 이동합니다.

1. **해시 비트 크기를** 사용하여 해시 테이블을 만들 때 사용할 비트 수를 지정합니다.
    
    기본 비트 크기는 10입니다. 많은 문제의 경우 이 값이 적절합니다. 학습 텍스트의 n-grams 어휘 크기에 따라 충돌을 피하기 위해 더 많은 공간이 필요할 수 있습니다.
    
1. **N-그램의**경우 학습 사전에 추가할 n그램의 최대 길이를 정의하는 숫자를 입력합니다. n-gram은 고유한 단위로 처리되는 *n단어의* 시퀀스입니다.

    예를 들어 3을 입력하면 유니그램, 빅램 및 삼중그램이 만들어집니다.

1. 파이프라인을 제출합니다.

## <a name="results"></a>결과

처리가 완료되면 모듈은 원본 텍스트 열이 여러 열로 변환된 변환된 데이터 집합을 출력합니다. 각 열은 텍스트의 피처를 나타냅니다. 사전의 중요도에 따라 결과 데이터 집합이 클 수 있습니다.

|열 이름 1|열 유형 2|
|-------------------|-------------------|
|사용자 텍스트|원본 데이터 열|
|감정|원본 데이터 열|
|사용자 텍스트 - 해싱 기능 1|해시된 피쳐 열|
|사용자 텍스트 - 해싱 기능 2|해시된 피쳐 열|
|USERTEXT - 해싱 기능 n|해시된 피쳐 열|
|USERTEXT - 해싱 기능 1024|해시된 피쳐 열|

변환된 데이터 집합을 만든 후 모델 학습 모듈에 대한 입력으로 사용할 수 있습니다.
 
## <a name="best-practices"></a>모범 사례

다음 모범 사례를 통해 기능 해싱 모듈을 최대한 사용할 수 있습니다.

* 피쳐 해싱을 사용하여 입력 텍스트를 전처리하기 전에 텍스트 전처리 모듈을 추가합니다. 

* 피쳐 해시 모듈 다음에 열 선택 모듈을 추가하여 출력 데이터 집합에서 텍스트 열을 제거합니다. 해시 기능이 생성된 후에는 텍스트 열이 필요하지 않습니다.
    
* 결과를 단순화하고 정확도를 높이기 위해 다음 텍스트 전처리 옵션을 사용하는 것이 좋습니다.

    * 단어 분리
    * 단어 제거 중지
    * 대/소문자 정규화
    * 문장 부호 및 특수 문자 제거
    * 형태소 분석  

모든 솔루션에 적용할 최적의 전처리 방법 집합은 도메인, 어휘 및 비즈니스 요구에 따라 달라집니다. 어떤 텍스트 처리 방법이 가장 효과적인지 확인할 수 있습니다.

## <a name="next-steps"></a>다음 단계
            
Azure 기계 학습에 [사용할 수 있는 모듈 집합](module-reference.md) 보기 
