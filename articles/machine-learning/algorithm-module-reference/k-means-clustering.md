---
title: 'K-평균 클러스터링: 모듈 참조'
titleSuffix: Azure Machine Learning
description: Azure 기계 학습에서 K-평균 클러스터링 모듈을 사용하여 클러스터링 모델을 학습하는 방법을 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/19/2020
ms.openlocfilehash: 9606768288cc74afc24491149eb471944f45e2dc
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/28/2020
ms.locfileid: "77921167"
---
# <a name="module-k-means-clustering"></a>모듈: K-평균 클러스터링

이 문서에서는 Azure 기계 학습 디자이너(미리 보기)에서 *K-평균 클러스터링* 모듈을 사용하여 학습되지 않은 K-평균 클러스터링 모델을 만드는 방법을 설명합니다. 
 
K-means는 가장 간단하고 가장 잘 알려진 *자율 학습* 알고리즘 중 하나입니다. 이 알고리즘은 다음과 같은 다양한 기계 학습 작업에 사용할 수 있습니다. 

* [비정상적인 데이터 감지](https://msdn.microsoft.com/magazine/jj891054.aspx).
* 텍스트 문서 클러스터링.
* 다른 분류 또는 회귀 방법을 사용하기 전에 데이터 집합을 분석합니다. 

클러스터링 모델을 만들려면 다음을 수행합니다.

* 파이프라인에 이 모듈을 추가합니다.
* 데이터 집합을 연결합니다.
* 예상되는 클러스터 수, 클러스터 작성에 사용할 거리 메트릭 등과 같은 매개 변수를 설정합니다. 
  
모듈 하이퍼매개변수를 구성한 후 학습되지 않은 모델을 [클러스터링 모델 에](train-clustering-model.md)연결합니다. K-means 알고리즘은 자율 학습 방법이므로 레이블 열은 선택 사항입니다. 

+ 데이터에 레이블이 포함된 경우 레이블 값을 사용하여 클러스터 선택을 안내하고 모델을 최적화할 수 있습니다. 

+ 데이터에 레이블이 없는 경우 알고리즘은 데이터만을 기반으로 가능한 범주를 나타내는 클러스터를 만듭니다.  

##  <a name="understand-k-means-clustering"></a>K-평균 클러스터링 이해
 
일반적으로 클러스터링은 반복 기술을 사용하여 데이터 집합의 사례를 유사한 특성을 가진 클러스터로 그룹화합니다. 이러한 그룹화는 데이터를 탐색하고, 데이터의 이상 징후를 식별하고, 결국 예측을 만드는 데 유용합니다. 클러스터링 모델은 검색 또는 간단한 관찰을 통해 논리적으로 파생되지 않을 수 있는 데이터 집합의 관계를 식별하는 데도 도움이 될 수 있습니다. 이러한 이유로 클러스터링은 기계 학습 작업의 초기 단계에서 데이터를 탐색하고 예기치 않은 상관 관계를 발견하는 데 자주 사용됩니다.  
  
 K-means 메서드를 사용하여 클러스터링 모델을 구성할 때 모델에서 원하는 *중심* 수를 나타내는 대상 번호 *k를* 지정해야 합니다. 중심은 각 클러스터를 대표하는 지점입니다. K-means 알고리즘은 클러스터 내 제곱 합계를 최소화하여 들어오는 각 데이터 포인트를 클러스터 중 하나에 할당합니다. 
 
학습 데이터를 처리하면 K-means 알고리즘은 임의로 선택한 중심의 초기 집합으로 시작됩니다. 센트로이드는 클러스터의 시작점으로 작용하며, Lloyd의 알고리즘을 적용하여 위치를 반복적으로 구체화합니다. K-means 알고리즘은 다음 조건 중 하나 이상을 충족할 때 클러스터 구축 및 구체화를 중지합니다.  
  
-   중심이 안정화되므로 개별 점에 대한 클러스터 할당이 더 이상 변경되지 않고 알고리즘이 솔루션에 수렴되었습니다.  
  
-   알고리즘에서 지정된 수의 반복 실행을 완료했습니다.  
  
 학습 단계를 완료한 후 [클러스터에 데이터 할당](assign-data-to-clusters.md) 모듈을 사용하여 K-means 알고리즘을 사용하여 찾은 클러스터 중 하나에 새 사례를 할당합니다. 새 사례와 각 클러스터의 중심 사이의 거리를 계산하여 클러스터 할당을 수행합니다. 각 새 사례는 가장 가까운 중심을 가진 클러스터에 할당됩니다.  

## <a name="configure-the-k-means-clustering-module"></a>K-평균 클러스터링 모듈 구성
  
1.  **파이프라인에 K-평균 클러스터링 모듈을** 추가합니다.  
  
2.  모델을 학습할 방법을 지정하려면 **트레이너 만들기 모드 만들기** 옵션을 선택합니다.  
  
    -   **단일 매개 변수**: 클러스터링 모델에서 사용할 정확한 매개 변수를 알고 있는 경우 특정 값 집합을 인수로 제공할 수 있습니다.  
  
3.  중심 수의 경우 알고리즘을 시작할 클러스터 수를 **입력합니다.**  
  
     이 모델은 이 수의 클러스터를 정확히 생성할 수 없습니다. 알고리즘은 이 수의 데이터 포인트로 시작하여 최적의 구성을 찾기 위해 이작업을 이합니다.  
  
4.  속성 **초기화는** 초기 클러스터 구성을 정의하는 데 사용되는 알고리즘을 지정하는 데 사용됩니다.  
  
    -   **첫 번째 N**: 일부 초기 데이터 요소가 데이터 집합에서 선택되어 초기 수단으로 사용됩니다. 
    
         이 메서드를 *Forgy 메서드라고도*합니다.  
  
    -   **임의**: 알고리즘은 클러스터에 데이터 포인트를 임의로 배치한 다음 클러스터가 임의로 할당된 점의 중심이 되는 초기 평균을 계산합니다. 

         이 메서드를 *임의 파티션* 메서드라고도 합니다.  
  
    -   **K-평균++**: 클러스터를 초기화하는 기본 방법입니다.  
  
         **K-means++** 알고리즘은 2007년 데이비드 아서와 세르게이 바실비츠스키가 표준 K-means 알고리즘에 의한 불량한 군집화를 피하기 위해 제안했습니다. **K-means++는** 초기 클러스터 중심을 선택하는 다른 방법을 사용하여 표준 K-means를 개선합니다.  
  
    
5.  **난수 시드의**경우 선택적으로 클러스터 초기화에 대한 시드로 사용할 값을 입력합니다. 이 값은 클러스터 선택에 큰 영향을 미칠 수 있습니다.  
  
6.  **메트릭의**경우 클러스터 벡터 간의 거리를 측정하거나 새 데이터 포인트와 임의로 선택한 중심 사이의 거리를 측정하는 데 사용할 함수를 선택합니다. Azure 기계 학습은 다음 클러스터 거리 메트릭을 지원합니다.  
  
    -   **유클리드**: 유클리드 거리는 일반적으로 K-평균 클러스터링에 대한 클러스터 산란의 측정으로 사용됩니다. 이 메트릭은 지점과 중심 사이의 평균 거리를 최소화하므로 사용하는 것이 좋습니다.
  
7.  **반복의**경우 중심 선택을 완료하기 전에 알고리즘이 학습 데이터를 반복해야 하는 횟수를 입력합니다.  
  
     이 매개변수를 조정하여 정확도와 학습 시간의 균형을 맞출 수 있습니다.  
  
8.  **레이블 할당 모드의**경우 데이터 집합에 레이블 열이 있는 경우 레이블 열을 처리하는 방법을 지정하는 옵션을 선택합니다.  
  
     K-means 클러스터링은 자율 학습 방식의 기계 학습 방법이므로 레이블은 선택 사항입니다. 그러나 데이터 집합에 레이블 열이 이미 있는 경우 해당 값을 사용하여 클러스터 선택을 안내하거나 값을 무시하도록 지정할 수 있습니다.  
  
    -   **레이블 열 무시**: 레이블 열의 값은 무시되며 모델을 작성하는 데 사용되지 않습니다.
  
    -   **누락된 값 채우기**: 레이블 열 값은 클러스터를 빌드하는 데 도움이 되는 기능으로 사용됩니다. 행이 레이블이 없는 경우 다른 피쳐를 사용하여 값이 대체됩니다.  
  
    -   **가장 가까운 에서 중심으로 덮어쓰기:** 레이블 열 값은 현재 중심에 가장 가까운 점의 레이블을 사용하여 예측된 레이블 값으로 바뀝니다.  

8.  학습 전에 피쳐를 정규화하려면 **피쳐 정규화** 옵션을 선택합니다.
  
     학습 전에 정규화를 적용하면 데이터 요소가 MinMaxNormalizer에 `[0,1]` 의해 정규화됩니다.

10. 모델을 학습시킵니다.  
  
    -   **트레이너 만들기 모드를** 단일 매개 **변수로**설정하면 태그가 지정된 데이터 집합을 추가하고 [클러스터링 모델 학습](train-clustering-model.md) 모듈을 사용하여 모델을 학습합니다.  
  
## <a name="results"></a>결과

모델 구성 및 학습을 완료한 후 점수를 생성하는 데 사용할 수 있는 모델이 있습니다. 그러나 모델을 학습하는 방법에는 여러 가지가 있으며 결과를 보고 사용하는 여러 가지 방법이 있습니다. 

### <a name="capture-a-snapshot-of-the-model-in-your-workspace"></a>작업 영역에서 모델의 스냅샷 캡처

[학습 클러스터링 모델](train-clustering-model.md) 모듈을 사용한 경우:

1. **[클러스터링 모델] 학습** 모듈을 선택하고 오른쪽 패널을 엽니다.

2. 출력 탭을 **선택합니다.** **학습된** 모델의 복사본을 저장하려면 데이터 집합 등록 아이콘을 선택합니다.

저장된 모델은 모델을 저장할 때의 학습 데이터를 나타냅니다. 나중에 파이프라인에 사용된 학습 데이터를 업데이트하면 저장된 모델이 업데이트되지 않습니다. 

### <a name="see-the-clustering-result-dataset"></a>클러스터링 결과 데이터 집합 보기 

[학습 클러스터링 모델](train-clustering-model.md) 모듈을 사용한 경우:

1. **[클러스터링 모델]** 모듈을 마우스 오른쪽 버튼으로 클릭합니다.

2. **시각화를 선택합니다.**

### <a name="tips-for-generating-the-best-clustering-model"></a>최상의 클러스터링 모델을 생성하기 위한 팁  

클러스터링 중에 사용되는 *시드* 프로세스가 모델에 큰 영향을 줄 수 있는 것으로 알려져 있습니다. 시드는 잠재적인 중심에 포인트의 초기 배치를 의미합니다.
 
예를 들어 데이터 집합에 많은 이상값이 포함되어 있고 이상값이 클러스터를 시드하도록 선택한 경우 다른 데이터 요소가 해당 클러스터에 잘 맞지 않으며 클러스터가 단일 데이터 요소가 될 수 있습니다. 즉, 1점만 있을 수 있습니다.  
  
다음과 같은 몇 가지 방법으로 이 문제를 방지할 수 있습니다.  
  
-   중심 수를 변경하고 여러 시드 값을 시도합니다.  
  
-   메트릭을 변경하거나 더 많은 모델을 반복하여 여러 모델을 만듭니다.  
  
일반적으로 클러스터링 모델의 경우 지정된 구성으로 인해 로컬로 최적화된 클러스터 집합이 생성될 수 있습니다. 즉, 모델에서 반환되는 클러스터 집합은 현재 데이터 포인트에만 적합하며 다른 데이터로일반화할 수 없습니다. 다른 초기 구성을 사용하는 경우 K-means 메서드는 다른 우수한 구성을 찾을 수 있습니다. 

## <a name="next-steps"></a>다음 단계

Azure 기계 학습에 사용할 수 있는 [모듈 집합을](module-reference.md) 참조하십시오. 
