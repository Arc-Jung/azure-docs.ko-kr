---
title: '데이터 분할: 모듈 참조'
titleSuffix: Azure Machine Learning
description: Azure Machine Learning에서 데이터 분할 모듈을 사용 하 여 데이터 집합을 두 개의 고유 집합으로 나누는 방법에 대해 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/22/2019
ms.openlocfilehash: 9eba6f2c47629b708dde4a5a2888b76dbd24b4e4
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/02/2020
ms.locfileid: "79455896"
---
# <a name="split-data-module"></a>분할 데이터 모듈

이 문서에서는 Azure Machine Learning 디자이너(미리 보기)의 모듈에 대해 설명합니다.

데이터 분할 모듈을 사용 하 여 데이터 집합을 두 개의 고유 집합으로 나눌 수 있습니다.

이 모듈은 데이터를 학습 집합과 테스트 집합으로 구분 해야 하는 경우에 유용 합니다. 데이터가 분할 되는 방식을 사용자 지정할 수도 있습니다. 일부 옵션은 데이터의 임의를 임의로 지원 합니다. 다른 항목은 특정 데이터 형식 또는 모델 형식에 맞게 조정 됩니다.

## <a name="configure-the-module"></a>모듈 구성

> [!TIP]
> 분할 모드를 선택 하기 전에 모든 옵션을 읽어 필요한 분할 유형을 결정 합니다.
> 분할 모드를 변경 하면 다른 모든 옵션을 다시 설정할 수 있습니다.

1. 디자이너에서 파이프라인에 **데이터 분할** 모듈을 추가 합니다. **샘플 및 분할** 범주의 **데이터 변환**에서이 모듈을 찾을 수 있습니다.

1. **분할 모드**: 보유 하 고 있는 데이터 형식 및 분할 방법에 따라 다음 모드 중 하나를 선택 합니다. 각 분할 모드에는 다른 옵션이 있습니다.

   - **행 분할**: 데이터를 두 부분으로 분할 하려는 경우이 옵션을 사용 합니다. 각 분할에 포함할 데이터의 비율을 지정할 수 있습니다. 기본적으로 데이터는 50/50로 나뉩니다.

     또한 각 그룹의 행 선택 영역을 임의로 선택 하 고 층 화 샘플링을 사용할 수 있습니다. 층 화 샘플링에서는 두 결과 데이터 집합에서 값을 동일 하 게 할당 하는 데이터의 단일 열을 선택 해야 합니다.  

   - **정규식 분할**: 값에 대 한 단일 열을 테스트 하 여 데이터 집합을 나누려면이 옵션을 선택 합니다.

     예를 들어 감정를 분석 하는 경우 텍스트 필드에 특정 제품 이름이 있는지 확인할 수 있습니다. 그런 다음 대상 제품 이름 없이 대상 제품 이름과 행으로 데이터 집합을 나눌 수 있습니다.

   - **상대 식 분할**: 숫자 열에 조건을 적용 하려는 경우 언제 든 지이 옵션을 사용 합니다. 이 수는 날짜/시간 필드, 나이 또는 달러 금액을 포함 하는 열 또는 백분율이 될 수 있습니다. 예를 들어 항목의 비용을 기준으로 데이터 집합을 분할 하거나, 나이 범위를 기준으로 사용자를 그룹화 하거나, 달력 날짜별로 데이터를 구분할 수 있습니다.

### <a name="split-rows"></a>행 분할

1. 디자이너에서 [데이터 분할](./split-data.md) 모듈을 파이프라인에 추가 하 고 분할 하려는 데이터 집합을 연결 합니다.
  
1. **분할 모드**의 경우 **행 분할**을 선택 합니다. 

1. **첫 번째 출력 데이터 집합의 행 비율**:이 옵션을 사용 하 여 첫 번째 (왼쪽) 출력으로 이동할 행 수를 결정 합니다. 다른 모든 행은 두 번째 (오른쪽) 출력으로 이동 합니다.

   비율은 첫 번째 출력 데이터 집합으로 전송 되는 행의 백분율을 나타내므로 0에서 1 사이의 10 진수를 입력 해야 합니다.
     
   예를 들어 값으로 **0.75** 를 입력 하는 경우 데이터 집합은 분할 75/25이 됩니다. 이 분할에서 행의 75%가 첫 번째 출력 데이터 집합으로 전송 됩니다. 나머지 25%는 두 번째 출력 데이터 집합으로 전송 됩니다.
  
1. 두 그룹의 데이터 선택 영역을 임의로 선택 하려면 **임의 분할** 옵션을 선택 합니다. 이 옵션은 학습 및 테스트 데이터 집합을 만들 때 선호 되는 옵션입니다.

1. **임의 초기값**: 사용할 인스턴스의 의사 난수 시퀀스를 시작 하려면 음수가 아닌 정수 값을 입력 합니다. 이 기본 초기값은 난수를 생성하는 모든 모듈에서 사용됩니다. 

   초기값을 지정 하면 결과를 재현할 수 있습니다. 분할 작업의 결과를 반복 해야 하는 경우 난수 생성기의 초기값을 지정 해야 합니다. 그렇지 않으면 임의 초기값은 기본적으로 **0**으로 설정 됩니다. 즉, 시스템 클록에서 초기 초기값을 가져옵니다. 따라서 분할을 수행할 때마다 데이터 분포가 약간씩 달라질 수 있습니다. 

1. **층 화 split**:이 옵션을 **True** 로 설정 하면 두 출력 데이터 집합에 *층 열* 또는 *층 화 key 열의*값에 대 한 대표적인 예제가 포함 됩니다. 

   층 화 샘플링을 사용 하면 각 출력 데이터 집합이 각 대상 값의 비율을 대략적으로 차지 하도록 데이터를 구분 합니다. 예를 들어 결과 또는 다른 열 (예: 성별)과 관련 하 여 교육 및 테스트 집합이 대략적으로 균형을 유지 하도록 할 수 있습니다.

1. 파이프라인을 제출합니다.


## <a name="select-a-regular-expression"></a>정규식 선택

1. [분할 데이터](./split-data.md) 모듈을 파이프라인에 추가 하 고이를 분할 하려는 데이터 집합에 대 한 입력으로 연결 합니다.  
  
1. **분할 모드**의 경우 **정규식 분할**을 선택 합니다.

1. **정규식** 상자에 유효한 정규식을 입력 합니다. 
  
   정규식은 정규식에 대 한 Python 구문을 따라야 합니다.

1. 파이프라인을 제출합니다.

   사용자가 제공 하는 정규식에 따라 데이터 집합은 두 개의 행 집합 (식과 일치 하는 값이 있는 행과 나머지 모든 행)으로 나뉩니다. 

다음 예제에서는 **정규식** 옵션을 사용 하 여 데이터 집합을 분할 하는 방법을 보여 줍니다. 

### <a name="single-whole-word"></a>한 단어 단위로 

이 예에서는 열에 텍스트가 포함 된 모든 행을 첫 번째 데이터 집합에 배치 합니다 `Gryphon` `Text` . **분할 된 데이터**의 두 번째 출력에 다른 행을 배치 합니다.

```text
    \"Text" Gryphon  
```

### <a name="substring"></a>Substring

이 예에서는 데이터 집합의 두 번째 열에 있는 임의의 위치에서 지정 된 문자열을 검색 합니다. 위치는 인덱스 값 1로 표시 됩니다. 일치 항목 찾기에서는 대/소문자를 구분합니다.

```text
(\1) ^[a-f]
```

첫 번째 결과 데이터 집합에는 인덱스 열이 `a` , `b` , `c` ,, `d` `e` , `f` 문자 중 하나로 시작 하는 모든 행이 포함 됩니다. 다른 모든 행은 두 번째 출력으로 전송 됩니다.

## <a name="select-a-relative-expression"></a>상대 식 선택

1. [분할 데이터](./split-data.md) 모듈을 파이프라인에 추가 하 고이를 분할 하려는 데이터 집합에 대 한 입력으로 연결 합니다.
  
1. **분할 모드**의 경우 **상대 식**을 선택 합니다.
  
1. **관계형 식** 상자에 단일 열에 대 한 비교 연산을 수행 하는 식을 입력 합니다.

   **숫자 열의**경우:
   - 열에는 날짜 및 시간 데이터 형식을 포함 하 여 숫자 데이터 형식의 숫자가 포함 됩니다.
   - 식은 최대 하나의 열 이름을 참조할 수 있습니다.
   - `&`및 작업에는 앰퍼샌드 문자를 사용 합니다. 또는 작업에 대해 파이프 문자를 사용 합니다 `|` .
   - 지원 되는 연산자는 `<` , `>` ,, `<=` , `>=` `==` , `!=` 입니다.
   - 및를 사용 하 여 작업을 그룹화 할 수 없습니다 `(` `)` .
   
   **문자열 열의**경우:
   - 다음 연산자가 지원 됩니다. `==` , `!=` .

1. 파이프라인을 제출합니다.

   이 표현식은 데이터 집합을 두 개의 행 집합(조건에 맞는 값이 있는 행과 나머지 모든 행)으로 나눕니다.

다음 예에서는 **데이터 분할** 모듈의 **상대 식** 옵션을 사용 하 여 데이터 집합을 나누는 방법을 보여 줍니다.  

### <a name="calendar-year"></a>달력 연도

연도별로 데이터 집합을 나누는 것이 일반적인 시나리오입니다. 다음 식에서는 열의 값이 보다 큰 모든 행을 선택 합니다 `Year` `2010` .

```text
\"Year" > 2010
```

날짜 식은 데이터 열에 포함 된 모든 날짜 부분을 고려해 야 합니다. 데이터 열의 날짜 형식이 일치 해야 합니다. 

예를 들어 형식을 사용 하는 날짜 열에서 `mmddyyyy` 식은 다음과 같아야 합니다.

```text
\"Date" > 1/1/2010
```

### <a name="column-index"></a>열 인덱스

다음 식은 열 인덱스를 사용하여 30 이하이지만 20과는 같지 않은 값이 포함된 데이터 집합의 첫 번째 열에 있는 모든 행을 선택하는 방법을 보여 줍니다.

```text
(\0)<=30 & !=20
```


## <a name="next-steps"></a>다음 단계

Azure Machine Learning에서 [사용 가능한 모듈 세트](module-reference.md)를 참조하세요. 
