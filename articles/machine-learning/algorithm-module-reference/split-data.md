---
title: '분할 데이터: 모듈 참조'
titleSuffix: Azure Machine Learning
description: Azure 기계 학습에서 데이터 분할 모듈을 사용하여 데이터 집합을 두 개의 별개의 집합으로 나누는 방법을 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/22/2019
ms.openlocfilehash: 9eba6f2c47629b708dde4a5a2888b76dbd24b4e4
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/28/2020
ms.locfileid: "79455896"
---
# <a name="split-data-module"></a>데이터 분할 모듈

이 문서에서는 Azure 기계 학습 디자이너(미리 보기)의 모듈에 대해 설명합니다.

데이터 분할 모듈을 사용하여 데이터 집합을 두 개의 별개의 집합으로 나눕니다.

이 모듈은 데이터를 학습 및 테스트 집합으로 분리해야 할 때 유용합니다. 데이터를 분할하는 방법을 사용자 지정할 수도 있습니다. 일부 옵션은 데이터의 무작위화를 지원합니다. 다른 것들은 특정 데이터 유형 또는 모델 유형에 맞게 조정됩니다.

## <a name="configure-the-module"></a>모듈 구성

> [!TIP]
> 분할 모드를 선택하기 전에 모든 옵션을 읽고 필요한 분할 유형을 결정합니다.
> 분할 모드를 변경하면 다른 모든 옵션이 재설정될 수 있습니다.

1. 디자이너의 파이프라인에 **데이터 분할** 모듈을 추가합니다. 이 모듈은 **데이터 변환,** **샘플 및 분할** 범주에서 찾을 수 있습니다.

1. **분할 모드**: 가지고 있는 데이터의 유형과 분할 방법에 따라 다음 모드 중 하나를 선택합니다. 분할 모드마다 다른 옵션이 있습니다.

   - **행 분할**: 데이터를 두 부분으로 나누려면 이 옵션을 사용합니다. 각 분할에 넣을 데이터의 백분율을 지정할 수 있습니다. 기본적으로 데이터는 50/50으로 나뉩니다.

     또한 각 그룹의 행 선택을 임의화하고 계층화된 샘플링을 사용할 수도 있습니다. 계층화된 샘플링에서 두 결과 데이터 집합 간에 값을 균등하게 분배할 단일 데이터 열을 선택해야 합니다.  

   - **정규 식 분할**: 값에 대한 단일 열을 테스트하여 데이터 집합을 분할하려는 경우 이 옵션을 선택합니다.

     예를 들어 감정을 분석하는 경우 텍스트 필드에 특정 제품 이름이 있는지 확인할 수 있습니다. 그런 다음 대상 제품 이름 없이 대상 제품 이름과 행을 사용하여 데이터 집합을 행으로 나눌 수 있습니다.

   - **상대 표현식 분할**: 숫자 열에 조건을 적용할 때마다 이 옵션을 사용합니다. 숫자는 날짜/시간 필드, 연령 또는 달러 금액이 포함된 열 또는 백분율일 수 있습니다. 예를 들어 항목 의 비용을 기준으로 데이터 집합을 분할하거나, 연령대별로 사람을 그룹화하거나, 데이터를 달력 날짜별로 구분할 수 있습니다.

### <a name="split-rows"></a>분할 행

1. 디자이너의 파이프라인에 [데이터 분할](./split-data.md) 모듈을 추가하고 분할할 데이터 집합을 연결합니다.
  
1. **분할 모드의**경우 **행 분할을**선택합니다. 

1. **첫 번째 출력 데이터 집합의 행 분수**: 이 옵션을 사용하여 첫 번째(왼쪽) 출력으로 이동하는 행 수를 결정합니다. 다른 모든 행은 두 번째(오른쪽) 출력으로 이동합니다.

   이 비율은 첫 번째 출력 데이터 집합에 전송된 행의 백분율을 나타내므로 0과 1 사이의 소수수를 입력해야 합니다.
     
   예를 들어 **0.75를** 값으로 입력하면 데이터 집합이 75/25로 분할됩니다. 이 분할에서는 행의 75%가 첫 번째 출력 데이터 집합으로 전송됩니다. 나머지 25%는 두 번째 출력 데이터 집합으로 전송됩니다.
  
1. 데이터 선택을 두 그룹으로 무작위화하려면 **임의 분할** 옵션을 선택합니다. 이 옵션은 학습 및 테스트 데이터 집합을 만들 때 선호되는 옵션입니다.

1. **랜덤 시드**: 비음수 정수 값을 입력하여 사용할 인스턴스의 의사 임의 시퀀스를 시작합니다. 이 기본 초기값은 난수를 생성하는 모든 모듈에서 사용됩니다. 

   시드를 지정하면 결과를 재현할 수 있습니다. 분할 작업의 결과를 반복해야 하는 경우 난수 생성기의 시드를 지정해야 합니다. 그렇지 않으면 임의 시드가 기본적으로 **0으로**설정되므로 초기 시드 값이 시스템 클럭에서 가져온 것입니다. 따라서 분할을 수행할 때마다 데이터 분포가 약간씩 달라질 수 있습니다. 

1. **계층화 분할**: 두 출력 데이터 집합에 *계층 열* 또는 *계층화 키 열에*있는 값의 대표 샘플이 포함되도록 이 옵션을 **True로** 설정합니다. 

   계층화된 샘플링을 사용하면 각 출력 데이터 집합이 각 대상 값의 대략 동일한 백분율을 얻게 되도록 데이터가 분할됩니다. 예를 들어 교육 및 테스트 세트가 결과 또는 성별과 같은 다른 열과 관련하여 대략균형을 이루도록 할 수 있습니다.

1. 파이프라인을 제출합니다.


## <a name="select-a-regular-expression"></a>정규 표현식 선택

1. 데이터 [분할](./split-data.md) 모듈을 파이프라인에 추가하고 분할하려는 데이터 집합에 입력으로 연결합니다.  
  
1. **분할 모드의**경우 **정규식 분할을**선택합니다.

1. **정규식** 상자에 유효한 정규식을 입력합니다. 
  
   정규식은 정규식에 대해 파이썬 구문을 따라야 합니다.

1. 파이프라인을 제출합니다.

   제공한 정규식에 따라 데이터 집합은 식과 나머지 모든 행과 일치하는 값이 있는 행의 두 행 집합으로 나뉩니다. 

다음 예제에서는 **정규식** 옵션을 사용하여 데이터 집합을 분할하는 방법을 보여 줍니다. 

### <a name="single-whole-word"></a>단일 전체 단어 

이 예제에서는 열의 `Gryphon` `Text`텍스트를 포함하는 모든 행을 첫 번째 데이터 집합에 넣습니다. 다른 행을 **분할 데이터의**두 번째 출력에 넣습니다.

```text
    \"Text" Gryphon  
```

### <a name="substring"></a>Substring

이 예제에서는 데이터 집합의 두 번째 열 내의 모든 위치에서 지정된 문자열을 찾습니다. 위치는 인덱스 값 1로 표시됩니다. 일치 항목 찾기에서는 대/소문자를 구분합니다.

```text
(\1) ^[a-f]
```

첫 번째 결과 데이터 집합에는 인덱스 열이 이러한 문자 `a` `b`중 `c` `d`하나로 `e` `f`시작하는 모든 행이 포함됩니다. 다른 모든 행은 두 번째 출력으로 이동합니다.

## <a name="select-a-relative-expression"></a>상대 식 선택

1. 데이터 [분할](./split-data.md) 모듈을 파이프라인에 추가하고 분할하려는 데이터 집합에 입력으로 연결합니다.
  
1. **분할 모드의**경우 **상대 식을 선택합니다.**
  
1. **관계식** 상자에 단일 열에서 비교 작업을 수행하는 식을 입력합니다.

   **숫자 열의**경우 :
   - 열에는 날짜 및 시간 데이터 형식을 비롯한 숫자 데이터 형식의 숫자가 포함됩니다.
   - 식은 최대 하나의 열 이름을 참조할 수 있습니다.
   - AND 작업에 대해 앰퍼샌드 문자, `&`을 사용합니다. OR 작업에 대해 `|`파이프 문자(을 사용)를 사용합니다.
   - 다음 연산자는 `<`지원됩니다. `<=` `>=` `==` `!=` `>`
   - 을 `(` `)`사용하여 작업을 그룹화할 수 없습니다.
   
   **문자열 열의**경우 :
   - 다음 연산자가 `==`지원됩니다. `!=`

1. 파이프라인을 제출합니다.

   이 표현식은 데이터 집합을 두 개의 행 집합(조건에 맞는 값이 있는 행과 나머지 모든 행)으로 나눕니다.

다음 예제에서는 **데이터 분할** 모듈에서 상대 **표현식** 옵션을 사용하여 데이터 집합을 분할하는 방법을 보여 줍니다.  

### <a name="calendar-year"></a>달력 연도

연도별로 데이터 집합을 나누는 것이 일반적인 시나리오입니다. 다음 식에서는 열의 `Year` 값이 보다 `2010`큰 모든 행을 선택합니다.

```text
\"Year" > 2010
```

날짜 표현식은 데이터 열에 포함된 모든 날짜 부분을 고려해야 합니다. 데이터 열의 날짜 형식은 일치해야 합니다. 

예를 들어 형식을 `mmddyyyy`사용하는 date 열에서 식은 다음과 같아야 합니다.

```text
\"Date" > 1/1/2010
```

### <a name="column-index"></a>열 인덱스

다음 식은 열 인덱스를 사용하여 30 이하이지만 20과는 같지 않은 값이 포함된 데이터 집합의 첫 번째 열에 있는 모든 행을 선택하는 방법을 보여 줍니다.

```text
(\0)<=30 & !=20
```


## <a name="next-steps"></a>다음 단계

Azure 기계 학습에 사용할 수 있는 [모듈 집합을](module-reference.md) 참조하십시오. 
