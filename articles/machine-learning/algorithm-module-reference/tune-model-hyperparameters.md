---
title: 모델 하이퍼 매개 변수 튜닝
titleSuffix: Azure Machine Learning
description: Azure 기계 학습에서 모델 하이퍼매개 변수 조정 모듈을 사용하여 모델에서 매개 변수 스윕을 수행하여 최적의 매개 변수 설정을 결정하는 방법을 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/11/2020
ms.openlocfilehash: ff0ccbf201f2b83dd446859d8054d115a70f402e
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/28/2020
ms.locfileid: "80064170"
---
# <a name="tune-model-hyperparameters"></a>모델 하이퍼 매개 변수 튜닝

이 문서에서는 Azure 기계 학습 디자이너(미리 보기)에서 모델 하이퍼매개 변수 조정 모듈을 사용하는 방법을 설명합니다. 목표는 기계 학습 모델에 대한 최적의 하이퍼 매개 변수를 결정하는 것입니다. 모듈은 서로 다른 설정 조합을 사용하여 여러 모델을 빌드하고 테스트합니다. 모든 모델에 대한 메트릭을 비교하여 설정 조합을 가져옵니다. 

매개 *변수* 및 *하이퍼 매개 변수* 용어는 혼동될 수 있습니다. 모델의 *매개 변수는* 모듈의 오른쪽 창에 설정한 매개 변수입니다. 기본적으로 이 모듈은 지정된 매개 변수 설정에 대한 *매개 변수 스윕을* 수행합니다. 각 특정 의사 결정 트리, 데이터 집합 또는 회귀 메서드에 대해 다를 수 있는 _최적의 하이퍼매개 변수_집합을 학습합니다. 최적의 구성을 찾는 프로세스를 *튜닝이라고도*합니다. 

이 모듈은 모델에 대한 최적의 설정을 찾는 다음 방법을 지원합니다: *통합 열차 및 튜닝.* 이 메서드에서는 사용할 매개 변수 집합을 구성 합니다. 그런 다음 모듈이 여러 조합을 반복하도록 합니다. 모듈은 "최적" 모델을 찾을 때까지 정확도를 측정합니다. 대부분의 학습자 모듈에서는 학습 프로세스 중에 변경할 매개 변수와 고정된 상태를 유지해야 하는 매개 변수를 선택할 수 있습니다.

튜닝 프로세스를 실행하는 데 걸리는 길이에 따라 모든 조합을 철저하게 테스트할 수 있습니다. 또는 매개 변수 조합의 그리드를 설정하고 매개 변수 그리드의 무작위 하위 집합을 테스트하여 프로세스를 단축할 수 있습니다.

이 메서드는 다시 사용할 수 있도록 저장할 수 있는 학습된 모델을 생성합니다.  

> [!TIP] 
> 관련 작업을 수행할 수 있습니다. 튜닝을 시작하기 전에 피처 선택을 적용하여 정보 값이 가장 높은 열 또는 변수를 결정합니다.

## <a name="how-to-configure-tune-model-hyperparameters"></a>모델 하이퍼매개 변수 조정을 구성하는 방법  

기계 학습 모델에 대한 최적의 하이퍼매개 변수를 학습하려면 파이프라인을 상당히 사용해야 합니다.

### <a name="train-a-model-by-using-a-parameter-sweep"></a>매개변수 스윕을 사용하여 모델 학습  

이 섹션에서는 모델 하이퍼매개 변수 조정 모듈을 사용하여 모델을 훈련시키는 기본 매개 변수 스윕을 수행하는 방법에 대해 설명합니다.

1.  디자이너의 파이프라인에 모델 하이퍼매개 변수 조정 모듈을 추가합니다.

2.  학습되지 않은 모델을 가장 왼쪽 입력에 연결합니다. 



4.  학습에 사용할 데이터 집합을 추가하고 모델 하이퍼매개 변수 조정의 중간 입력에 연결합니다.  

    선택적으로 태그가 지정된 데이터 집합이 있는 경우 가장 오른쪽 입력**포트(선택적 유효성 검사 데이터 집합)에**연결할 수 있습니다. 이를 통해 교육 및 튜닝 하는 동안 정확도를 측정할 수 있습니다.

5.  모델 하이퍼매개 변수 조정의 오른쪽 패널에서 **매개 변수 스위핑 모드에**대한 값을 선택합니다. 이 옵션은 매개 변수를 선택한 방법을 제어합니다.

    - **전체 그리드**: 이 옵션을 선택하면 모듈이 시스템에서 미리 정의된 그리드를 반복하여 다른 조합을 시도하고 최상의 학습기를 식별합니다. 이 옵션은 최상의 매개 변수 설정이 무엇인지 모르고 가능한 모든 값 조합을 시도하려는 경우에 유용합니다.

    - **랜덤 스윕**: 이 옵션을 선택하면 모듈이 시스템 정의 범위에서 매개 변수 값을 임의로 선택합니다. 모듈을 실행할 최대 실행 수를 지정해야 합니다. 이 옵션은 선택한 메트릭을 사용하여 모델 성능을 향상시키고 컴퓨팅 리소스를 보존하려는 경우에 유용합니다.    

6.  **레이블 열의**경우 열 선택기를 열어 단일 레이블 열을 선택합니다.

7.  실행 횟수를 선택합니다.

    1. **임의 스윕에서실행 횟수**: 임의 스윕을 선택하는 경우 매개 변수 값의 임의 조합을 사용하여 모델을 학습할 횟수를 지정할 수 있습니다.

8.  **순위의**경우 모델 순위에 사용할 단일 메트릭을 선택합니다.

    매개 변수 스윕을 실행하면 모듈은 모델 유형에 적용되는 모든 메트릭을 계산하고 **스윕 결과** 보고서에서 반환합니다. 이 모듈은 회귀 및 분류 모델에 대해 별도의 메트릭을 사용합니다.

    그러나 선택한 메트릭에 따라 모델의 순위가 결정됩니다. 선택한 메트릭에 의해 순위가 매겨진 상위 모델만 점수 매기기위해 사용할 학습된 모델로 출력됩니다.

9.  **임의 시드의**경우 매개 변수 스윕을 시작하는 데 사용할 숫자를 입력합니다. 

10. 파이프라인을 제출합니다.

## <a name="results-of-hyperparameter-tuning"></a>하이퍼매개 변수 튜닝 결과

교육이 완료되면:

+ 최상의 모델에 대한 정확도 메트릭 집합을 보려면 모듈을 마우스 오른쪽 단추로 클릭한 다음 **시각화를**선택합니다.

    출력에는 모델 유형에 적용되는 모든 정확도 메트릭이 포함되지만 순위를 위해 선택한 메트릭에 따라 어떤 모델이 "최선"으로 간주됩니다.

+ 학습된 모델의 스냅샷을 저장하려면 **학습 모델** 모듈의 오른쪽 패널에서 **출력** 탭을 선택합니다. 모델을 재사용 가능한 모듈로 저장하려면 **데이터 집합 등록** 아이콘을 선택합니다.


## <a name="technical-notes"></a>기술 정보

이 섹션에는 구현 세부 정보 및 팁이 포함되어 있습니다.

### <a name="how-a-parameter-sweep-works"></a>매개변수 스윕 작동 방식

매개 변수 스윕을 설정하면 검색 범위를 정의합니다. 검색에서 임의로 선택한 매개 변수의 수를 사용할 수 있습니다. 또는 정의한 매개 변수 공간에 대한 철저한 검색일 수 있습니다.

+ **임의 스윕**: 이 옵션은 설정된 횟수의 반복을 사용하여 모델을 훈련시바입니다. 

  반복할 값 범위를 지정하면 모듈에서 임의로 선택한 해당 값 하위 집합을 사용합니다. 값은 대체값으로 선택되므로 이전에 임의로 선택한 숫자는 사용 가능한 숫자 풀에서 제거되지 않습니다. 따라서 선택되는 값의 기회는 모든 가공 패스에서 동일하게 유지됩니다.  

+ **전체 그리드**: 전체 그리드를 사용하는 옵션은 모든 조합이 테스트된다는 것을 의미합니다. 이 옵션은 가장 철저하지만 가장 많은 시간이 필요합니다. 

### <a name="controlling-the-length-and-complexity-of-training"></a>교육의 길이와 복잡성 제어

여러 설정 조합을 반복하는 것은 시간이 오래 걸릴 수 있으므로 모듈은 프로세스를 제한하는 여러 가지 방법을 제공합니다.

+ 모델을 테스트하는 데 사용되는 반복 수를 제한합니다.
+ 매개 변수 공간을 제한합니다.
+ 반복 횟수와 매개 변수 공간을 모두 제한합니다.

특정 데이터 집합 및 모델에 대한 가장 효율적인 학습 방법을 결정하기 위해 설정을 사용하여 파이프라인을 사용하는 것이 좋습니다.

### <a name="choosing-an-evaluation-metric"></a>평가 메트릭 선택

테스트가 끝나면 모델은 메트릭 결과를 검토할 수 있도록 각 모델의 정확도가 포함된 보고서를 제공합니다.

- 모든 이진 분류 모델에 는 균일한 메트릭 집합이 사용됩니다.
- 정확도는 모든 다중 클래스 분류 모델에 사용됩니다.
- 회귀 모델에는 다른 메트릭 집합이 사용됩니다. 

그러나 교육 중에 튜닝 프로세스 중에 생성된 모델의 순위를 매기 위해 *사용할 단일* 메트릭을 선택해야 합니다. 비즈니스 문제 및 거짓 긍정 및 거짓 부정 평가 비용에 따라 최상의 메트릭이 달라질 수 있습니다.

#### <a name="metrics-used-for-binary-classification"></a>이진 분류에 사용되는 메트릭

-   **정확도는** 실제 결과의 비율과 총 사례의 비율입니다.  

-   **정밀도는** 실제 결과의 비율과 긍정적인 결과의 비율입니다.  

-   **리콜은** 모든 결과에 대한 모든 올바른 결과의 일부입니다.  

-   **F 점수는** 정밀도와 리콜의 균형을 맞추는 척도입니다.  

-   **AUC는** 가양성이 x축에 플롯되고 참 긍정이 y축에 플롯될 때 곡선 아래의 영역을 나타내는 값입니다.  

-   **평균 로그 손실은** 두 확률 분포의 차이입니다: 실제 분포와 모델의 분포입니다.  

#### <a name="metrics-used-for-regression"></a>회귀에 사용되는 메트릭

-   **평균 절대 오차는** 모델의 모든 오류를 평균화하며, *여기서 오차는* 실제 값에서 예측된 값의 거리를 의미합니다. 그것은 종종 *MAE로*축약 .  

-   **평균 제곱 오차의 루트는** 오류의 제곱의 평균을 측정한 다음 해당 값의 루트를 취합니다. 종종 *RMSE로*축약됩니다.  

-   **상대 절대 오차는** 오류를 실제 값의 백분율로 나타냅니다.  

-   **상대 제곱 오차는** 예측 된 값의 총 제곱 오차로 나누어 총 제곱 오류를 정규화합니다.  

-   **결정 계수는** 데이터가 모델에 얼마나 잘 맞는지를 나타내는 단일 숫자입니다. 값이 1이면 모델이 데이터와 정확히 일치한다는 의미입니다. 값이 0이면 데이터가 임의이거나 모델에 맞지 않을 수 있음을 의미합니다. 그것은 종종 *r<sup>2,</sup>* *R<sup>2</sup>*, 또는 *R 제곱이라고합니다.*  

### <a name="modules-that-dont-support-a-parameter-sweep"></a>매개 변수 스윕을 지원하지 않는 모듈

Azure Machine Learning의 거의 모든 학습자는 통합된 매개 변수 스윕을 사용하여 교차 유효성 검사를 지원하므로 파이프라인에 대한 매개 변수를 선택할 수 있습니다. 수강생이 값 범위 설정을 지원하지 않는 경우에도 교차 유효성 검사에 사용할 수 있습니다. 이 경우 스윕에 대해 허용된 값 범위가 선택됩니다. 


## <a name="next-steps"></a>다음 단계

Azure 기계 학습에 사용할 수 있는 [모듈 집합을](module-reference.md) 참조하십시오. 

