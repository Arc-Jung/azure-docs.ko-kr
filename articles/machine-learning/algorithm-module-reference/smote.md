---
title: SMOTE
titleSuffix: Azure Machine Learning
description: Azure Machine Learning에서 SMOTE 모듈을 사용 하 여 과다 샘플링를 사용 하 여 데이터 집합에서 낮은 수준의 예제 수를 늘리는 방법에 대해 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/16/2019
ms.openlocfilehash: ed6d9e86143c3a5d6c97c4bd92a07c258bbd1bbc
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/02/2020
ms.locfileid: "79477462"
---
# <a name="smote"></a>SMOTE

이 문서에서는 Azure Machine Learning designer (미리 보기)에서 SMOTE 모듈을 사용 하 여 기계 학습에 사용 되는 데이터 집합에서 가장 많이 표시 되는 사례 수를 늘리는 방법을 설명 합니다. SMOTE는 단순히 기존 사례를 복제 하는 것 보다 드물게 발생 하는 사례 수를 늘릴 수 있는 좋은 방법입니다.  

SMOTE 모듈을 *불균형*데이터 집합에 연결 합니다. 데이터 집합이 불균형 하 게 분산 되는 이유는 여러 가지가 있습니다. 예를 들어 대상으로 하는 범주가 모집단에서 드물게 발생 하거나 데이터를 수집 하기가 어려울 수 있습니다. 일반적으로는 분석할 *클래스가* 가장 적게 표시 될 때 SMOTE를 사용 합니다. 
  
모듈은 원래 샘플이 포함 된 데이터 집합을 반환 합니다. 또한 지정한 백분율에 따라 많은 수의 가상 소주주 샘플을 반환 합니다.  
  
## <a name="more-about-smote"></a>SMOTE에 대 한 자세한 정보

SMOTE (가상 과다 샘플링 기술)는 데이터 집합의 사례 수를 분산 된 방식으로 늘릴 수 있는 통계 기술입니다. 모듈은 입력으로 제공 하는 기존 소주주 사례에서 새 인스턴스를 생성 하는 방식으로 작동 합니다. 이 SMOTE 구현은 대다수 사례 수를 변경 *하지* 않습니다.

새 인스턴스는 기존의 소주주 케이스의 복사본 일 뿐입니다. 대신 알고리즘은 각 대상 클래스와 가장 인접 한 환경에 대 한 *기능 공간의* 샘플을 사용 합니다. 그런 다음 알고리즘은 대상 사례의 기능을 이웃의 기능과 결합 하는 새 예제를 생성 합니다. 이 방법을 사용하면 각 클래스에 사용할 수 있는 기능이 증가하고 샘플이 더 일반적이게 됩니다.
  
SMOTE는 전체 데이터 집합을 입력으로 사용 하지만, 소주주 사례의 백분율이 늘어납니다. 예를 들어 사례의 1%가 대상 값 A (소수 클래스)를 가지 며 사례의 99%가 값 B를 갖는 불균형 분산 된 데이터 집합이 있다고 가정 합니다. 소수 사례의 비율을 이전 백분율의 두 배 이상으로 늘리려면 모듈의 속성에서 **SMOTE 비율** 에 대해 **200** 을 입력 합니다.  
  
## <a name="examples"></a>예  

적은 수의 데이터 집합에서 SMOTE를 사용하여 작동 방식을 확인하는 것이 좋습니다. 다음 예제에서는 Azure Machine Learning 디자이너에서 사용할 수 있는 블러드 기부 데이터 집합을 사용 합니다.
  
파이프라인에 데이터 집합을 추가 하 고 데이터 집합의 출력에서 **시각화** 를 선택 하는 경우 데이터 집합의 748 행 또는 사례 중 570 사례 (76%)가 클래스 0이 고 178 사례 (24%)는 클래스 1입니다. 이 결과는 그다지 균형이 맞지 않지만 클래스 1은 블러드를 기부 하는 사용자를 나타내므로 이러한 행에는 모델링할 *기능 공간이* 포함 됩니다.
 
사례 수를 늘리려면 다음과 같이 100의 배수를 사용 하 여 **SMOTE 비율**값을 설정할 수 있습니다.

||클래스 0|클래스 1|total|  
|-|-------------|-------------|-----------|  
|원래 데이터 집합<br /><br /> **SMOTE 백분율**  =  에 해당 합니다. **0**)|570<br /><br /> 76%|178<br /><br /> 24|748|  
|**SMOTE 백분율**  =  **100**|570<br /><br /> 62%|356<br /><br /> 38%|926|  
|**SMOTE 백분율**  =  **200**|570<br /><br /> 52%|534<br /><br /> 48%|1,104|  
|**SMOTE 백분율**  =  **300**|570<br /><br /> 44%|712<br /><br /> 56%|1282|  
  
> [!WARNING]
> SMOTE를 사용 하 여 사례 수를 늘릴 경우 보다 정확한 모델을 생성 하는 것은 보장 되지 않습니다. 다른 백분율, 다양 한 기능 집합 및 가장 인접 한 항목 수를 사용 하 여 파이프라인을 사용해 보고 사례를 추가 하 여 모델에 미치는 영향을 확인 합니다.  
  
## <a name="how-to-configure-smote"></a>SMOTE를 구성 하는 방법
  
1.  SMOTE 모듈을 파이프라인에 추가 합니다. **데이터 변환 모듈**의 **조작** 범주에서 모듈을 찾을 수 있습니다.

2. 향상 시키려는 데이터 집합을 연결 합니다. 특정 열만 사용 하거나 일부를 제외 하 여 새 사례를 빌드하기 위한 기능 공간을 지정 하려면 [데이터 집합의 열 선택](select-columns-in-dataset.md) 모듈을 사용 합니다. 그런 다음 SMOTE를 사용 하기 전에 사용 하려는 열을 격리할 수 있습니다.
  
    그렇지 않으면 SMOTE를 통해 새 사례를 만드는 것은 입력으로 제공 하는 *모든* 열을 기반으로 합니다. 기능 열의 열이 하나 이상 숫자입니다.
  
3.  레이블 또는 대상 클래스를 포함 하는 열이 선택 되어 있는지 확인 합니다. SMOTE는 이진 레이블만 허용 합니다.
  
4.  SMOTE 모듈은 레이블 열에서 소주주 클래스를 자동으로 식별 한 다음, 해당 클래스에 대 한 모든 예제를 가져옵니다. 모든 열은 NaN 값을 가질 수 없습니다.
  
5.  **SMOTE 비율** 옵션에서 출력 데이터 집합에 있는 소수 사례의 대상 백분율을 나타내는 정수를 입력 합니다. 예를 들어:  
  
    - **0**을 입력 합니다. SMOTE 모듈은 입력으로 제공한 것과 정확히 동일한 데이터 집합을 반환 합니다. 새 소주주 사례를 추가 하지 않습니다. 이 데이터 집합에서 클래스 비율은 변경 되지 않았습니다.  
  
    - **100**을 입력 합니다. SMOTE 모듈은 새로운 소주주 사례를 생성 합니다. 원래 데이터 집합에 있던 것과 동일한 수의 소주주 사례를 추가 합니다. SMOTE는 대다수 사례 수를 늘리지 않으므로 각 클래스의 대/소문자 비율이 변경 되었습니다.  
  
    - **200**을 입력 합니다. 모듈은 원래 데이터 집합에 비해 소주주 사례의 백분율을 두 배로 늘립니다. 이로 인해 전 처럼 두 번의 소주주 사례가 두 배가 *되지* 않습니다. 대신, 대다수 사례 수가 동일 하 게 유지 되는 방식으로 데이터 집합의 크기가 증가 합니다. 소수 사례의 수는 원하는 백분율 값과 일치할 때까지 증가 합니다.  
  
    > [!NOTE]
    > SMOTE 백분율에 대해 100의 배수를 사용 합니다.

6.  SMOTE 알고리즘이 새 사례를 만들 때 사용 하는 기능 공간의 크기를 확인 하려면 **가장 인접 한 이웃 수** 옵션을 사용 합니다. 가장 인접 한 항목은 대상 사례와 유사한 데이터 행 (사례)입니다. 두 사례 사이의 거리는 가중치가 적용된 모든 기능의 벡터를 결합하여 측정됩니다.  
  
    + 가장 인접 한 이웃 수를 늘려서 더 많은 사례에서 기능을 얻을 수 있습니다.
    + 가장 인접 한 이웃의 수를 낮게 유지 하면 원래 샘플의 기능과 매우 유사한 기능을 사용할 수 있습니다.  
  
7. 동일한 파이프라인의 실행에 대해 동일한 데이터를 사용 하 여 동일한 결과를 확인 하려는 경우 **임의 초기값** 상자에 값을 입력 합니다. 그렇지 않으면 모듈이 파이프라인을 배포할 때 프로세서 클록 값을 기준으로 임의 초기값을 생성 합니다. 임의 초기값을 생성 하면 실행에 대해 약간 다른 결과가 발생할 수 있습니다.

8. 파이프라인을 제출합니다.  
  
   모듈의 출력은 원래 행을 포함 하는 데이터 집합과 소수 사례가 포함 된 많은 수의 추가 된 행을 포함 합니다.  

## <a name="technical-notes"></a>기술 정보

+ **SMOTE** 모듈을 사용 하는 모델을 게시 하는 경우 예측 파이프라인에서 **SMOTE** 를 제거 하 여 웹 서비스로 게시 합니다. 그 이유는 SMOTE가 학습 중에 모델을 향상 시키기 위한 것이 고 점수 매기기에는 없기 때문입니다. 게시 된 예측 파이프라인에 SMOTE 모듈이 포함 되어 있으면 오류가 발생할 수 있습니다.

+ SMOTE을 적용 하기 전에 데이터를 수정 하기 위해 누락 된 값을 정리 하거나 다른 변환을 적용 하는 경우 더 나은 결과를 얻을 수 있습니다. 

+ 일부 연구원은 SMOTE가 텍스트 분류 또는 genomics 데이터 집합에서 사용 되는 데이터와 같은 상위 차원 또는 스파스 데이터에 적용 되는지 조사 했습니다. 이 문서에서는 SMOTE를 적용 하는 경우의 효과와 이론적 유효성에 대해 잘 이해 하 고 있습니다. 이러한 경우에는 [Blagus 및 Lusa: SMOTE에 대 한 개략적인 클래스-불균형 데이터를 위한](https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-14-106)것입니다.

+ SMOTE가 데이터 집합에서 유효 하지 않을 경우 고려할 수 있는 다른 방법은 다음과 같습니다.
  + 과다 샘플링에 대 한 메서드는 소수의 사례를 추출 하거나 대부분의 경우를 샘플링 합니다.
  + 클러스터링, 모음 만들기 또는 적응형 부스트를 사용 하 여 학습자에 직접 도움을 앙상블 기술입니다.


## <a name="next-steps"></a>다음 단계

Azure Machine Learning에서 [사용 가능한 모듈 세트](module-reference.md)를 참조하세요. 

