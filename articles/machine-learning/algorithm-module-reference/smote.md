---
title: SMOTE
titleSuffix: Azure Machine Learning service
description: Azure Machine Learning 서비스에서 SMOTE 모듈을 사용 하 여 과다 샘플링를 사용 하는 데이터 집합에서 낮은 발생의 낮은 예제 수를 늘리는 방법에 대해 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/16/2019
ms.openlocfilehash: 072268af52ebf7d3bede564d8c949eec9fc9f625
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/04/2019
ms.locfileid: "73516189"
---
# <a name="smote"></a>SMOTE

이 문서에서는 Azure Machine Learning designer (미리 보기)에서 **SMOTE** 모듈을 사용 하 여 기계 학습에 사용 되는 데이터 집합에서 표시 되는 사례 수를 늘리는 방법을 설명 합니다. SMOTE는 단순히 기존 사례를 복제 하는 것 보다 드물게 발생 하는 사례 수를 늘릴 수 있는 좋은 방법입니다.  

 SMOTE 모듈을 *불균형*된 데이터 집합에 연결 합니다. 데이터 집합이 불균형 하 게 분산 될 수 있는 여러 가지 이유가 있습니다. 대상으로 하는 범주가 모집단에서 드물게 발생 하거나 데이터를 수집 하기가 어려울 수 있습니다. 일반적으로 분석 하려는 *클래스가* 미달 사용 되는 경우 SMOTE를 사용 합니다. 
  
 이 모듈은 지정한 백분율에 따라 원래 샘플이 포함 된 데이터 집합과 추가 가상 소수 샘플 수를 반환 합니다.  
  
### <a name="more-about-smote"></a>SMOTE에 대 한 자세한 정보

**SMOTE** 는 *가상의 소주주 과다 샘플링 기법*을 의미 합니다. 이 방법은 데이터 집합의 사례 수를 균형 있게 유지 하기 위한 통계 기술입니다.  모듈은 입력으로 제공 하는 기존 소주주 사례에서 새 인스턴스를 생성 하는 방식으로 작동 합니다. 이 SMOTE 구현은 대다수 사례 수를 변경 **하지** 않습니다.

새 인스턴스는 기존의 소주주 케이스의 복사본 일 뿐입니다. 대신 알고리즘은 각 대상 클래스와 가장 인접 한 환경에 대 한 *기능 공간의* 샘플을 사용 하 고 대상 사례의 기능을 이웃 기능과 결합 하는 새로운 예제를 생성 합니다. 이 방법을 사용 하면 각 클래스에 사용할 수 있는 기능이 늘어나고 샘플이 더 일반적으로 사용 됩니다.
  
SMOTE는 전체 데이터 집합을 입력으로 사용 하지만, 소주주 사례의 백분율이 늘어납니다. 예를 들어 사례의 1%가 대상 값 A (소수 클래스)를 가지 며 사례의 99%가 값 B를 갖는 불균형 분산 된 데이터 집합이 있다고 가정 합니다. 소수 사례의 비율을 이전 백분율의 두 배 이상으로 늘리려면 모듈의 속성에서 **SMOTE 비율** 에 대해 200을 입력 합니다.  
  
## <a name="examples"></a>예  

작은 데이터 집합으로 **SMOTE** 을 사용 하 여 작동 방식을 확인 하는 것이 좋습니다. 다음 예제에서는 Azure Machine Learning 디자이너에서 사용할 수 있는 블러드 기부 데이터 집합을 사용 합니다.
  
데이터 집합을 파이프라인에 추가 하 고 데이터 집합의 출력에서 **시각화** 를 클릭 하면 데이터 집합의 748 행 또는 사례 중 570 사례 (76%)가 있는 것을 볼 수 있습니다. 클래스 0 및 178 사례 (24%) 클래스 1. 그다지 균형이 맞지 않는 것은 아니지만 클래스 1은 피를 기증 한 사용자를 나타내므로 이러한 행에는 모델링할 *기능 공간이* 포함 됩니다.
 
사례 수를 늘리려면 다음과 같이 100의 배수를 사용 하 여 **SMOTE 비율**값을 설정할 수 있습니다.

||클래스 0|클래스 1|total|  
|-|-------------|-------------|-----------|  
|원래 데이터 집합<br /><br /> **SMOTE 백분율** = **0**)에 해당 합니다.|570<br /><br /> 76%|178<br /><br /> 24|748|  
|**SMOTE** = 비율 **100**|570<br /><br /> 62%|356<br /><br /> 38%|926|  
|**SMOTE** = 비율 **200**|570<br /><br /> 52%|534<br /><br /> 48%|1104|  
|**SMOTE** = 비율 **300**|570<br /><br /> 44%|712<br /><br /> 56%|1282|  
  
> [!WARNING]
>  SMOTE를 사용 하 여 사례 수를 늘릴 경우 보다 정확한 모델을 생성 하는 것은 보장 되지 않습니다. 다른 백분율, 다양 한 기능 집합 및 가장 인접 한 항목 수를 사용 하 여 사례를 추가 하는 것이 모델에 영향을 주는 방식을 pipelineing 시도 해야 합니다.  
  
## <a name="how-to-configure-smote"></a>SMOTE를 구성 하는 방법
  
1.  SMOTE 모듈을 파이프라인에 추가 합니다. 데이터 변환 모듈의 조작 범주에서 모듈을 찾을 수 있습니다.

2. 상승 시키려는 데이터 집합을 연결 합니다. 특정 열만 사용 하거나 일부를 제외 하 여 새 사례를 빌드하기 위한 기능 공간을 지정 하려면 [데이터 집합의 열 선택](select-columns-in-dataset.md) 모듈을 사용 하 여 **SMOTE**를 사용 하기 전에 사용할 열을 분리 합니다.
  
    그렇지 않으면 **SMOTE** 를 사용 하 여 새 사례를 만드는 것은 입력으로 제공 하는 **모든** 열을 기반으로 합니다. 기능 열의 열이 하나 이상 숫자입니다.
  
3.  레이블 또는 대상 클래스를 포함 하는 열이 선택 되어 있는지 확인 합니다.  **SMOTE** 는 이진 레이블만 허용 합니다.
  
4.  **SMOTE** 모듈은 레이블 열에서 소주주 클래스를 자동으로 식별 한 다음, 해당 클래스에 대 한 모든 예제를 가져옵니다. 모든 열은 NaN을 가질 수 없습니다.
  
5.  **SMOTE 비율** 옵션에서 출력 데이터 집합에 있는 소수 사례의 대상 백분율을 나타내는 정수를 입력 합니다. 예:  
  
    - **0** (%)을 입력 합니다. SMOTE 모듈은 입력으로 제공한 것과 동일한 데이터 집합을 반환 하 여 새 소주주 케이스를 추가 합니다. 이 데이터 집합에서 클래스 비율은 변경 되지 않았습니다.  
  
    -   **100** (%)을 입력 합니다. SMOTE 모듈은 원래 데이터 집합에 있던 것과 동일한 수의 소주주 사례를 추가 하 여 새로운 소주주 사례를 생성 합니다. SMOTE는 대다수의 사례 수를 늘리지 않으므로 각 클래스의 대/소문자 비율이 변경 되었습니다.  
  
    -   **200** (%)을 입력 합니다. 모듈은 원래 데이터 집합에 비해 소주주 사례의 백분율을 두 배로 늘립니다. 이로 인해 전 처럼 두 번의 소주주 사례가 두 배가 **되지** 않습니다.  대신, 대다수의 사례 수가 동일 하 게 유지 되 고, 필요한 백분율 값과 일치할 때까지 소주주 사례의 수가 증가 하는 방식으로 데이터 집합의 크기가 증가 합니다.  
  
    > [!NOTE]
    > SMOTE 백분율에 대해 100의 배수를 사용 합니다.

6.  새 사례를 구축할 때 SMOTE 알고리즘이 사용 하는 기능 공간의 크기를 확인 하려면 **가장 인접 한 이웃 수** 옵션을 사용 합니다. *가장 인접* 한 항목은 일부 대상 사례와 비슷한 데이터 행 (사례)입니다. 두 사례 간의 거리는 모든 기능의 가중치가 적용 된 벡터를 결합 하 여 측정 됩니다.  
  
     + 가장 인접 한 이웃 수를 늘려서 더 많은 사례에서 기능을 얻을 수 있습니다.
     + 가장 인접 한 이웃의 수를 낮게 유지 하면 원래 샘플의 기능과 매우 유사한 기능을 사용할 수 있습니다.  
  
7. 동일한 파이프라인의 실행에 대해 동일한 데이터를 사용 하 여 동일한 결과를 확인 하려는 경우 **임의 초기값** 텍스트 상자에 값을 입력 합니다. 그렇지 않으면 모듈이 파이프라인을 배포할 때 프로세서 클록 값을 기준으로 임의 초기값을 생성 하 여 실행에 대해 약간 다른 결과를 발생 시킬 수 있습니다.

8. 파이프라인을 실행합니다.  
  
     모듈의 출력은 원래 행을 포함 하는 데이터 집합과 소수 사례가 포함 된 몇 개의 추가 행을 포함 합니다.  

## <a name="technical-notes"></a>기술 참고 사항

+ **SMOTE** 모듈을 사용 하는 모델을 게시할 때 예측 파이프라인이 웹 서비스로 게시 되기 전에 **SMOTE** 를 제거 합니다.  그 이유는 SMOTE가 학습 중 모델 개선을 위한 것이 고, 점수 매기기를 위한 것이 아닙니다.  게시 된 예측 파이프라인에 SMOTE 모듈이 포함 되어 있으면 오류가 발생할 수 있습니다.

+ SMOTE을 적용 하기 전에 데이터를 수정 하기 위해 누락 된 값 정리 또는 기타 변환을 적용 하는 경우에는 종종 더 나은 결과를 얻을 수 있습니다. 

+ 일부 연구원은 SMOTE가 텍스트 분류 또는 genomics 데이터 집합에 사용 되는 데이터와 같은 상위 차원 또는 스파스 데이터에 적용 되는지 조사 했습니다. 이 문서에서는 SMOTE을 적용할 때의 영향 및 이론적 유효성을 이해 하 고 있습니다. 이러한 경우에는 [Blagus 및 Lusa: SMOTE에 대 한 높은 수준의 클래스-불균형 데이터를 위한](https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-14-106) 것입니다.

    SMOTE가 데이터 집합에서 유효 하지 않은 경우에는 과다 샘플링에 대 한 다양 한 방법을 사용 하 여 소수의 사례를 제공 하거나 가장 많은 사례를 샘플링 하는 방법과 학습자을 직접 활용 하는 앙상블 기술 (클러스터링 사용)을 포함할 수 있습니다. 모음 만들기 또는 적응 부스트.


## <a name="next-steps"></a>다음 단계

Azure Machine Learning 서비스에 [사용할 수 있는 모듈 집합](module-reference.md) 을 참조 하세요. 

