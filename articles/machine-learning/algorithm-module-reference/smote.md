---
title: SMOTE
titleSuffix: Azure Machine Learning
description: Azure 기계 학습에서 SMOTE 모듈을 사용하여 오버샘플링을 사용하여 데이터 집합에서 발생률이 낮은 예제의 수를 늘리는 방법을 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/16/2019
ms.openlocfilehash: ed6d9e86143c3a5d6c97c4bd92a07c258bbd1bbc
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/28/2020
ms.locfileid: "79477462"
---
# <a name="smote"></a>SMOTE

이 문서에서는 Azure 기계 학습 디자이너(미리 보기)에서 SMOTE 모듈을 사용하여 기계 학습에 사용되는 데이터 집합의 과소 대표사례 수를 늘리는 방법을 설명합니다. SMOTE는 단순히 기존 사례를 복제하는 것보다 드문 경우의 수를 늘리는 더 좋은 방법입니다.  

SMOTE 모듈을 불균형한 데이터 집합에 *연결합니다.* 데이터 집합이 불균형할 수 있는 데는 여러 가지 이유가 있습니다. 예를 들어 타겟팅하는 카테고리는 모집단에서 드물거나 데이터를 수집하기 어려울 수 있습니다. 일반적으로 분석하려는 *클래스가* 과소 표시될 때 SMOTE를 사용합니다. 
  
모듈은 원래 샘플을 포함하는 데이터 집합을 반환합니다. 또한 지정한 백분율에 따라 여러 합성 소수 샘플을 반환합니다.  
  
## <a name="more-about-smote"></a>한눈에 보는 스모테

합성 소수 자 오버 샘플링 기술 (SMOTE)는 균형 잡힌 방식으로 데이터 집합의 사례 수를 증가 하기 위한 통계 기술. 이 모듈은 입력으로 제공하는 기존 소수 사례에서 새 인스턴스를 생성하여 작동합니다. SMOTE의 이 구현은 대부분의 경우의 수를 변경하지 *않습니다.*

새 인스턴스는 기존 소수 사례의 복사본이 아닙니다. 대신 알고리즘은 각 대상 클래스와 가장 가까운 이웃에 대한 *기능 공간의* 샘플을 채취합니다. 그런 다음 알고리즘은 대상 케이스의 피처와 이웃의 기능을 결합하는 새로운 예제를 생성합니다. 이 방법을 사용하면 각 클래스에 사용할 수 있는 기능이 증가하고 샘플이 더 일반적이게 됩니다.
  
SMOTE는 전체 데이터 집합을 입력으로 사용하지만 소수 사례의 백분율만 증가합니다. 예를 들어 서비스 케이스의 1%만이 대상 값 A(소수 클래스)를 가지고 서비스 케이스의 99%에 B 값이 있는 불균형 데이터 집합이 있다고 가정합니다. 소수 사례의 백분율을 이전 백분율의 두 배로 늘리려면 모듈 속성에서 **SMOTE 백분율에** 대해 **200을** 입력합니다.  
  
## <a name="examples"></a>예  

적은 수의 데이터 집합에서 SMOTE를 사용하여 작동 방식을 확인하는 것이 좋습니다. 다음 예제에서는 Azure 기계 학습 디자이너에서 사용할 수 있는 혈액 기부 데이터 집합을 사용 합니다.
  
파이프라인에 데이터 집합을 추가하고 데이터 집합의 출력에서 **시각화를** 선택하면 데이터 집합의 748개 행 또는 사례 중 570개(76%)가 클래스 0이고 178건(24%)이 클래스 1임을 확인할 수 있습니다. 이 결과는 심하게 불균형하지는 않지만 클래스 1은 혈액을 기증한 사람들을 나타내므로 이 행에는 모델링하려는 *기능 공간이* 포함되어 있습니다.
 
사례 수를 늘리려면 다음과 같이 100의 배수를 사용하여 **SMOTE 백분율**값을 설정할 수 있습니다.

||클래스 0|클래스 1|total|  
|-|-------------|-------------|-----------|  
|원래 데이터 집합<br /><br /> **(SMOTE 백분율** = **0에**해당)|570<br /><br /> 76%|178<br /><br /> 24%|748|  
|**스모트 백분율** = **100**|570<br /><br /> 62%|356<br /><br /> 38%|926|  
|**스모트 백분율** = **200**|570<br /><br /> 52%|534<br /><br /> 48%|1,104|  
|**스모트 백분율** = **300**|570<br /><br /> 44%|712<br /><br /> 56%|1,282|  
  
> [!WARNING]
> SMOTE를 사용하여 케이스 수를 늘리는 것이 더 정확한 모델을 생성할 수 있는 것은 아닙니다. 다른 백분율, 다른 피쳐 세트 및 가장 가까운 이웃의 다른 숫자로 파이프라이닝을 시도하여 케이스 추가가 모델에 미치는 영향을 확인합니다.  
  
## <a name="how-to-configure-smote"></a>SMOTE를 구성하는 방법
  
1.  파이프라인에 SMOTE 모듈을 추가합니다. 데이터 변환 모듈 아래의 모듈은 **조작** 범주에서 찾을 수 **있습니다.**

2. 향상하려는 데이터 집합을 연결합니다. 특정 열만 사용하거나 일부를 제외하여 새 서비스 케이스를 작성하기 위한 형상 공간을 지정하려면 [데이터 집합에서 열 선택 모듈을](select-columns-in-dataset.md) 사용합니다. 그런 다음 SMOTE를 사용하기 전에 사용할 열을 격리할 수 있습니다.
  
    그렇지 않으면 SMOTE를 통해 새 서비스 케이스를 만드는 것은 입력으로 제공하는 *모든* 열을 기반으로 합니다. 피쳐 열 중 하나 이상의 열은 숫자입니다.
  
3.  레이블 또는 대상 클래스가 포함된 열이 선택되어 있는지 확인합니다. SMOTE는 이진 레이블만 허용합니다.
  
4.  SMOTE 모듈은 레이블 열에서 소수 클래스를 자동으로 식별한 다음 소수 클래스에 대한 모든 예제를 가져옵니다. 모든 열에는 NaN 값이 있을 수 없습니다.
  
5.  **SMOTE 백분율** 옵션에서 출력 데이터 집합에서 소수 사례의 대상 백분율을 나타내는 정수를 입력합니다. 예를 들어:  
  
    - **0을**입력합니다. SMOTE 모듈은 입력으로 제공한 것과 정확히 동일한 데이터 집합을 반환합니다. 새로운 소수 사례를 추가하지 않습니다. 이 데이터 집합에서 클래스 비율은 변경되지 않았습니다.  
  
    - **100을**입력합니다. SMOTE 모듈은 새로운 소수 사례를 생성합니다. 원래 데이터 집합에 있던 소수 사례의 동일한 수를 추가 합니다. SMOTE는 다수 케이스의 수를 증가시키지 않기 때문에 각 클래스의 사례 비율이 변경되었습니다.  
  
    - **200을**입력합니다. 이 모듈은 원래 데이터 집합에 비해 소수 사례의 비율을 두 배로 늘렸습니다. 이것은 이전과 같은 두 배의 소수 민족 사례를 갖는 결과를 *초래하지 않습니다.* 대신 대부분의 경우 수가 동일하게 유지되도록 데이터 집합의 크기가 증가합니다. 소수 케이스 수는 원하는 백분율 값과 일치할 때까지 증가합니다.  
  
    > [!NOTE]
    > SMOTE 백분율에 대해 100의 배수만 사용합니다.

6.  가장 **가까운 인접 횟수** 옵션을 사용하여 SMOTE 알고리즘이 새 사례를 작성할 때 사용하는 형상 공간의 크기를 결정합니다. 가장 가까운 이웃은 대상 대/소문자와 유사한 데이터 행(대/소문자)입니다. 두 사례 사이의 거리는 가중치가 적용된 모든 기능의 벡터를 결합하여 측정됩니다.  
  
    + 가장 가까운 이웃의 수를 늘리면 더 많은 사례에서 기능을 얻을 수 있습니다.
    + 가장 가까운 이웃의 수를 낮게 유지하면 원래 샘플의 피처와 더 비슷하게 사용할 수 있습니다.  
  
7. 동일한 데이터를 사용하여 동일한 파이프라인의 실행에 대해 동일한 결과를 보장하려면 **임의시드** 상자에 값을 입력합니다. 그렇지 않으면 파이프라인이 배포될 때 모듈은 프로세서 클럭 값을 기반으로 임의 시드를 생성합니다. 임의 시드의 생성은 실행을 통해 약간 다른 결과를 일으킬 수 있습니다.

8. 파이프라인을 제출합니다.  
  
   모듈의 출력은 원래 행과 소수 케이스가 있는 여러 개의 추가 된 행을 포함하는 데이터 집합입니다.  

## <a name="technical-notes"></a>기술 정보

+ **SMOTE** 모듈을 사용하는 모델을 게시할 때 웹 서비스로 게시하기 전에 예측 파이프라인에서 **SMOTE를** 제거합니다. 그 이유는 SMOTE가 점수가 아닌 교육 중에 모델을 개선하기 위한 것입니다. 게시된 예측 파이프라인에 SMOTE 모듈이 포함된 경우 오류가 발생할 수 있습니다.

+ 누락된 값을 정리하거나 다른 변환을 적용하여 SMOTE를 적용하기 전에 데이터를 수정하는 경우 더 나은 결과를 얻을 수 있습니다. 

+ 일부 연구자들은 SMOTE가 텍스트 분류 또는 유전체학 데이터 세트에 사용되는 데이터와 같은 고차원 또는 희소 한 데이터에 효과적인지 여부를 조사했습니다. 이 백서에서는 이러한 경우에 SMOTE적용의 효과와 이론적 타당성에 대한 좋은 요약을 간략히 요약합니다: [블라거스와 루사: 고차원 클래스 불균형 데이터에 대한 SMOTE.](https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-14-106)

+ SMOTE가 데이터 집합에 효과적이지 않은 경우 고려할 수 있는 다른 접근 방식은 다음과 같습니다.
  + 소수 사례를 오버샘플링하거나 대부분의 사례를 샘플링하는 방법.
  + 클러스터링, 배깅 또는 적응형 부스팅을 사용하여 학습자가 직접 도움을 주는 앙상블 기술입니다.


## <a name="next-steps"></a>다음 단계

Azure 기계 학습에 사용할 수 있는 [모듈 집합을](module-reference.md) 참조하십시오. 

