---
title: '파티션 및 샘플: 모듈 참조'
titleSuffix: Azure Machine Learning
description: Azure 기계 학습에서 파티션 및 샘플 모듈을 사용하여 데이터 집합에서 샘플링을 수행하거나 데이터 집합에서 파티션을 만드는 방법을 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/22/2019
ms.openlocfilehash: 0392a05df485b45b1244f4542ed55af1837dca3d
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/28/2020
ms.locfileid: "79477513"
---
# <a name="partition-and-sample-module"></a>파티션 및 샘플 모듈

이 문서에서는 Azure 기계 학습 디자이너(미리 보기)의 모듈에 대해 설명합니다.

파티션 및 샘플 모듈을 사용하여 데이터 집합에서 샘플링을 수행하거나 데이터 집합에서 파티션을 만듭니다.

샘플링은 동일한 비율의 값을 유지하면서 데이터 집합의 크기를 줄일 수 있기 때문에 기계 학습에서 중요한 도구입니다. 이 모듈은 기계 학습에 중요한 몇 가지 관련 작업을 지원합니다. 

- 데이터를 동일한 크기의 여러 하위 섹션으로 나눕니다. 

  교차 유효성 검사에 파티션을 사용하거나 임의 그룹에 사례를 할당할 수 있습니다.

- 데이터를 그룹으로 분리한 다음 특정 그룹의 데이터로 작업합니다. 

  다른 그룹에 사례를 임의로 할당한 후 한 그룹과만 연결된 피쳐를 수정해야 할 수 있습니다.

- 샘플링 - 

  데이터의 백분율을 추출하거나, 무작위 샘플링을 적용하거나, 데이터 집합의 균형을 조정하는 데 사용할 열을 선택하고 해당 값에 대해 계층화된 샘플링을 수행할 수 있습니다.

- 테스트를 위해 더 작은 데이터 집합을 만듭니다. 

  데이터가 많은 경우 파이프라인을 설정하는 동안 첫 번째 *n행만* 사용한 다음 모델을 빌드할 때 전체 데이터 집합을 사용하도록 전환할 수 있습니다. 샘플링을 사용하여 개발에 사용할 더 작은 데이터 집합을 만들 수도 있습니다.

## <a name="configure-the-module"></a>모듈 구성

이 모듈은 데이터를 파티션으로 나누거나 샘플링을 위해 다음 방법을 지원합니다. 먼저 메서드를 선택한 다음 메서드에 필요한 추가 옵션을 설정합니다.

- Head
- 샘플링
- 접기 할당
- 접기를 선택합니다.

### <a name="get-top-n-rows-from-a-dataset"></a>데이터 집합에서 TOP N 행 받기

처음 *n*개 행만 가져오려면 이 모드를 사용합니다. 이 옵션은 소수의 행에서 파이프라인을 테스트하려는 경우 유용하며 데이터를 균형 조정하거나 샘플링할 필요가 없습니다.

1. 인터페이스의 파이프라인에 **파티션 및 샘플** 모듈을 추가하고 데이터 집합을 연결합니다.  

1. **파티션 또는 샘플 모드**: 이 옵션을 **Head로**설정합니다.

1. **선택할 행 수**: 반환할 행 수를 입력합니다.

   행 수는 음수가 아닌 정수여야 합니다. 선택한 행 수가 데이터 집합의 행 수보다 크면 전체 데이터 집합이 반환됩니다.

1. 파이프라인을 제출합니다.

모듈은 지정된 수의 행만 포함하는 단일 데이터 집합을 출력합니다. 행은 항상 데이터 집합의 맨 위에서 읽습니다.

### <a name="create-a-sample-of-data"></a>데이터 샘플 만들기

이 옵션은 간단한 무작위 샘플링 또는 계층화된 무작위 샘플링을 지원합니다. 테스트를 위해 더 작은 대표 샘플 데이터 집합을 만들려는 경우에 유용합니다.

1. **파이프라인에 파티션 및 샘플** 모듈을 추가하고 데이터 집합을 연결합니다.

1. **파티션 또는 샘플 모드**: 이 옵션을 **샘플링으로**설정합니다.

1. **샘플링 속도**: 0과 1 사이의 값을 입력합니다. 이 값은 출력 데이터 집합에 포함해야 하는 원본 데이터 집합의 행 백분율을 지정합니다.

   예를 들어 원래 데이터 집합의 절반만 원하는 `0.5` 경우 샘플링 속도가 50%여야 함을 나타내기 위해 입력합니다.

   입력 데이터 집합의 행은 지정된 비율에 따라 출력 데이터 집합에 선택적으로 배치되고 섞여 있습니다.

1. **샘플링을 위한 임의 시드**: 선택적으로 시드 값으로 사용할 정수를 입력합니다.

   이 옵션은 행을 매번 같은 방식으로 분할하려는 경우에 중요합니다. 기본값은 **0입니다.** 이 값은 파이프라인을 실행할 때마다 약간 다른 결과를 초래할 수 있습니다.

1. **샘플링을 위한 계층화 분할**: 데이터 집합의 행을 샘플링 전에 일부 키 열로 균등하게 분할하는 것이 중요한 경우 이 옵션을 선택합니다.

   **샘플링을 위한 계층화 키 열의**경우 데이터 집합을 분할할 때 사용할 단일 *계층 열을* 선택합니다. 그런 다음 데이터 집합의 행은 다음과 같이 나뉩니다.

   1. 모든 입력 행은 지정된 계층 열의 값으로 그룹화(계층화)됩니다.

   1. 각 그룹 내에서 행을 섞습니다.

   1. 지정한 비율에 맞게 각 그룹을 선택적으로 출력 데이터 집합에 추가합니다.


1. 파이프라인을 제출합니다.

   이 옵션을 사용하면 모듈은 데이터의 대표 샘플링을 포함하는 단일 데이터 집합을 출력합니다. 데이터 집합의 샘플링되지 않은 나머지 부분은 출력되지 않습니다. 

## <a name="split-data-into-partitions"></a>데이터를 파티션으로 분할

데이터 집합을 데이터의 하위 집합으로 분할하려는 경우 이 옵션을 사용합니다. 이 옵션은 교차 유효성 검사를 위해 사용자 지정 접기 수를 만들거나 행을 여러 그룹으로 분할하려는 경우에도 유용합니다.

1. **파이프라인에 파티션 및 샘플** 모듈을 추가하고 데이터 집합을 연결합니다.

1. **파티션 또는 샘플 모드의**경우 접기 에 **할당을 선택합니다.**

1. **분할에서 교체 사용**: 샘플링된 행을 다시 사용할 수 있도록 행 풀에 다시 넣으려면 이 옵션을 선택합니다. 따라서 동일한 행이 여러 접지에 할당될 수 있습니다.

   대체(기본 옵션)를 사용하지 않는 경우 샘플링된 행이 다시 사용할 수 있는 행 풀에 다시 배치되지 않습니다. 따라서 각 행을 한 겹에만 할당할 수 있습니다.

1. **무작위 분할**: 행이 폴드에 임의로 할당될 경우 이 옵션을 선택합니다.

   이 옵션을 선택하지 않으면 행이 라운드 로빈 방법을 통해 접게 됩니다.

1. **임의 시드**: 선택적으로 시드 값으로 사용할 정수를 입력합니다. 이 옵션은 행을 매번 같은 방식으로 분할하려는 경우에 중요합니다. 그렇지 않으면 기본값이 **0이면** 임의 시작 시드가 사용됩니다.

1. **파티셔 메서드 지정**: 다음 옵션을 사용하여 각 파티션에 데이터를 할당하는 방법을 나타냅니다.

   - **파티션균하게 파티션**: 이 옵션을 사용하여 각 파티션에 동일한 수의 행을 배치합니다. 출력 파티션 수를 지정하려면 접기 지정 수에 정수를 **입력하여 균등하게 분할합니다.**

   - **사용자 지정된 비율로 파티션**: 이 옵션을 사용하여 각 파티션의 크기를 쉼표로 구분된 목록으로 지정합니다.

     예를 들어 세 개의 파티션을 만들려고 한다고 가정합니다. 첫 번째 파티션에는 데이터의 50%가 포함됩니다. 나머지 두 파티션에는 각각 데이터의 25%가 포함됩니다. **쉼표 상자로 구분 된 비율 목록에서** 다음 숫자를 입력합니다. **.5, .25, .25**

     모든 파티션 크기의 합계는 정확히 1까지 추가되어야 합니다.

     *1보다 작게*추가하는 숫자를 입력하면 나머지 행을 보유하는 추가 파티션이 만들어집니다. 예를 들어 **값 .2** 및 **.3을**입력하면 모든 행의 나머지 50%를 보유하도록 세 번째 파티션이 만들어집니다.
     
     *1을 초과하는*숫자를 입력하면 파이프라인을 실행할 때 오류가 발생합니다.

1. **계층화 분할**: 분할 할 때 행을 계층화할 경우 이 옵션을 선택한 다음 _계층 열을_선택합니다.

1. 파이프라인을 제출합니다.

   이 옵션을 사용하면 모듈이 여러 데이터 집합을 출력합니다. 데이터 집합은 지정한 규칙에 따라 분할됩니다.

### <a name="use-data-from-a-predefined-partition"></a>미리 정의된 파티션의 데이터 사용  

데이터 집합을 여러 파티션으로 분할하고 각 파티션을 차례로 로드하여 추가 분석 또는 처리를 하려는 경우 이 옵션을 사용합니다.

1. **파이프라인에 파티션 및 샘플** 모듈을 추가합니다.

1. 모듈을 **파티션 및 샘플의**이전 인스턴스의 출력에 연결합니다. 해당 인스턴스는 일부 파티션을 생성하기 위해 **접기 할당** 옵션을 사용해야 합니다.

1. **파티션 또는 샘플 모드**: **접기 선택**선택.

1. **샘플링할 접기를 지정:** 인덱스를 입력하여 사용할 파티션을 선택합니다. 파티션 인덱스는 1기반입니다. 예를 들어 데이터 집합을 세 부분으로 나눈 경우 파티션에는 인덱스 1, 2 및 3이 있습니다.

   잘못된 인덱스 값을 입력하면 "오류 0018: 데이터 집합에 잘못된 데이터가 포함되어 있습니다."라는 디자인 타임 오류가 발생합니다.

   데이터 집합을 접게 하여 그룹화하는 것 외에도 데이터 집합을 대상 폴드 및 기타 모든 그룹으로 구분할 수 있습니다. 이렇게 하려면 단일 폴드의 인덱스를 입력한 다음 **선택한 폴드의 보체 선택** 옵션을 선택하여 지정된 폴드의 데이터를 제외한 모든 것을 가져옵니다.

1. 여러 파티션으로 작업하는 경우 각 **파티션을** 처리하려면 파티션 및 샘플 모듈의 인스턴스를 더 추가해야 합니다.

   예를 들어 두 번째 행의 **파티션 및 샘플** 모듈은 **폴드에 할당하도록**설정되고 세 번째 행의 모듈은 **폴드 선택으로**설정됩니다.   

   ![파티션 및 샘플](./media/module/partition-and-sample.png)

1. 파이프라인을 제출합니다.

   이 옵션을 사용하면 모듈은 해당 접에 할당된 행만 포함하는 단일 데이터 집합을 출력합니다.

> [!NOTE]
>  접기 지정은 직접 볼 수 없습니다. 메타데이터에만 존재합니다.

## <a name="next-steps"></a>다음 단계

Azure 기계 학습에 사용할 수 있는 [모듈 집합을](module-reference.md) 참조하십시오. 