---
title: '파티션 및 샘플: 모듈 참조'
titleSuffix: Azure Machine Learning service
description: 데이터 집합에서 샘플링을 수행 하거나 데이터 집합에서 파티션을 만드는 Azure Machine Learning 서비스에서 분할 및 샘플링 모듈을 사용 하는 방법을 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/02/2019
ROBOTS: NOINDEX
ms.openlocfilehash: 72f9e11e3582d804eecc7479ea079276564bd12f
ms.sourcegitcommit: 4b9c06dad94dfb3a103feb2ee0da5a6202c910cc
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/02/2019
ms.locfileid: "65029282"
---
# <a name="partition-and-sample-module"></a>분할 및 샘플링 모듈

이 문서에서는 Azure Machine Learning 서비스에 대 한 시각적 인터페이스 (미리 보기)의 모듈을 설명 합니다.

데이터 집합에서 샘플링을 수행 하거나 데이터 집합에서 파티션을 만들이 모듈을 사용 합니다.

샘플링은 값의 동일한 비율을 유지 하면서 데이터 집합의 크기를 줄일 수 있기 때문에 기계 학습에서 중요 한 도구입니다. 이 모듈에서는 기계 학습에서 중요 한 여러 가지 관련된 작업: 

- 동일한 크기의 여러 하위 섹션으로 데이터를 나눕니다. 

    교차 유효성 검사 또는 임의 그룹에 사례를 할당할 파티션을 사용할 수 있습니다.

- 그룹 및 특정 그룹에서 데이터를 사용 하 여 다음 작업으로 데이터를 분리 합니다. 

    사례를 여러 그룹에 임의로 할당 한 후 하나만 그룹과 연관 된 기능을 수정 해야 할 수 있습니다.

- 샘플링 합니다. 

    데이터의 비율을 추출, 무작위 샘플링을 적용 하거나 데이터 집합을 분산 하는 데 해당 값에 대해 층 화 샘플링을 수행 하는 열을 선택할 수 있습니다.

- 테스트에 대 한 더 작은 데이터 집합을 만드는 중입니다. 

    첫 번째만 사용 하려는 데이터가 많은 경우 *n* 실험 및 모델을 작성 하는 경우 전체 데이터 집합을 사용 하 여 다음 스위치를 설정 하는 동안 행입니다. 또한 개발에서 용도로 s 더 작은 데이터 집합을 만들려면 샘플링을 사용할 수 있습니다.

## <a name="configure-partition-and-sample"></a>분할 및 샘플링 구성

이 모듈은 파티션으로 데이터를 분할 또는 샘플링에 대 한 여러 메서드를 지원 합니다. 메서드를 먼저 선택 하 고 메서드에서 집합 추가 옵션이 필요 합니다.

- 헤드
- 샘플링
- 접기에 할당
- 접기를 선택 합니다.

### <a name="get-top-n-rows-from-a-dataset"></a>데이터 집합에서 상위 n 개 행 가져오기

이 모드를 사용 하 여 첫 번째만 가져오려는 *n* 행. 이 옵션은 적은 수의 행에서 실험을 테스트 하 고 분산 되거나 어떤 방식으로 샘플링 된 데이터를 필요 하지 않습니다 하는 경우에 유용 합니다.

1. 추가 합니다 **분할 및 샘플링** 모듈을 실험 인터페이스에서 데이터 집합 연결 합니다.  

2. **분할 또는 샘플링 모드**: 이 옵션을 설정 **Head**합니다.

3. **선택 행 수가**: 반환할 행 수를 입력 합니다.

    지정 하는 행 수가 음수가 아닌 정수 여야 합니다. 선택된 된 행의 수는 데이터 집합의 행 수보다 큰 경우 전체 데이터 집합이 반환 됩니다.

4. 실험을 실행합니다.

모듈 지정 된 행 수가 포함 된 단일 데이터 집합을 출력 합니다. 행은 데이터 집합의 맨 위에서 항상 읽혀집니다.

### <a name="create-a-sample-of-data"></a>데이터의 샘플 만들기

이 옵션에는 층 화 된 무작위 샘플링 또는 간단한 무작위 샘플링을 지원 합니다. 테스트에 대 한 더 작은 대표적인 샘플 데이터 집합을 만들려는 경우에 유용 합니다.

1. 추가 합니다 **분할 및 샘플링** 모듈을 실험, 데이터 집합 연결 합니다.

2. **분할 또는 샘플링 모드**: 이 값을 설정 **샘플링**합니다.

3. **샘플링 비율**: 0과 1 사이의 값을 입력 합니다. 이 값은 출력 데이터 집합에 포함 되어야 하는 원본 데이터 집합에서 행의 비율을 지정 합니다.

    예를 들어 원래 데이터 집합의 절반에 대해서만 하려는 경우 입력 `0.5` 샘플링 비율을 50% 되어야 함을 나타냅니다.

    입력된 데이터 집합의 행을 섞은 다음 되며 선택적으로 지정된 된 비율에 따라 출력 데이터 집합에 배치 됩니다.

4. **샘플링의 무작위 초기값**: 필요에 따라 초기값으로 사용 하는 정수를 입력 합니다.

    이 옵션은 행을 동일한 방식으로 때마다 나눌 수 하려는 경우 중요 합니다. 기본값은 0, 시스템 클록을 기준으로 시작 초기값이 생성 되는 의미입니다. 이 실험을 실행할 때마다 약간 다른 결과를 발생할 수 있습니다.

5. **샘플링에 대 한 층 화 분할**: 샘플링 하기 전에 몇 가지 키 열에서 데이터 집합의 행을 균등 하 게 나눌 수는 중요 한 경우이 옵션을 선택 합니다.

    에 대 한 **샘플링에 대 한 층 화 키 열**, 단일 선택 *층 열* 데이터 집합을 나눌 때 사용 하 합니다. 그런 다음 데이터 집합의 행은 다음과 같이 나뉘어 있습니다.

    1. 모든 입력된 행을 그룹화 (층 화) 지정한 층 열 값을 기준으로 합니다.

    2. 각 그룹 내에서 행을 섞 습니다.

    3. 각 그룹은 선택적으로 지정된 된 비율에 맞게 출력 데이터 집합에 추가 됩니다.


6. 실험을 실행합니다.

    이 옵션을 사용 하 여 모듈을 데이터의 대표 샘플링을 포함 하는 단일 데이터 집합을 출력 합니다. 데이터 집합의 나머지, 샘플링 되지 않은 부분을 출력 하지 됩니다. 

## <a name="split-data-into-partitions"></a>파티션으로 데이터 분할

데이터의 하위 집합으로 데이터 집합을 분할 하려는 경우이 옵션을 사용 합니다. 이 옵션을 사용자 지정 교차 유효성 검사 접기 수를 만들거나 여러 그룹으로 행을 분할 하려는 경우에 유용 합니다.

1. 추가 합니다 **분할 및 샘플링** 모듈을 실험, 데이터 집합 연결 합니다.

2. 에 대 한 **파티션 또는 샘플 모드**를 선택 **접기에 할당**합니다.

3. **분할에서 대체를 사용 하 여**: 샘플링 된 행을 재사용에 대 한 행의 풀 다시 넣을 수 하려는 경우이 옵션을 선택 합니다. 결과적으로 동일한 행 여러 접기에 할당 될 수 있습니다.

    대체 (기본 옵션)를 사용 하지 않는 경우 샘플링 된 행 재사용에 대 한 행의 풀에 다시 배치 되지 됩니다. 결과적으로, 각 행만 하나의 접기를 할당할 수 있습니다.

4. **임의 분할**:  행을 접기에 임의로 할당 하려는 경우이 옵션을 선택 합니다.

    이 옵션을 선택 하지 않으면 라운드 로빈 메서드를 사용 하 여 접기에 행이 할당 됩니다.

5. **임의 초기값**: 필요에 따라를 초기값으로 사용 하는 정수를 입력 합니다. 이 옵션은 행을 동일한 방식으로 때마다 나눌 수 하려는 경우 중요 합니다. 그렇지 않은 경우 기본값은 0 즉 임의 초기값 시작 됩니다.

6. **파티 셔 너 방법 지정**: 원하는 데이터를 각 파티션에 할당 수를 이러한 옵션을 사용 하 여 나타냅니다.

    - **균등 분할**: 이 옵션을 사용 하 여 각 파티션에 동일한 수의 행을 배치 합니다. 출력 파티션 수를 지정 하려면에서 정수를 입력 합니다 **균등 하 게 분할할 접기 수 지정** 입력란입니다.

    - **사용자 지정된 비율로 분할**: 쉼표로 구분 된 목록으로 각 파티션의 크기를 지정 하려면이 옵션을 사용 합니다.

        예를 들어 3 개의 파티션을 만들려는 경우 데이터의 50%를 포함 하는 첫 번째 파티션 및 나머지 두 개의 파티션을 사용 하 여 데이터를 포함 하는 각 25%를 클릭 합니다 **쉼표로 구분 된 비율 목록** 입력란 및 이러한 번호를 입력 합니다. `.5, .25, .25`

        모든 파티션 크기의 합계를 추가 해야 정확히 1까지 합니다.

        - 추가 하는 숫자를 입력 하는 경우 **1 보다 작게**, 나머지 행을 보관 하는 추가 파티션이 만들어집니다. 예를 들어, 입력 값.2 및 세 번째.3 파티션을 만들 모든 행의 나머지 50%를 포함 하는 합니다.

        - 추가 하는 숫자를 입력 하는 경우 **두 개 이상의**, 실험을 실행할 때 오류가 발생 합니다.

7. **층 화 분할**: 이 옵션을 선택이 층 화 되도록 행을 설정 하는 경우 분할이 원하는 경우 옵션을 선택 합니다 _층 열_합니다.

8. 실험을 실행합니다.

    이 옵션을 사용 하 여 모듈의 출력은 여러 데이터 집합을 지정한 규칙을 사용 하 여 분할 합니다.

### <a name="use-data-from-a-predefined-partition"></a>미리 정의 된 파티션에서 데이터를에서 사용 하 여  

이 옵션에는 여러 파티션으로 데이터 집합을 분류 하 고 이제 추가 분석 또는 처리에 대 한 각 파티션에 차례로 로드 하려고 할 때 사용 됩니다.

1. 추가 된 **분할 및 샘플링** 모듈을 실험 합니다.

2. 이전 인스턴스 출력에 연결 **분할 및 샘플링**합니다. 인스턴스를 사용 해야 합니다 **접기에 할당** 특정 개수의 파티션으로 생성 하는 옵션입니다.

3. **분할 또는 샘플링 모드**: 선택 **접기 선택**합니다.

4. **샘플링 원본 접기 지정**: 해당 항목이 있는 인덱스를 입력 하 여 사용할 파티션을 선택 합니다. 파티션 인덱스는 1부터 시작 됩니다. 예를 들어, 세 부분으로 데이터 집합을 구분 하는 경우 파티션 1, 2 및 3 인덱스 해야 합니다.

    잘못 된 인덱스 값을 입력 하는 경우 디자인 타임 오류를 발생 합니다. "Error 0018: 데이터 집합 데이터가 잘못 되었습니다. "

    접기에서 데이터 집합을 그룹화 하는 것 외에도 데이터 집합의 두 그룹으로 구분할 수 있습니다: 대상 접기 및 기타 등등. 이 작업을 수행할 단일 접기의 인덱스를 입력 한 다음 옵션을 선택 **선택한 접기의 보 집합 선택**, 지정 된 접기의 데이터를 제외한 모든 항목을 가져오려고 합니다.

5. 여러 파티션을 사용 하는 경우의 추가 인스턴스를 추가 해야 합니다 **분할 및 샘플링** 각 파티션을 처리 하는 모듈입니다.

    예를 들어, 나이 사용 하 여 4 개의 접기로 가정해 이전에 분할 된 환자 보겠습니다. 각 개별 접기를 사용 하려면 복사본 4 합니다 **분할 및 샘플링** 모듈을 아래와 같이 다른 접기 선택 각각. 사용 하 여 올바르지 합니다 **접기에 할당** 직접 출력 합니다.  

    [![분할 및 샘플링](./media/partition-and-sample/partition-and-sample.png)](./media/partition-and-sample/partition-and-sample-lg.png#lightbox)

5. 실험을 실행합니다.

    이 옵션을 사용 하 여 모듈 해당 접기에 할당 된 행만 포함 하는 단일 데이터 집합을 출력 합니다.

> [!NOTE]
>  접기 지정을 직접 볼 수 없습니다. 이러한 메타 데이터에만 변수가 있습니다.

## <a name="next-steps"></a>다음 단계

참조를 [사용할 수 있는 모듈 집합](module-reference.md) Azure Machine Learning 서비스입니다. 