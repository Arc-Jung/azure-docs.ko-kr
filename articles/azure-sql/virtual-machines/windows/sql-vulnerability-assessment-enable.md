---
title: Azure Vm의 SQL Server에 대 한 SQL 취약성 평가
description: Azure Virtual Machines에서 실행 되는 SQL Server 데이터베이스에 대 한 SQL 취약성 평가를 설명 합니다.
services: virtual-machines-windows
author: MashaMSFT
ms.service: virtual-machines-sql
ms.subservice: security
ms.topic: conceptual
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 12/02/2020
ms.author: mathoma
ms.openlocfilehash: 0f549d19915caa2e4f58ba1987b63c3ed930d1f9
ms.sourcegitcommit: f0a3ee8ff77ee89f83b69bc30cb87caa80f1e724
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/26/2021
ms.locfileid: "105565489"
---
# <a name="sql-vulnerability-assessment-for-sql-server-on-azure-vms"></a>Azure Vm의 SQL Server에 대 한 SQL 취약성 평가
[!INCLUDE[appliesto-sqlvm](../../includes/appliesto-sqlvm.md)]

SQL 취약성 평가 (VA)는 잠재적인 데이터베이스 취약성을 검색, 추적 및 수정할 수 있는 간편한 구성 서비스입니다. Azure Vm에서 SQL Server에 대 한 데이터베이스 보안을 사전에 개선 하는 데 사용 합니다. 

취약성 평가는 고급 SQL 보안 기능을 위한 통합 패키지인 [sql 용 Azure Defender](../../database/azure-defender-for-sql.md) 제공의 일부입니다. SQL 포털에 대 한 중앙 Azure Defender 또는 Azure Security Center를 통해 취약성 평가를 액세스 하 고 관리할 수 있습니다. 

## <a name="overview"></a>개요

VA (SQL 취약성 평가)는 보안 상태에 대 한 가시성을 제공 하는 서비스입니다. 취약성 평가에는 보안 문제를 해결 하 고 데이터베이스 보안을 향상 시키기 위한 조치 가능한 단계가 포함 됩니다. 이 도구를 사용하여 다음과 같은 도움을 받을 수 있습니다. 

- 데이터베이스 검색 보고서가 필요한 준수 요구 사항 충족 
- 데이터 개인 정보 보호 표준 충족 
- 변경 사항을 추적하기 어려운 동적 데이터베이스 환경 모니터링 

취약성 평가는 보안 취약성에 플래그를 지정 하는 규칙의 기술 자료를 활용 하는 검색 서비스입니다. 잘못 된 오류, 과도 한 권한 및 보호 되지 않는 중요 데이터와 같은 모범 사례의 차이를 강조 표시 합니다. 

규칙은 Microsoft의 모범 사례를 기반으로 하며 데이터베이스와 중요 한 데이터에 가장 큰 위험을 제시 하는 보안 문제에 중점을 둡니다. 데이터베이스 수준 문제와 서버 수준 보안 문제 (예: 서버 방화벽 설정 및 서버 수준 권한)를 다룹니다. 또한 이러한 규칙은 규정 준수 표준을 충족하는 다양한 규정 본문의 여러 요구 사항을 나타냅니다. 

검색 결과에는 각 문제를 해결하는 실행 가능한 단계가 포함되며 해당하는 경우 사용자 지정된 재구성 스크립트가 제공됩니다. 에 대해 허용 가능한 기준을 설정 하 여 사용자 환경에 대 한 평가 보고서를 사용자 지정할 수 있습니다. 

- 권한 구성 
- 기능 구성 
- 데이터베이스 설정 

## <a name="enable-sql-va"></a>SQL VA 사용

컴퓨터의 SQL Server에 대해 Azure Defender를 사용 하도록 설정 하 여 취약성 평가를 구현 합니다. 

Azure Defender for SQL Server를 사용 하려면 다음 단계를 수행 합니다.

1. [SQL IaaS 에이전트 확장을 설치](sql-agent-extension-manually-register-single-vm.md)합니다.
1. [Log Analytics 에이전트의 자동 프로 비전을 사용 하도록 설정](../../../security-center/security-center-enable-data-collection.md#auto-provision-mma)합니다.
1. [선택적 Security Center 계획을 사용 하도록 설정](../../../security-center/defender-for-sql-usage.md#step-2-enable-the-optional-plan-in-security-centers-pricing-and-settings-page)합니다.

취약성 평가는 SQL 용 Azure Defender의 일부 이므로, Azure Defender가 가상 머신에서 사용 하도록 설정 되 면 데이터베이스는 12 시간 마다 자동으로 검색 되어 보안 취약성을 식별 합니다. 결과는 Azure Defender for SQL에 의해 보호 되는 SQL data estate의 중앙 집계 보기에 대 한 Azure Security Center으로 전송 됩니다. 

> [!NOTE]
> 검색은 간단 하 고 안전 하며, 실행 하기 위해 데이터베이스당 몇 초 밖에 걸리지 않으며 완전히 읽기 전용입니다. 데이터베이스에 어떠한 변경 사항도 발생하지 않습니다. 

## <a name="view-report"></a>보고서 보기

데이터베이스 보고서는 보안 상태에 대 한 개요를 제공 합니다. 발견 된 문제 수 및 해당 심각도를 나열 합니다. 결과에는 모범 사례에서의 편차에 대 한 경고 및 데이터베이스 보안 주체 및 역할과 관련 된 사용 권한과 같은 보안 관련 설정의 스냅숏이 포함 됩니다.  

보고서를 보려면 다음 단계를 수행 합니다.

1. Azure Portal [Azure Security Center](https://ms.portal.azure.com/#blade/Microsoft_Azure_Security/SecurityMenuBlade/0) 으로 이동 합니다.
1. **일반** 메뉴에서 **권장 사항** 을 선택 합니다. 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/recommendations-in-security-center.png" alt-text="Azure Portal에서 Azure Security Center 설정의 권장 사항으로 이동 합니다.":::

1. 권장 사항까지 아래로 스크롤하고 **취약성** 해결을 확장 합니다.
1. **컴퓨터의 SQL server에 대 한 취약성 평가 결과를 재구성 해야** 합니다. 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/report-in-security-center.png" alt-text="Azure Security Center의 권장 사항 블레이드에서 보고서를 봅니다.":::

이 페이지에는 구독의 모든 SQL Server Vm에 대해 식별 된 보안 취약점의 집계가 표시 됩니다. 


## <a name="analyze-results"></a>결과 분석

결과를 검토 하 고 사용자 환경에서 진정한 보안 문제에 대 한 보고서의 결과를 확인 합니다. 각 실패한 결과로 드릴다운하여 결과의 영향과 각 보안 검사가 실패한 이유를 이해합니다.  

:::image type="content" source="media/sql-vulnerability-assessment-enable/sample-report.png" alt-text="결과를 검토 하 고 사용자 환경에서 진정한 보안 문제에 대 한 보고서의 결과를 확인 합니다.":::

## <a name="set-baseline"></a>초기 계획 설정 

평가 결과를 검토할 때 사용자 환경에서 결과를 허용 가능한 기준으로 표시할 수 있습니다. 기준은 기본적으로 결과를 보고하는 방법의 사용자 지정입니다. 기준과 일치하는 결과는 후속 검색을 통과하는 것으로 간주합니다. 기준 보안 상태를 설정한 후에는 취약성 평가에서 기준의 편차만 보고 합니다. 이러한 방식으로 관련 문제에 집중할 수 있습니다. 

:::image type="content" source="media/sql-vulnerability-assessment-enable/analyze-report-for-details.png" alt-text="평가 결과를 검토할 때 사용자 환경에서 결과를 허용 가능한 기준으로 표시할 수 있습니다.":::

## <a name="export-results"></a>결과 내보내기

Azure Security Center의 [연속 내보내기](../../../security-center/continuous-export.md) 기능을 사용 하 여 취약성 평가 결과를 Azure 이벤트 허브 또는 Log Analytics 작업 영역으로 내보낼 수 있습니다. 


## <a name="next-steps"></a>다음 단계

자세한 내용은 [AZURE sql의 Sql 취약성 평가](../../database/sql-vulnerability-assessment.md)를 참조 하 고 [Azure Security Center를 사용 하 여 Sql 데이터를 방어](../../../security-center/security-center-introduction.md)하는 방법을 참조 하세요.

