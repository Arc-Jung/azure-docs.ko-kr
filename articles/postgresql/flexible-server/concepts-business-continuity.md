---
title: Azure Database for PostgreSQL 유연한 서버를 사용한 비즈니스 연속성 개요
description: Azure Database for PostgreSQL 유연한 서버를 통한 비즈니스 연속성 개념에 대해 알아보기
author: sr-msft
ms.author: srranga
ms.service: postgresql
ms.topic: conceptual
ms.date: 09/22/2020
ms.openlocfilehash: 264bb8c66510c90fecf12d2e4e68bd969b4fb474
ms.sourcegitcommit: 53acd9895a4a395efa6d7cd41d7f78e392b9cfbe
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/22/2020
ms.locfileid: "90938693"
---
# <a name="overview-of-business-continuity-with-azure-database-for-postgresql---flexible-server"></a>Azure Database for PostgreSQL 유연한 서버를 사용한 비즈니스 연속성 개요

> [!IMPORTANT]
> Azure Database for PostgreSQL - 유연한 서버는 미리 보기로 제공됨

Azure Database for PostgreSQL 유연한 서버에서 **비즈니스 연속성** 은 비즈니스에서 특히 컴퓨팅 인프라에 대 한 중단을 계속 진행할 수 있도록 하는 메커니즘, 정책 및 절차를 의미 합니다. 대부분의 경우 유연한 서버는 클라우드 환경에서 발생할 수 있는 중단 이벤트를 처리 하 고 응용 프로그램 및 비즈니스 프로세스를 계속 실행 합니다. 그러나 다음과 같이 자동으로 처리할 수 없는 몇 가지 이벤트가 있습니다.

- 사용자가 실수로 테이블의 행을 삭제 하거나 업데이트 합니다.
- 지진을 사용 하면 정전이 발생 하 고 데이터 센터 또는 가용성 영역을 일시적으로 사용 하지 않도록 설정할 수 있습니다.
- 버그 또는 보안 문제를 해결 하기 위해 데이터베이스를 패치 해야 합니다.

유연한 서버는 계획 되거나 계획 되지 않은 가동 중지 시간이 발생 하는 경우 중요 업무용 데이터베이스의 가동 중지 시간을 완화 하 고 데이터를 보호 하는 기능을 제공 합니다. 강력한 복원 력 및 가용성을 이미 제공 하는 Azure 인프라를 기반으로 구축 된 유연한 서버에는 추가 오류 방지를 제공 하 고, 복구 시간 요구 사항을 해결 하 고, 데이터 손실 노출을 줄이는 비즈니스 연속성 기능이 있습니다. 응용 프로그램을 설계할 때 가동 중지 허용 오차 (RTO (복구 시간 목표) 및 RPO (복구 지점 목표))를 고려해 야 합니다. 예를 들어 비즈니스에 중요 한 데이터베이스에는 테스트 데이터베이스에 비해 훨씬 엄격한 작동 시간 요구 사항이 필요 합니다.  

> [!IMPORTANT]
> 작동 시간% SLA (서비스 수준 계약)는 미리 보기 중에 제공 되지 않습니다. 

다음 표에서는 유연한 서버에서 제공 하는 기능을 보여 줍니다.


| **기능** | **설명** | **고려 사항** |
| ---------- | ----------- | ------------ |
| **자동 백업** | 유연한 서버는 데이터베이스 파일의 매일 백업을 자동으로 수행 하 고 트랜잭션 로그를 지속적으로 백업 합니다. 백업은 7 일에서 최대 35 일까지 보존할 수 있습니다. 데이터베이스 서버는 백업 보존 기간 내의 특정 시점으로 복원할 수 있습니다. RTO는 복원할 데이터의 크기 + 로그 복구를 수행 하는 시간에 따라 달라 집니다. 몇 분에서 12 시간까지 걸릴 수 있습니다. 자세한 내용은 [개념-백업 및 복원](./concepts-backup-restore.md)을 참조 하세요. |백업 데이터는 지역 내에 유지 됩니다. |
| **영역 중복 고가용성** | 기본 및 대기 서버가 지역 내의 서로 다른 두 가용성 영역에 배포 되는 영역 중복 HA (고가용성) 구성을 사용 하 여 유연한 서버를 배포할 수 있습니다. 이 HA 구성은 영역 수준 오류 로부터 데이터베이스를 보호 하 고 계획 되거나 계획 되지 않은 가동 중지 시간 이벤트 동안 응용 프로그램 가동 중지 시간을 줄이는 데도 도움을 줍니다. 주 서버의 데이터가 동기 모드의 대기 복제본에 복제 됩니다. 주 서버에 장애가 발생 하는 경우 서버는 자동으로 대기 복제본으로 장애 조치 (failover) 됩니다. 대부분의 경우 RTO는 60 초-120s 이내에 있어야 합니다. RPO는 0 (데이터 손실 없음) 이어야 합니다. 자세한 내용은 [개념-](./concepts-high-availability.md)고가용성을 참조 하세요. | 범용 및 메모리 액세스에 최적화 된 계산 계층에서 지원 됩니다. 여러 영역을 사용할 수 있는 지역 에서만 사용할 수 있습니다. |
| **프리미엄 관리 디스크** | 데이터베이스 파일은 내구성이 뛰어나고 안정적인 프리미엄 관리 저장소에 저장 됩니다. 이는 자동 데이터 복구 기능을 사용 하 여 가용성 영역 내에 저장 된 세 개의 복제본 복사본을 사용 하 여 데이터 중복성을 제공 합니다. 자세한 내용은 [Managed disks 설명서](https://docs.microsoft.com/azure/virtual-machines/managed-disks-overview)를 참조 하세요. | 가용성 영역 내에 저장 된 데이터입니다. |
| **영역 중복 백업** | 유연한 서버 백업은 지역 내에서 영역 중복 저장소에 자동으로 안전 하 게 저장 됩니다. 서버를 프로 비전 하는 영역 수준 오류가 발생 하는 경우와 서버에 영역 중복성이 구성 되지 않은 경우에도 다른 영역에 있는 최신 복원 지점을 사용 하 여 데이터베이스를 복원할 수 있습니다. 자세한 내용은 [개념-백업 및 복원](./concepts-backup-restore.md)을 참조 하세요.| 여러 영역을 사용할 수 있는 지역에만 적용 됩니다.|


## <a name="planned-downtime-events"></a>계획 된 가동 중지 시간 이벤트
다음은 몇 가지 계획 된 유지 관리 시나리오입니다. 이러한 이벤트는 일반적으로 최대 몇 분의 가동 중지 시간 및 데이터 손실 없이 발생 합니다.

| **시나리오** | **Process**|
| ------------------- | ----------- | 
| <b>계산 크기 조정 (사용자가 시작한)| 계산 크기 조정 작업을 수행 하는 동안 활성 검사점을 완료할 수 있고, 클라이언트 연결이 종료 되 고, 커밋되지 않은 모든 트랜잭션이 취소 되 고, 저장소가 분리 된 후 종료 됩니다. 데이터베이스 서버 이름이 동일한 새 유연한 서버는 크기 조정 된 계산 구성으로 프로 비전 됩니다. 그러면 저장소는 새 서버에 연결 되 고, 필요한 경우 클라이언트 연결을 허용 하기 전에 복구를 수행 하는 데이터베이스가 시작 됩니다. |
| <b>저장소 확장 (사용자가 시작한) | 저장소 확장 작업이 시작 되 면 활성 검사점이 완료 되 고, 클라이언트 연결이 종료 되 고, 커밋되지 않은 모든 트랜잭션이 취소 된 후 종료 됩니다. 저장소는 원하는 크기로 확장 된 다음 새 서버에 연결 됩니다. 클라이언트 연결을 허용 하기 전에 필요한 경우 복구가 수행 됩니다. 저장소 크기를 축소 하는 것은 지원 되지 않습니다. |
| <b>새 소프트웨어 배포 (Azure에서 시작) | 새 기능 출시 또는 버그 수정은 서비스의 계획 된 유지 관리의 일부로 자동으로 수행 되며 이러한 활동이 발생 하는 시기를 예약할 수 있습니다. 자세한 내용은 [포털](https://aka.ms/servicehealthpm)을 확인 하세요. | 
| <b>부 버전 업그레이드 (Azure에서 시작) | Azure에서 결정 하는 부 버전에 데이터베이스 서버를 자동으로 패치 Azure Database for PostgreSQL 합니다. 서비스의 계획 된 유지 관리의 일환으로 발생 합니다. 데이터베이스 서버는 새 부 버전으로 자동으로 다시 시작 됩니다. 자세한 내용은 [설명서](https://docs.microsoft.com/azure/postgresql/concepts-monitoring#planned-maintenance-notification)를 참조하세요. [포털](https://aka.ms/servicehealthpm)을 확인할 수도 있습니다.| 

 유연한 서버가 **영역 중복 고가용성**으로 구성 된 경우 유연한 서버는 먼저 대기 서버에서 크기 조정 및 유지 관리 작업을 수행 합니다. 자세한 내용은 [개념-](./concepts-high-availability.md)고가용성을 참조 하세요.

##  <a name="unplanned-downtime-mitigation"></a>계획 되지 않은 가동 중지 시간 완화

계획 되지 않은 가동 중지 시간 기본 하드웨어 오류, 네트워킹 문제 및 소프트웨어 버그와 같은 예측할 수 없는 중단의 결과로 발생할 수 있습니다. 고가용성으로 구성 된 데이터베이스 서버가 예기치 않게 중단 되 면 대기 복제본이 활성화 되 고 클라이언트에서 해당 작업을 다시 시작할 수 있습니다. HA (고가용성)를 사용 하 여 구성 하지 않은 경우 다시 시작 시도가 실패 하면 새 데이터베이스 서버가 자동으로 프로 비전 됩니다. 계획 되지 않은 가동 중지 시간은 피할 수 없지만 유연한 서버는 사용자의 개입 없이 복구 작업을 자동으로 수행 하 여 가동 중지 시간을 완화 하는 데 도움이 됩니다. 
   
### <a name="unplanned-downtime-failure-scenarios-and-service-recovery"></a>계획 되지 않은 가동 중지 시간: 오류 시나리오 및 서비스 복구
다음은 계획 되지 않은 오류 시나리오 및 복구 프로세스입니다. 

| **시나리오** | **복구 프로세스 [비 HA]** | **복구 프로세스 [HA]** |
| ---------- | ---------- | ------- |
| <B>데이터베이스 서버 오류 | 데이터베이스 서버가 다운 되 면 Azure는 데이터베이스 서버를 다시 시작 합니다. 이 작업이 실패 하면 다른 실제 노드에서 데이터베이스 서버가 다시 시작 됩니다.  <br /> <br /> RTO (복구 시간)는 대규모 트랜잭션과 같이 오류가 발생 한 시점의 작업과 데이터베이스 서버 시작 프로세스 중에 수행할 복구 볼륨을 비롯 한 다양 한 요인에 따라 달라 집니다. <br /> <br /> PostgreSQL 데이터베이스를 사용 하는 응용 프로그램은 삭제 된 연결과 실패 한 트랜잭션을 검색 하 고 다시 시도 하는 방식으로 빌드해야 합니다. | 데이터베이스 서버 오류가 검색 되 면 서버가 대기 서버로 장애 조치 (failover) 되므로 가동 중지 시간을 줄일 수 있습니다. 자세한 내용은 [HA 개념 페이지](../concepts-high-availability.md)를 참조 하세요. RTO는 60-120s 이어야 하며 데이터가 손실 됩니다. |
| <B>저장소 오류 | 응용 프로그램에는 디스크 오류 또는 물리적 블록 손상과 같은 저장소 관련 문제에 대 한 영향이 표시 되지 않습니다. 데이터는 세 개의 복사본에 저장 되므로 데이터의 복사본은 활성 저장소로 제공 됩니다. 손상 된 데이터 블록이 자동으로 복구 되 고 데이터의 새 복사본이 자동으로 생성 됩니다. | 전체 저장소에 액세스할 수 없는 경우를 비롯 하 여 복구할 수 없는 오류가 발생 하는 경우에는 유연한 서버를 대기 복제본으로 장애 조치 (failover) 하 여 가동 중지 시간을 줄입니다. 자세한 내용은 [HA 개념 페이지](../concepts-high-availability.md)를 참조 하세요. |
| <b> 논리적/사용자 오류 | 실수로 테이블이 나 잘못 업데이트 된 데이터와 같은 사용자 오류 로부터 복구 하려면 PITR (지정 [시간 복구](https://docs.microsoft.com/azure/postgresql/concepts-backup) )를 수행 해야 합니다. 복원 작업을 수행 하는 동안 오류가 발생 하기 직전의 시간인 사용자 지정 복원 지점을 지정 합니다.<br> <br>  데이터베이스 서버의 모든 데이터베이스가 아니라 데이터베이스 또는 특정 테이블의 하위 집합만 복원 하려면 새 인스턴스에서 데이터베이스 서버를 복원 하 고 [pg_dump](https://www.postgresql.org/docs/11/app-pgdump.html)를 통해 테이블을 내보낸 다음 [pg_restore](https://www.postgresql.org/docs/11/app-pgrestore.html) 를 사용 하 여 해당 테이블을 데이터베이스로 복원할 수 있습니다. | 이러한 사용자 오류는 모든 변경 내용이 대기 복제본에 동기적으로 복제 되므로 고가용성으로 보호 되지 않습니다. 이러한 오류를 복구 하려면 특정 시점 복원을 수행 해야 합니다. |
| <b> 가용성 영역 실패 | 영역 수준 오류에서 복구 하려면 백업을 사용 하 여 지정 시간 복원을 수행 하 고 최신 데이터를 복원 하기 위한 최신 시간을 사용 하 여 사용자 지정 복원 지점을 선택할 수 있습니다. 새 유연한 서버는 영향을 받지 않는 다른 영역에 배포 됩니다. 복원 하는 데 걸리는 시간은 복구 하려는 이전 백업 및 트랜잭션 로그의 양에 따라 달라 집니다. | 유연한 서버는 데이터 손실 없이 60-120s 이내에 대기 서버에 자동으로 장애 조치 (failover) 됩니다. 자세한 내용은 [HA 개념 페이지](../concepts-high-availability.md)를 참조 하세요. | 
| <b> 지역 오류 | 지역 간 읽기 복제본과 백업 기능의 지역 복원은 아직 미리 보기에서 지원 되지 않습니다. | |


> [!IMPORTANT]
> 삭제 된 서버는 복원할 수 **없습니다**   . 서버를 삭제하면 해당 서버에 속한 모든 데이터베이스도 삭제되고 복구할 수 없습니다. [Azure 리소스 잠금을](https://docs.microsoft.com/azure/azure-resource-manager/management/lock-resources)사용   하 여 실수로 서버를 삭제 하는 것을 방지 합니다.


## <a name="next-steps"></a>다음 단계

-    [영역 중복 고가용성](./concepts-high-availability.md) 에 대해 알아보기
-   [백업 및 복구](./concepts-backup-restore.md) 에 대 한 자세한 정보
