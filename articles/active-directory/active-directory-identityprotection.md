<properties
	pageTitle="Azure Active Directory ID 보호 | Microsoft Azure"
	description="Azure AD ID 보호를 사용하여 손상된 ID 및 장치를 악용하는 공격자의 능력을 제한하고 이전에 손상이 우려되거나 손상된 ID 또는 장치를 보호할 수 있는 방법을 알아봅니다."
	services="active-directory"
	keywords="Azure Active Directory ID 보호, 클라우드 앱 검색, 응용 프로그램 관리, 보안, 위험, 위험 수준, 취약점, 보안 정책"
	documentationCenter=""
	authors="markusvi"
	manager="stevenpo"
	editor=""/>

<tags
	ms.service="active-directory"
	ms.workload="identity"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="03/02/2016"
	ms.author="markvi"/>

#Azure Active Directory ID 보호 

Azure Active Directory ID 보호는 조직의 ID에 영향을 주는 위험 이벤트와 잠재적 취약성에 대한 통합된 뷰를 제공하는 보안 서비스입니다. Microsoft는 10년 넘게 클라우드 기반 ID를 보호했습니다. Microsoft는 Azure AD ID 보호를 사용하여 기업 고객이 이러한 동일한 보호 시스템을 사용할 수 있도록 노력하고 있습니다. ID 보호는 기존 Azure AD의 비정상 감지 기능(Azure AD의 비정상적인 작업 보고서를 통해 사용 가능)을 활용하고 실시간으로 잘못된 부분을 검색할 수 있는 새로운 위험 이벤트 유형을 소개합니다.

> [AZURE.NOTE] ID 보호의 미리 보기는 현재 미국에서 프로 비전되는 Azure AD 테넌트에만 사요알 수 있습니다.
 

대부분의 보안 침해는 공격자가 사용자의 ID를 도용하여 환경에 대한 액세스 권한을 얻을 때 발생합니다. 공격자는 점점 더 효과적으로 제3자 침해를 활용하고 정교한 피싱 공격을 사용하고 있습니다. 일단 공격자가 더 낮은 권한을 가진 사용자 계정에 대한 액세스 권한을 얻게 되면 측면 이동을 통해 비교적 간단하게 중요한 회사 리소스에 대한 액세스 권한을 얻게 됩니다. 따라서 모든 ID를 보호하고 ID가 손상된 경우 사전에 손상된 ID가 악용되지 않도록 방지하는 것이 필수적입니다.

손상된 ID를 검색하는 것은 쉬운 작업이 아닙니다. 다행히도 ID 보호로 도울 수 있습니다. ID 보호는 적응 기계 학습 알고리즘 및 경험적 접근 방법을 사용하여 ID가 손상되었음을 나타낼 수 있는 잘못된 부분 및 위험 이벤트를 감지합니다.
 
ID 보호는 이 데이터를 사용하여 이러한 위험 이벤트를 조사하고 적절한 수정 또는 완화 작업을 수행할 수 있도록 하는 보고서 및 경고를 생성합니다.
 
하지만 Azure Active Directory ID 보호의 기능은 모니터링 및 보고 도구 이상입니다. ID 보호는 위험 이벤트에 따라 각 사용자에 대한 위험 수준을 계산하며 이는 위험 기반 정책을 구성하여 조직의 ID를 자동으로 보호할 수 있도록 합니다. Azure Active Directory 및 EMS에서 제공되는 다른 조건부 액세스 제어 외에도 이러한 위험 기반 정책은 암호 재설정 및 Multi-Factor Authentication 적용을 포함하는 적응형 수정 작업을 자동으로 차단하거나 제공할 수 있습니다.

####ID 보호의 기능 살펴보기 

**위험 이벤트 및 위험한 계정 검색:**

- 기계 학습 및 경험적 접근 규칙을 사용하여 6가지 위험 이벤트 유형 검색 

- 사용자 위험 수준 계산

- 취약점을 강조 표시하여 전반적인 보안 포스처를 개선하도록 사용자 지정 권장 사항 제공

<br>

**위험 이벤트 조사:**

- 위험 이벤트에 대한 알림 보내기

- 관련된 컨텍스트 정보를 사용하여 위험 이벤트 조사

- 기본 워크플로를 제공하여 조사 추적

- 암호 재설정 등 수정 작업에 쉬운 액세스 제공

<br>

**위험 기준 조건부 액세스 정책:**

- 로그인을 차단하거나 Multi-Factor Authentication 과제를 요구하여 위험한 로그인을 완화하는 정책입니다.

- 위험한 사용자 계정 차단 및 보호 정책

- Multi-Factor Authentication에 사용자 등록 요구 정책


## 검색 및 위험

### 위험 이벤트

위험 이벤트는 ID 보호에서 의심스러운 것으로 플래그가 지정된 이벤트이며 ID가 손상되었을 수 있음을 나타냅니다. 위험 이벤트의 목록은 [위험 이벤트의 유형](#types-of-risk-events)을 참조하세요. 이러한 위험 이벤트 중 일부는 Azure 관리 포털에서 Azure AD 비정상적인 작업 보고서를 통해 제공되었습니다. 아래 테이블에서는 다양한 위험 이벤트 유형 및 해당하는 **Azure AD 비정상적인 작업** 보고서를 나열합니다. Microsoft는 이 공간에 계속 투자하며 지속적으로 기존 위험 이벤트의 검색 정확도를 향상시키고 새 위험 이벤트 유형을 추가할 예정입니다.



| ID 보호 위험 이벤트 유형 | 해당하는 Azure AD 비정상적인 작업 보고서 |
| :-- | :-- |
| 유출된 자격 증명 | 자격 증명이 손실된 사용자 |
| 비정상적 위치로 불가능한 이동 |	비정상적인 로그인 작업 |
| 감염된 장치에서 로그인 | 감염 가능성이 있는 장치에서 로그인 |
| 익명 IP 주소에서 로그인 | 알 수 없는 원본에서 로그인 |
| 의심스러운 작업이 있는 IP 주소에서 로그인 |	의심스러운 작업이 있는 IP 주소에서 로그인 |
| 알 수 없는 위치에서 로그인 | - | | 잠금 이벤트(공개 미리 보기 상태 아님) | - |

다음의 Azure AD 비정상적인 작업 보고서는 Azure AD ID 보호에서 위험 이벤트로 포함되지 않으며 따라서 ID 보호를 통해 사용할 수 없습니다. 이러한 보고서는 Azure 관리 포털에서 사용할 수 있지만 나중에 ID 보호에서 위험 이벤트에 의해 대체되는 경우 사용되지 않게 됩니다.

- 여러 번의 실패 후 로그인
- 여러 지역에서의 로그인

### 위험 수준

위험 이벤트에 대한 위험 수준은 위험 이벤트의 심각도를 표시(높음, 보통 또는 낮음)합니다. 위험 수준은 ID 보호 사용자가 해당 조직에 대한 위험을 줄이기 위해 취해야 하는 작업의 우선 순위를 지정하도록 합니다. 위험 이벤트의 심각도는 신호의 강도를 ID 손상의 예측 변수로 나타내며 일반적으로 생성되는 노이즈의 양과 결합됩니다.

- **높음**: 신뢰도 및 심각도가 높은 위험 이벤트입니다. 이러한 이벤트는 사용자의 ID가 손상되었음을 나타내는 확실한 지표이며 영향을 받는 모든 사용자는 즉시 수정되어야 합니다.

- **보통**: 심각도가 높지만 신뢰도가 낮은 위험 이벤트 또는 그 반대의 경우입니다. 이러한 이벤트는 잠재적으로 위험하며 영향을 받는 사용자 계정은 수정되어야 합니다.

- **낮음**: 신뢰도 및 심각도가 낮은 위험 이벤트입니다. 이 이벤트는 즉각적인 조치가 필요하지 않을 수 있지만 다른 위험 이벤트와 결합되면 ID가 손상되었음을 확실하게 표시할 수 있습니다.


![위험 수준](./media/active-directory-identityprotection/01.png "위험 수준")

 

위험 이벤트는 (오프라인으로) 이미 발생한 후에 **실시간** 또는 후처리로 식별됩니다. 현재 ID 보호에서 대부분의 위험 이벤트는 오프라인으로 계산되며 2-4시간 내에 ID 보호에 표시됩니다. 실시간으로 평가되는 동안 실시간 위험 이벤트는 5-10분 내에 ID 보호 콘솔에 표시됩니다.

현재 일부 레거시 클라이언트는 실시간 위험 이벤트 감지 및 방지를 지원하지 않습니다. 결과적으로, 이러한 클라이언트에서 로그인을 실시간으로 감지하거나 방지할 수 없습니다.

### 위험 이벤트의 유형

이 섹션에서는 위험 이벤트의 사용 가능한 유형을 간략하게 보여줍니다.

#### 유출된 자격 증명

Microsoft 보안 연구원은 Dark 웹에 공개적으로 게시된 유출된 자격 증명을 찾습니다. 일반적으로 이러한 자격 증명은 일반 텍스트에 있습니다. Azure AD 자격 증명에 대해 확인하여 일치하는 경우 ID 보호에서 "유출된 자격 증명"으로 보고됩니다.

사용자 이름 및 암호를 공격자가 사용할 수 있다고 명백히 표시하기 때문에 유출된 자격 증명 위험 이벤트는 "높은" 심각도 위험 이벤트로 분류됩니다.

#### 비정상적 위치로 불가능한 이동

이 위험 이벤트 유형은 지역적으로 떨어진 위치에서 시작한 두 번의 로그인을 식별합니다. 과거 동작을 고려하면 이 위치 중 하나 이상이 사용자에 대해 불규칙적입니다. 또한 두 번의 로그인 간의 시간은 사용자가 첫 번째 위치에서 두 번째 위치로 이동하는 데 걸리는 시간보다 짧습니다. 이는 서로 다른 사용자가 동일한 자격 증명을 사용하고 있음을 나타냅니다.

조직의 다른 사용자가 정기적으로 사용하는 VPN 및 위치와 같은 불가능한 이동 조건에 영향을 주는 확실한 "*가양성*"을 무시하는 기계 학습 알고리즘입니다. 시스템에는 새 사용자의 로그인 동작을 알아보는 동안 14일의 초기 학습 기간이 있습니다.

불가능한 이동은 일반적으로 해커가 성공적으로 로그인할 수 있는 훌륭한 지표입니다. 그러나 사용자가새 장치를 사용하거나 조직의 다른 사용자가 일반적으로 사용하지 않는 VPN을 사용하여 이동하는 경우 가양성이 발생할 수 있습니다. 가양성의 다른 원본은 서버 IP 및 클라이언트 IP를 정확하지 않게 전달하는 응용 프로그램이며 응용 프로그램의 백 엔드가 호스팅되는 데이터 센터에서 발생하는 로그인의 모양을 가져올 수 있습니다(대개 이러한 Microsoft 데이터 센터는 Microsoft에서 소유한 고유의 IP 주소를 발생시키는 로그인의 모양을 제공할 수 있음). 이러한 가양성의 결과로 이 위험 이벤트에 대한 위험 수준은 “**보통**”입니다.

####감염된 장치에서 로그인

이 위험 이벤트 유형은 적극적으로 봇 서버와 통신한다고 알려진 맬웨어로 감염된 장치에서 시도한 로그인을 식별합니다. 봇 서버와 접촉했던 IP 주소에 대해 사용자의 장치의 IP 주소를 상호 연결하여 결정됩니다.

이 위험 이벤트는 사용자 장치가 아닌 IP 주소를 식별합니다. 여러 장치가 단일 IP 주소에서 비롯되고 일부만이 봇 네트워크에 의해 제어되는 경우 다른 장치에서 시도한 로그인은 이 이벤트를 불필요하게 트리거할 수 있습니다. 이것이 해당 위험 이벤트를 "**낮음**"으로 분류하는 이유입니다.

사용자에게 연락하고 모든 사용자 장치를 검사하는 것이 좋습니다. 사용자의 개인 장치가 감염되었거나 이전에 언급했듯이 사용자 이외의 다른 사람이 사용자와 동일한 IP 주소에서 감염된 장치를 사용했을 가능성이 있습니다. 감염된 장치는 종종 바이러스 백신 소프트웨어로 아직 식별되지 않는 맬웨어로 감염됩니다. 또한 장치에 감염을 일으킬 수 있는 잘못된 사용자 습관을 나타낼 수 있습니다.

맬웨어 감염을 해결하는 방법에 대한 자세한 내용은 [맬웨어 보호 센터](http://go.microsoft.com/fwlink/?linkid=335773&clcid=0x409)(영문)를 참조하세요.


#### 익명 IP 주소에서 로그인

이 위험 이벤트 유형은 익명 프록시 IP 주소로 식별된 IP 주소에서 시도하여 성공적으로 로그인한 사용자를 식별합니다. 이 프록시는 해당 장치의 IP 주소를 숨기려는 사용자가 사용하며 악의적인 의도로 사용될 수 있습니다.

사용자에게 즉시 문의하여 익명 IP 주소를 사용했는지를 확인하는 것이 좋습니다. 익명 IP는 그 자체로 계정 손상을 확실히 표시하지 않기 때문에 이 위험 이벤트 유형의 위험 수준은 "**보통**"입니다.

#### 의심스러운 작업이 있는 IP 주소에서 로그인

이 위험 이벤트 유형은 짧은 기간 동안에 여러 사용자 계정에서 실패한 로그인 시도가 많이 확인되는 IP 주소를 식별합니다. 이는 공격자가 사용하는 IP 주소의 트래픽 패턴과 일치하며 계정이 이미 또는 손상되었거나 손상될 것이라는 확실한 지표입니다. 조직의 다른 사용자가 정기적으로 사용하는 IP 주소와 같은 명백한 "*가양성*"을 무시하는 기계 학습 알고리즘입니다. 시스템에는 새 사용자 및 새 테넌트의 로그인 동작을 알아보는 14일의 초기 학습 기간이 있습니다.

사용자에게 문의하여 의심스럽다고 표시된 IP 주소에서 실제로 로그인했는지를 확인하는 것이 좋습니다. 일부가 의심스러운 작업에 책임이 있을 수 있는 반면 동일한 IP 주소에 여러 장치가 있을 수 있으므로 이 이벤트 유형의 위험 수준은 "**보통**"입니다.


#### 잘 모르는 위치에서 로그인

이 위험 이벤트 유형은 새로운/알 수 없는 위치를 확인하기 위해 과거 로그인 위치(IP, 위도/경도 및 ASN)를 고려하는 실시간 로그인 평가 메커니즘입니다. 시스템은 사용자가 사용한 이전 위치에 대한 정보를 저장하고 이러한 "익숙한" 위치를 고려합니다. 로그인이 익숙한 위치 목록에 없는 위치에서 발생하는 경우 위험 이벤트가 트리거됩니다. 시스템에는 새로운 위치를 알 수 없는 위치의 플래그로 지정하지 않는 14일의 초기 학습 기간이 있습니다. 또한 시스템은 익숙한 장치 및 익숙한 위치에 지리적으로 가까운 위치에서 시도한 로그인을 무시합니다. <br> 알 수 없는 위치는 공격자가 도난당한 ID를 사용하려고 시도할 수 있다는 확실한 표시를 제공할 수 있습니다. 가양성은 사용자가 새 장치를 사용하거나 새 VPN을 사용하여 이동할 때 발생할 수 있습니다. 이러한 가양성의 결과로 이 이벤트 유형의 위험 수준은 “**보통**”입니다.

### 취약점

취약점은 공격자에 의해 악용될 수 있는 환경의 단점입니다. 이러한 취약점을 해결하여 조직에서 보안 상태를 개선하고 공격자가 이러한 취약점을 악용하지 않도록 방지하는 것이 좋습니다.

#### Multi-Factor Authentication 등록 구성되지 않음 

이 취약점을 사용하면 조직에서 Azure Multi-Factor Authentication의 배포를 제어할 수 있습니다.

Multi-Factor Authentication은 사용자 인증에 두 번째 계층의 보안을 제공합니다. 간단한 로그인 프로세스에 대한 사용자 요구를 충족하는 동안 데이터와 응용 프로그램에 대한 액세스를 보호하는 데 도움이 됩니다. 전화 통화, 문자 메시지 또는 모바일 앱 알림 또는 확인 코드 및 타사 OATH 토큰과 같은 다양한 손쉬운 확인 옵션을 통해 강력한 인증을 전달합니다.

사용자 로그인에 Multi-Factor Authentication을 요구하는 것이 좋습니다. Multi-Factor Authentication은 ID 보호를 통해 사용할 수 있는 위험 기반 조건부 액세스 정책에서 중요한 역할을 합니다.

자세한 세부 내용은 [Azure Multi-Factor Authentication 정의](../multi-factor-authentication/multi-factor-authentication.md)를 참조하세요.


#### 관리되지 않은 클라우드 앱

이 취약점을 사용하면 조직에서 관리되지 않은 클라우드 앱을 식별할 수 있습니다.
 
오늘날 기업에서 IT 부서는 해당 조직의 사용자가 작업하는 데 사용하고 있는 일부 클라우드 응용 프로그램을 인지하지 못하는 경우가 있습니다. 관리자가 회사 데이터에 대한 무단 액세스, 데이터 유출 가능성 및 기타 보안 위험에 대해 우려하는 원인을 쉽게 확인합니다.

Azure Active Directory를 사용하여 관리되지 않은 클라우드 응용 프로그램을 검색하고 이러한 응용 프로그램을 관리하도록 조직에서 클라우드 앱 검색을 배포하는 것이 좋습니다.

자세한 내용은 [클라우드 앱 검색을 사용하여 관리되지 않은 클라우드 응용 프로그램 찾기](active-directory-cloudappdiscovery-whatis.md)를 참조하세요.



####Privileged Identity Management에서 보안 경고

이 취약점을 사용하여 조직에서 권한있는 ID에 대한 경고를 검색하고 해결할 수 있습니다.

사용자가 권한이 필요한 작업을 수행할 수 있도록 조직에서는 Azure AD, Azure 또는 Office 365 리소스에서 기타 SaaS 앱에 대한 임시 또는 영구 액세스 권한을 사용자에게 부여해야 합니다. 이러한 권한이 있는 사용자는 조직의 공격에 대한 취약성을 증가시킵니다. 이 취약점을 사용하여 불필요한 액세스 권한이 있는 사용자를 식별하고 적절한 조치를 취해 이들이 미치는 위험을 줄이고 제거할 수 있습니다.

조직에서 Azure AD Privileged Identity Management를 사용하여 Azure AD 및 기타 Microsoft 온라인 서비스(Office 365 또는 Microsoft Intune 등)에서 권한 있는 ID 및 리소스에 대한 액세스를 관리, 제어, 모니터링하는 것이 좋습니다.

자세한 내용은 [Privileged Identity Management](active-directory-privileged-identity-management-configure.md)를 참조하세요.

## 조사
ID 보호를 통한 이동은 일반적으로 ID 보호 대시보드를 시작합니다.

<br><br> ![재구성](./media/active-directory-identityprotection/29.png "재구성") <br>

대시보드는 다음에 대한 액세스를 제공합니다.
 
- **위험에 대한 플래그가 지정된 사용자**, **위험 이벤트** 및 **취약점**고 같은 보고서
- **보안 정책**, **알림** 및 **Multi-Factor Authentication 등록**의 구성과 같은 설정
 

일반적으로 조사를 위한 시작점이며, 수정 또는 완화 단계가 필요한지, ID가 어떻게 손상되었고 손상된 ID가 어떻게 사용되었는지를 결정하기 위해 작업, 로그 및 위험 이벤트와 관련된 기타 관련 정보를 검토하는 과정입니다.


### 알림

Azure AD ID 보호는 두 가지 유형의 자동화된 알림 전자 메일을 보내어 사용자 위험과 위험 이벤트를 관리합니다.

- 사용자 손상된 경고 전자 메일

- 주간 다이제스트 전자 메일

#### 사용자 손상된 경고 전자 메일

Azure AD ID 보호가 계정이 손상되었다고 식별하는 경우 사용자 손상된 전자 메일 경고를 생성합니다. 전자 메일은 ID 보호 콘솔에서 위험 보고서에 플래그가 지정된 사용자에 대한 링크를 포함합니다. 손상된 사용자에 대한 알림을 즉시 조사하는 것이 좋습니다.


#### 주간 다이제스트 전자 메일

주간 다이제스트 전자 메일은 새로운 위험 이벤트의 요약을 포함합니다.<br> 다음을 포함합니다.
- 위험에 노출된 사용자
- 보고된 위험 이벤트
- 감지된 취약점
- ID 보호에서 관련된 보고서에 대한 링크


<br> ![재구성](./media/active-directory-identityprotection/400.png "재구성") <br>

기본적으로 손상된 사용자 경고는 Azure Active Directory 관리자 모두에게 보내집니다. 다음으로 받는 사람을 사용자 지정할 수 있습니다.

- 경고의 맨 아래에서 받는 사람 링크 관리 수행

- ID 보호 설정에서 알림 클릭
 
<br> ![사용자 위험](./media/active-directory-identityprotection/62.png "사용자 위험") <br>
 



## 사용자 위험 수준이란?

사용자 위험 수준은 사용자의 ID가 손상된 가능성을 표시(높음, 보통 또는 낮음)합니다. 사용자의 ID와 연결된 사용자 위험 이벤트에 따라 계산됩니다.

위험 이벤트의 상태는 **활성** 또는 **닫힘**입니다. **활성** 상태인 위험 이벤트만이 사용자 위험 계산에 사용됩니다.

사용자 위험 수준은 다음 입력을 사용하여 계산됩니다.

- 사용자에 영향을 주는 활성 위험 이벤트
- 이러한 이벤트의 위험 수준 
- 수정 작업이 수행되었는지 여부 

<br> ![사용자 위험](./media/active-directory-identityprotection/86.png "사용자 위험") <br>



사용자 위험 수준을 사용하여 위험한 사용자의 로그인을 차단하는 조건부 액세스 정책을 만들 수 있고 해당 암호를 안전하게 변경하도록 강제할 수 있습니다.


## 수동으로 위험 이벤트 닫기

대부분의 경우에서 자동으로 위험 이벤트를 닫도록 다시 설정된 보안 암호와 같은 수정 작업을 수행합니다. 그러나 불가능할 수 있습니다. <br> **활성** 상태인 위험 이벤트는 사용자 위험 계산에 사용될 수 있기 때문에 수동으로 위험 이벤트를 닫아서 위험 수준을 낮춰야 합니다. <br> 조사하는 과정 동안 이러한 작업을 수행하여 위험 이벤트의 상태를 변경할 수 있습니다.

<br> ![actions](./media/active-directory-identityprotection/34.png "actions") <br>

- **해결** - 위험 이벤트를 검사한 후에 ID 보호 외부에서 적절한 수정 작업을 수행하고 위험 이벤트가 닫힌 것으로 간주되어야 한다고 판단하는 경우 이벤트를 "해결됨"으로 표시합니다. 해결된 이벤트는 위험 이벤트의 상태를 닫힘으로 설정하고 위험 이벤트는 더 이상 사용자 위험에 영향을 주지 않습니다.

- **가양성으로 표시** - 경우에 따라 위험 이벤트를 조사하여 플래그 지정이 위험으로 잘못 지정되었음을 발견할 수 있습니다. 위험 이벤트를 가양성으로 표시하여 이러한 발생 횟수를 줄일 수 있습니다. 기계 학습 알고리즘이 나중에 비슷한 이벤트를 분류하는 작업을 개선하도록 합니다. 가양성 이벤트가 **닫힘** 상태이면 더 이상 사용자 위험에 영향을 주지 않습니다.

- **무시** - 수정 작업을 수행하지 않지만 위험 이벤트를 활성 목록에서 제거하려면 위험 이벤트를 무시로 표시할 수 있고 이벤트 상태가 닫히게 됩니다. 무시된 이벤트는 사용자 위험에 영향을 주지 않습니다. 이 옵션은 이례적인 상황에서만 사용해야 합니다.

- **다시 활성화** - 수동으로 닫힌 위험 이벤트(**해결**, **가양성** 또는 **무시**를 선택하여)는 이벤트 상태를 다시 **활성**으로 설정하여 다시 활성화될 수 있습니다. 다시 활성화된 위험 이벤트는 사용자 위험 수준 계산에 영향을 줍니다. 수정(예: 보안 암호를 다시 설정)을 통해 닫힌 위험 이벤트를 다시 활성화할 수 없습니다.



## 사용자 위험 이벤트 수정

수정은 이전에 손상이 우려되거나 손상된 ID 또는 장치를 보호하는 작업입니다. 수정 작업은 ID 또는 장치를 안전한 상태로 복원하고 ID 또는 장치와 연결된 이전 위험 이벤트를 확인합니다.

사용자 위험 이벤트를 수정하려면 다음을 수행할 수 있습니다.

- 보안 암호 다시 설정을 수행하여 수동으로 사용자 위험 이벤트 수정 

- 사용자 위험 보안 정책을 구성하여 자동으로 사용자 위험 이벤트 완화 또는 수정

- 감염된 장치를 이미지로 다시 설치


### 안전한 암호 다시 설정

안전한 암호 다시 설정은 여러 위험 이벤트를 효과적으로 수정하며 수행될 때 자동으로 이러한 위험 이벤트를 닫고 사용자 위험 수준을 다시 계산합니다. ID 보호 콘솔을 사용하여 위험한 사용자에 대한 암호 다시 설정을 시작할 수 있습니다.

콘솔은 암호를 다시 설정하는 두 가지 방법을 제공합니다.

**암호 다시 설정** - **사용자가 암호를 다시 설정해야 합니다**를 선택하여 사용자가 Multi-Factor Authentication에 등록하는 경우 자체 복구할 수 있도록 합니다. 사용자가 다음 번에 로그인하는 동안 사용자는 Multi-Factor Authentication 과제를 성공적으로 해결해야 하며 암호를 변경하도록 강제됩니다. 사용자 계정이 Multi-Factor Authentication에 등록되지 않은 경우 이 옵션을 사용할 수 없습니다.

**임시 암호** - **임시 암호 생성**을 선택하여 즉시 기존 암호를 무효화하고 사용자에 대한 새 임시 암호를 만듭니다. 사용자에 대한 대체 전자 메일 주소 또는 사용자의 관리자에게 새 임시 암호를 보냅니다. 암호가 임시적이기 때문에 사용자는 로그인 시 암호를 변경하라는 메시지를 받습니다.

<br> ![정책](./media/active-directory-identityprotection/71.png "정책") <br>



## 사용자 위험 보안 정책

사용자 위험 보안 정책은 특정 사용자에 대한 위험 수준을 평가하고 미리 정의된 조건 및 규칙에 따라 수정 및 완화 작업을 적용하는 조건부 액세스 정책입니다. <br><br> ![사용자 ridk 정책](./media/active-directory-identityprotection/500.png "사용자 ridk 정책") <br>

Azure AD ID 보호를 사용하면 다음을 사용하여 위험에 플래그가 지정된 사용자의 완화 및 수정을 관리할 수 있습니다.

- 정책이 적용되는 사용자 및 그룹 설정 <br><br> ![사용자 ridk 정책](./media/active-directory-identityprotection/501.png "사용자 ridk 정책") <br>

- 암호 변경을 트리거하는 사용자 위험 수준 임계값 설정(낮음, 보통 또는 높음) <br><br> ![사용자 ridk 정책](./media/active-directory-identityprotection/502.png "사용자 ridk 정책") <br>

- 사용자 차단을 트리거하는 사용자 위험 수준 임계값 설정(낮음, 보통 또는 높음) <br><br> ![사용자 ridk 정책](./media/active-directory-identityprotection/503.png "사용자 ridk 정책") <br>

- 활성화하기 전에 변경의 영향 검토 및 평가 <br><br> ![사용자 ridk 정책](./media/active-directory-identityprotection/504.png "사용자 ridk 정책") <br>


**높은** 임계값을 선택하면 정책이 트리거되는 횟수를 줄이고 사용자에게 미치는 영향을 최소화합니다. 그러나 정책에서 위험에 플래그가 지정된 **낮은** 및 **보통** 사용자를 제외하며 이는 이전에 손상이 우려되거나 손상된 ID 또는 장치를 보호하지 않을 수 있습니다.

정책을 설정 하는 경우

- 많은 가양성(개발자, 보안 분석가)을 생성할 수 있는 사용자를 제외합니다.

- 정책을 사용하지 않는 것이 실용적이지 않은 로캘에서 사용자를 제외합니다(예: 기술 지원팀에 액세스 권한 없음).

- 초기 정책이 롤아웃하는 동안 또는 최종 사용자가 확인하는 과제를 최소화해야 하는 경우 **높은** 임계값을 사용합니다.

- 조직이 보안을 강화해야 하는 경우 **낮은** 임계값을 사용합니다. **낮은** 임계값을 선택하면 추가 사용자 로그인 과제가 발생하지만 보안이 강화됩니다.

대부분의 조직에 권장되는 기본값은 **보통** 임계값에 대한 규칙을 구성하여 유용성과 보안 간의 균형을 유지할 수 있습니다.



### 사용자 위험 이벤트 완화
관리자는 사용자 위험 보안 정책을 설정하여 위험 수준에 따라 로그인 시 사용자를 차단할 수 있습니다.

로그인 차단:
 
- 영향을 받는 사용자에 대한 새 사용자 위험 이벤트의 생성 방지

- 관리자가 사용자의 ID에 영향을 주는 위험 이벤트를 수정하고 안전한 상태로 복원할 수 있음





### 사용자 위험 수정 및 완화 흐름  

다음 섹션에서는 사용자 위험 수정 및 완화 흐름에 대한 사용자 환경의 개요를 제공합니다.

#### 손상된 계정 복구 흐름

사용자 위험 보안 정책이 구성된 경우 정책에 지정된 사용자 위험 수준을 만족하는 사용자(따라서 손상되었다고 가정됨)는 로그인할 수 있기 전에 사용자 손상 복구 흐름을 통해 이동해야 합니다.

사용자 손상 복구 흐름에는 세 가지 단계가 있습니다.

1. 사용자는 해당 계정 보안이 의심스러운 작업 또는 유출된 자격 증명으로 인해 위험에 노출되었다는 알림을 받습니다.

<br> ![재구성](./media/active-directory-identityprotection/101.png "재구성") <br>

2.	사용자가 보안 과제를 해결하여 해당 ID를 증명해야 합니다. Multi-Factor Authentication에 사용자를 등록하는 경우 손상되지 않도록 자체 복구할 수 있습니다. 해당 전화 번호에 보안 코드를 왕복해야 합니다. 

<br> ![재구성](./media/active-directory-identityprotection/110.png "재구성") <br>


3.	마지막으로, 다른 사람이 해당 계정에 액세스했을 수 있으므로 사용자는 해당 암호를 변경하도록 강제됩니다. 이러한 환경의 스크린 샷은 다음과 같습니다.
 
<br> ![재구성](./media/active-directory-identityprotection/111.png "재구성") <br>







 
#### 암호 재설정
로그인에서 사용자가 차단되어 있으면 관리자가 해당 사용자에게 임시 암호를 생성할 수 있습니다. 다음에 로그인할 때 해당 암호를 변경해야 합니다. 암호 변경은 사용자에 대한 대부분의 위험 이벤트 유형을 수정하고 닫습니다.

<br> ![재구성](./media/active-directory-identityprotection/160.png "재구성") <br>


### 사용자 위험 수준 완화

### 손상된 계정: 차단됨 

차단 해제된 사용자 위험 보안 정책에 의해 차단된 사용자를 가져오려면 사용자는 관리자 또는 기술 지원팀에 문의해야 합니다. 이 경우에 Multi-Factor Authentication을 해결하는 자체 복구는 불가능합니다.

<br> ![재구성](./media/active-directory-identityprotection/104.png "재구성") <br>


## 로그인 위험 이벤트 완화 
완화는 ID 또는 장치를 안전한 상태로 복원하지 않고 손상된 ID 또는 장치를 악용하는 공격자의 능력을 제한하는 작업입니다. 완화 조치는 ID 또는 장치와 연결된 이전 로그인 위험 이벤트를 해결하지 않습니다.

Azure AD ID 보호에 조건부 액세스를 사용하여 자동으로 로그인 위험 이벤트를 완화할 수 있습니다. 이러한 정책을 사용하여 사용자 또는 로그인의 위험 수준을 고려하여 위험한 로그인을 차단하거나 사용자가 Multi-Factor Authentication을 수행하도록 합니다. 이러한 작업은 공격자가 피해를 일으키는 도난당한 ID를 악용하지 않도록 방지하며 ID를 보호할 시간을 제공할 수 있습니다.


## 로그인 위험 보안 정책

로그인 위험 정책은 특정 로그인에 대한 위험을 평가하고 미리 정의된 조건 및 규칙에 따라 완화를 적용하는 조건부 액세스 정책입니다. <br><br> ![로그인 위험 정책](./media/active-directory-identityprotection/700.png "로그인 위험 정책") <br>

Azure AD ID 보호를 사용하면 다음을 사용하여 위험한 로그인을 완화하도록 관리할 수 있습니다.

- 정책이 적용되는 사용자 및 그룹 설정 <br><br> ![로그인 위험 정책](./media/active-directory-identityprotection/701.png "로그인 위험 정책") <br>

- 영향을 받는 로그인에 Multi-Factor Authentication 과제를 트리거하는 로그인 위험 수준 임계값 설정(낮음, 보통 또는 높음) <br><br> ![로그인 위험 정책](./media/active-directory-identityprotection/702.png "로그인 위험 정책") <br>

- 영향을 받는 로그인을 차단하는 로그인 위험 수준 임계값 설정 (낮음, 보통 또는 높음) <br><br> ![로그인 위험 정책](./media/active-directory-identityprotection/703.png "로그인 위험 정책") <br>

- 활성화하기 전에 변경의 영향 검토 및 평가 <br><br> ![로그인 위험 정책](./media/active-directory-identityprotection/704.png "로그인 위험 정책") <br>

 
**높은** 임계값을 선택하면 정책이 트리거되는 횟수를 줄이고 사용자에게 미치는 영향을 최소화합니다.<br> 그러나 정책에서 위험에 플래그가 지정된 **낮은** 및 **보통** 로그인을 제외하며 이는 공격자가 손상된 ID를 악용하지 않도록 차단하지 않을 수 있습니다.

정책을 설정 하는 경우

- Multi-Factor Authentication이 없는/있을 수 없는 사용자 제외

- 정책을 사용하지 않는 것이 실용적이지 않은 로캘에서 사용자를 제외합니다(예: 기술 지원팀에 액세스 권한 없음).

- 많은 가양성(개발자, 보안 분석가)을 생성할 수 있는 사용자를 제외합니다.

- 초기 정책이 롤아웃하는 동안 또는 최종 사용자가 확인하는 과제를 최소화해야 하는 경우 **높은** 임계값을 사용합니다.

- 조직이 보안을 강화해야 하는 경우 **낮은** 임계값을 사용합니다. **낮은** 임계값을 선택하면 추가 사용자 로그인 과제가 발생하지만 보안이 강화됩니다.

대부분의 조직에 권장되는 기본값은 **보통** 임계값에 대한 규칙을 구성하여 유용성과 보안 간의 균형을 유지할 수 있습니다.

 
로그인 위험 정책은 다음과 같습니다.

- 최신 인증을 사용하여 모든 브라우저 트래픽 및 로그인에 적용합니다.
- ADFS 등 페더레이션된 IDP에서 WS-Trust 끝점을 사용하지 않도록 설정하여 이전 보안 프로토콜을 사용하는 응용 프로그램에 적용하지 않습니다.

ID 보호 콘솔의 **위험 이벤트** 페이지에서는 모든 이벤트를 나열합니다.

- 이 정책은 다음에 적용되었습니다.
- 작업을 검토하고 작업이 적절한지 여부를 결정할 수 있습니다. 




## Multi-Factor Authentication 등록 정책

Multi-Factor Authentication은 사용자의 ID를 추가로 보증하는 데 사용됩니다.<br> Multi-Factor Authentication에 등록하는 작업은 계정 손상으로부터 조직을 보호하고 복구하는 준비의 중요한 단계입니다. <br> ![MFA 등록](./media/active-directory-identityprotection/600.png "MFA 등록") <br>

Azure AD ID 보호를 사용하면 다음을 사용하여 Multi-Factor Authentication 등록의 롤아웃을 관리할 수 있습니다.

- 정책이 적용되는 사용자 및 그룹 설정 <br><br> ![MFA 등록](./media/active-directory-identityprotection/601.png "MFA 등록") <br>

- 등록을 건너뛸 수 있는 기간 정의 <br><br> ![MFA 등록](./media/active-directory-identityprotection/602.png "MFA 등록") <br>

- 영향을 받는 사용자의 현재 등록 상태 보기 <br><br> ![MFA 등록](./media/active-directory-identityprotection/603.png "MFA 등록") <br>


##로그인 위험 완화 흐름 

#### 위험한 로그인 복구 흐름

관리자가 로그인 위험에 대한 정책을 구성하는 경우 로그인하려고 할 때 영향을 받는 사용자에게 알려지게 됩니다.

위험한 로그인 흐름에는 두 단계가 있습니다.

1. 사용자는 새 위치, 장치 또는 앱에서 로그인과 같은 해당 로그인에 대해 비정상적인 점이 검색되었음을 통보받습니다. <br> ![재구성](./media/active-directory-identityprotection/120.png "재구성") <br>

2. 사용자가 보안 과제를 해결하여 해당 ID를 증명해야 합니다. 사용자가 Multi-Factor Authentication에 등록된 경우 전화 번호에 대한 보안 코드를 왕복해야 합니다. 손상된 계정이 아닌 위험한 로그인일 뿐이기 때문에 사용자는 이 흐름에서 암호를 변경할 필요가 없습니다. <br> ![재구성](./media/active-directory-identityprotection/121.png "재구성") <br>
 
#### 위험한 로그인 차단됨
관리자는 로그인 위험 정책을 설정하도록 선택하여 위험 수준에 따라 로그인 시 사용자를 차단할 수 있습니다. 차단을 해제하려면 최종 사용자는 관리자나 기술 지원팀에 문의해야 하고 익숙한 위치 또는 장치에서 로그인을 시도할 수 있습니다. 이 경우에 Multi-Factor Authentication을 해결하는 자체 복구는 불가능합니다.

<br> ![재구성](./media/active-directory-identityprotection/130.png "재구성") <br>
 
#### Multi-Factor Authentication 등록

손상된 계정 복구 흐름 및 위험한 로그인 흐름 모두에 대한 최상의 사용자 환경은 사용자가 자체 복구할 수 있는 경우입니다. 사용자가 Multi-Factor Authentication에 등록된 경우 보안 과제를 전달하는 데 사용될 수 있는 해당 계정으로 연결된 전화 번호가 있습니다. 계정 손상을 복구하는 데 기술 지원팀 또는 관리자의 관여는 필요하지 않습니다. 따라서 사용자를 Multi-Factor Authentication에 등록하는 것이 좋습니다.

관리자는 다음을 수행할 수 있습니다.

- 사용자가 해당 계정에 추가 보안 확인을 설정해야 하는 정책을 설정합니다. 
- 등록하기 전에 사용자에게 유예 기간을 제공하려는 경우 최대 30일 동안 Multi-Factor Authentication 등록을 건너뛸 수 있습니다.

 
 <br> ![재구성](./media/active-directory-identityprotection/140.png "재구성") <br> <br> ![재구성](./media/active-directory-identityprotection/141.png "재구성") <br> <br> ![재구성](./media/active-directory-identityprotection/142.png "재구성") <br>

 

#### 위험한 로그인 시 Multi-Factor Authentication 등록

보안 과제를 전달할 준비가 되도록 사용자가 Multi-Factor Authentication에 등록하는 것이 중요합니다. 사용자가 Multi-Factor Authentication에 등록되지 않았지만 정책이 요구하는 경우 위험한 로그인 시 등록하라고 요구할 수 있습니다. 즉, 공격자가 좋은 사용자 대신 전화 번호를 추가하라고 요구받고 마무리될 수 있습니다. <br> 이 상황을 방지하려면 가능한 한 빨리 사용자가 Multi-Factor Authentication에 등록하여 손상된 경우에 전화 번호를 이미 해당 계정과 연결해 두어야 합니다. 또는 관리자가 Multi-Factor Authentication에 등록되지 않은 손상된 사용자를 완전히 차단할 수 있습니다.

 <br> ![재구성](./media/active-directory-identityprotection/150.png "재구성") <br> <br> ![재구성](./media/active-directory-identityprotection/151.png "재구성") <br>






 
## 플레이 북

### 위험 이벤트 시뮬레이션

이 섹션에서는 다음 위험 이벤트 유형을 시뮬레이션하는 개요를 제공합니다.

- 익명 IP 주소에서 로그인(초급)

- 잘 모르는 위치에서 로그인(중급)

- 비정상적 위치로 불가능한 이동(고급)

안전한 방법으로 다른 위험 이벤트를 시뮬레이션할 수 없습니다.


#### 익명 IP 주소에서 로그인

이 위험 이벤트 유형은 익명 프록시 IP 주소로 식별된 IP 주소에서 시도하여 성공적으로 로그인한 사용자를 식별합니다. 이 프록시는 해당 장치의 IP 주소를 숨기려는 사용자가 사용하며 악의적인 의도로 사용될 수 있습니다.

익명 IP에서 로그인을 시뮬레이트하려면 다음 단계를 따릅니다.

1.	[Tor 브라우저](https://www.torproject.org/projects/torbrowser.html.en) 다운로드
2.	Tor 브라우저를 사용하여 https://myapps.microsoft.com로 이동   
3.	익명 IP 주소 보고서에서 시도한 로그인에 표시하려는 계정의 자격 증명 입력

완료되었습니다. 로그인은 ID 보호에서 5분 이내에 볼 수 있어야 합니다.


####알 수 없는 위치에서 로그인
알 수 없는 위치 위험은 새로운/알 수 없는 위치를 확인하기 위해 과거 로그인 위치(IP, 위도/경도 및 ASN)를 고려하는 실시간 로그인 평가 메커니즘입니다. 시스템은 이전 IP, 위도/경도 및 사용자의 ASN을 저장하고 "익숙한" 위치인지 고려합니다. 로그인 위치가 기존의 익숙한 위치 중 하나와 일치하지 않는 경우 로그인 위치는 알 수 없는 위치로 간주됩니다. 시스템에는 새로운 위치를 알 수 없는 위치의 플래그로 지정하지 않는 14일의 초기 학습 기간이 있습니다. 또한 시스템은 익숙한 장치 및 기존의 익숙한 위치에 지리적으로 가까운 위치에서 시도한 로그인을 무시합니다.

알 수 없는 위치를 시뮬레이션하려면 계정이 이전에 로그인하지 않은 위치 및 장치에서 로그인해야 합니다. 단계별

1.	적어도 14일의 로그인 기록이 있는 계정을 선택합니다. 

2.	다음 중 하나를 수행합니다.
	
    a. VPN을 사용하는 동안 [https://myapps.microsoft.com](https://myapps.microsoft.com)로 이동하고 위험 이벤트를 시뮬레이션하려는 계정의 자격 증명을 입력

    b. 계정의 자격 증명을 사용하여 로그인하는 다른 위치에 연결을 요청(권장하지 않음)

완료되었습니다. 로그인은 ID 보호에서 5분 이내에 볼 수 있어야 합니다.
 
#### 비정상적 위치로 불가능한 이동
알고리즘이 기계 학습을 사용하여 익숙한 장치에서 불가능한 이동 또는 디렉터리의 다른 사용자가 사용하는 VPN에서 시도한 로그인 등 가양성을 걸러내기 때문에 불가능한 이동 조건을 시뮬레이션하는 작업은 어렵습니다. 또한 알고리즘은 위험 이벤트의 생성을 시작하기 전에 사용자에 대한 3-14일 간의 로그인 기록이 필요합니다.

1.	표준 브라우저를 사용하여 [https://myapps.microsoft.com](https://myapps.microsoft.com)으로 이동  

2.	불가능한 이동 위험 이벤트를 생성하려는 계정의 자격 증명을 입력

3.	이제 사용자 에이전트를 변경합니다. 사용자 에이전트 전환기 추가 기능을 사용하여 개발자 도구에서 Internet Explorer의 사용자 에이전트를 변경하거나 Firefox 또는 Chrome에서 사용자 에이전트를 변경할 수 있습니다.

4.	이제 사용자의 IP 주소를 변경합니다. VPN, Tor 추가 기능을 사용하거나 다른 데이터 센터의 Azure에서 새 컴퓨터를 스핀업하여 사용자의 IP 주소를 변경할 수 있습니다.

5.	이전과 동일한 자격 증명을 사용하여 이전에 로그인한 짧은 시간 내에 [https://myapps.microsoft.com](https://myapps.microsoft.com)에 로그인

로그인은 ID 보호에서 2-4시간 이내에 볼 수 있어야 합니다. 그러나 포함된 복잡한 기계 학습 모델 때문에 선택되지 않을 수 있습니다. 여러 Azure AD 계정에 이러한 단계를 복제하는 것이 좋을 수도 있습니다.


#### 취약점 시뮬레이션 
취약점은 잘못된 행위자에 의해 악용될 수 있는 Azure AD 환경의 단점입니다. 현재 3가지 유형의 취약점은 Azure AD의 다른 기능을 활용하는 Azure AD ID 보호에 표시됩니다. 이러한 기능이 설정되면 이러한 취약점이 ID 보호에 자동으로 나타납니다.

-	Azure AD [Multi-Factor Authentication이란?](../multi-factor-authentication/multi-factor-authentication.md)
-	Azure AD [클라우드 앱 검색](active-directory-cloudappdiscovery-whatis.md).
-	Azure AD [Privileged Identity Management](active-directory-privileged-identity-management-configure.md). 



###위험 기반 조건부 액세스 정책
####사용자 손상 위험

**사용자 손상 위험을 테스트하려면 다음 단계를 수행합니다**.

1.	테넌트에 대한 전역 관리자 자격 증명을 사용하여 [https://portal.azure.com](https://portal.azure.com)에 로그인합니다.

2.	**ID 보호**로 이동합니다.

3.	기본 Azure AD ID 보호 블레이드에서 **설정**을 클릭합니다.

4.	**포털 설정** 블레이드의 **보안 규칙**에서 **사용자 손상 위험**을 클릭합니다.

5.	**로그인 위험** 블레이드에서 **사용 규칙**을 끈 다음 **저장** 설정을 클릭합니다.

6.	지정된 사용자 계정의 경우 알 수 없는 위치 또는 익명 IP 위험 이벤트를 시뮬레이션합니다. 해당 사용자에 대한 사용자 위험 수준을 **보통**으로 상승합니다.

7.	몇 분 정도 기다린 후에 사용자에 대한 해당 사용자 수준이 **보통**인지 확인합니다.

8.	**포털 설정** 블레이드로 이동합니다.

9.	**사용자 손상 위험** 블레이드에서 **사용 규칙**에 **켜기**를 선택합니다.

10.	다음 옵션 중 하나를 선택합니다.

    a. 차단하려면 **로그인 차단**에서 **보통**을 선택합니다.

    b. 보안 암호 변경을 적용하려면 **Multi-Factor Authentication 요구**에서 **보통**을 선택합니다.

13.	**Save**를 클릭합니다.

14. 이제 위험 수준이 상승한 사용자로 로그인하여 위험 기반 조건부 액세스를 테스트할 수 있습니다. 사용자 위험이 보통이면 로그인이 차단되거나 설정한 정책에 따라 암호를 변경하도록 강제됩니다. <br><br> ![플레이 북](./media/active-directory-identityprotection/201.png "플레이 북") <br>

 
####로그인 위험

 


로그인 위험을 테스트하려면 다음 단계를 수행합니다.

1.	테넌트에 대한 전역 관리자 자격 증명을 사용하여 [https://portal.azure.com](https://portal.azure.com)에 로그인합니다.

2.	**ID 보호**로 이동합니다.

3.	기본 **Azure AD ID 보호** 블레이드에서 **설정**을 클릭합니다.

4.	**포털 설정** 블레이드의 **보안 규칙**에서 **로그인 위험**을 클릭합니다.

5.	**로그인 위험 **블레이드의 **사용 규칙**에서 **켜기**를 선택합니다.

7.	다음 옵션 중 하나를 선택합니다.

    a. 차단하려면 **로그인 차단**에서 **보통**을 선택합니다.

    b. 보안 암호 변경을 적용하려면 **Multi-Factor Authentication 요구**에서 **보통**을 선택합니다.

8.	차단하려면 로그인 차단에서 보통을 선택합니다.

9.	Multi-Factor Authentication을 적용하려면 Multi-Factor Authentication 요구에서 보통을 선택합니다…

10.	**Save**를 클릭합니다.

11.	이제 보통 위험 이벤트로 간주되는 알 수 없는 위치 또는 익명 IP 위험 이벤트를 시뮬레이션하여 위험 기반 조건부 액세스를 테스트할 수 있습니다.

<br> ![플레이 북](./media/active-directory-identityprotection/200.png "플레이 북") <br>


## 참고 항목

 - [Azure AD 및 ID 표시: ID 보호 미리 보기](https://channel9.msdn.com/Series/Azure-AD-Identity/Azure-AD-and-Identity-Show-Identity-Protection-Preview)
 - [ID 보호 용어집](active-directory-identityprotection-glossary.md)

<!---HONumber=AcomDC_0302_2016-->