---
title: Marketplace 계량 서비스를 사용 하 여 요금제 청구 Azure Marketplace
description: 이 설명서는 유연한 청구 모델을 통해 SaaS 제품을 게시 하는 Isv를 위한 가이드입니다.
ms.service: marketplace
ms.subservice: partnercenter-marketplace-publisher
ms.topic: conceptual
ms.date: 05/08/2020
ms.openlocfilehash: 09d9ed5e008acd5354cc673e39365f59ab7f64e8
ms.sourcegitcommit: d7008edadc9993df960817ad4c5521efa69ffa9f
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/08/2020
ms.locfileid: "86109181"
---
# <a name="metered-billing-using-the-marketplace-metering-service"></a>Marketplace 계량 서비스를 사용 하 여 요금제 청구

Marketplace 계량 서비스를 사용 하면 비표준 단위에 따라 요금이 부과 되는 SaaS (SaaS) 제품을 만들 수 있습니다.  이 제품을 게시 하기 전에 대역폭, 티켓 또는 처리 된 전자 메일 등의 청구 차원을 정의 합니다.  그러면 고객은 이러한 차원의 소비에 따라 요금이 청구 되는 이벤트의 Marketplace 계량 서비스 API를 통해 Microsoft에 알려 줍니다.  

## <a name="prerequisites-for-metered-billing"></a>요금제 청구를 위한 필수 구성 요소

SaaS 제품이 요금제 요금을 사용 하려면 먼저 다음을 수행 해야 합니다.

* [SaaS 제품 만들기](./create-new-saas-offer.md)에 설명 된 대로 [Microsoft 제품을 통한 판매](./create-new-saas-offer.md#sell-through-microsoft) 에 대 한 모든 제품 요구 사항을 충족 합니다.
* 고객이 제품을 프로 비전 하 고 연결 하는 데 사용 하는 [SaaS 상품 api](./pc-saas-fulfillment-api-v2.md) 와 통합 합니다.  
* 서비스에 대 한 고객의 요금을 청구 하는 경우 **정액 요금** 가격 책정 모델에 대해 구성 해야 합니다.  차원은 flat rate 가격 책정 모델에 대 한 선택적 확장입니다. 
* [Marketplace 계량 서비스 api](./marketplace-metering-service-apis.md) 와 통합 하 여 청구 가능한 이벤트를 Microsoft에 알립니다.

그런 다음 SaaS 제품은 [Marketplace 계량 서비스 api](./marketplace-metering-service-apis.md) 와 통합 하 여 청구 가능한 이벤트를 Microsoft에 알려줄 수 있습니다.

>[!Note]
>Marketplace 계량 서비스는 정액 요금 청구 모델에만 사용할 수 있으며 사용자 단위 청구 모델에는 적용 되지 않습니다.

## <a name="how-metered-billing-fits-in-with-pricing"></a>요금제에 적합 한 요금제

제품을 가격 책정 모델과 함께 정의 하는 경우 제품 계층 구조를 이해 하는 것이 중요 합니다.

* 각 SaaS 제품은 Microsoft를 통해 판매 하도록 구성 됩니다.  제품을 게시 한 후에는이 옵션을 변경할 수 없습니다.
* Microsoft를 통해 판매 하도록 구성 된 각 SaaS 제품은 하나 이상의 계획을 가질 수 있습니다.  사용자는 SaaS 제품을 구독 하지만 계획의 컨텍스트 내에서 Microsoft를 통해 구매 합니다.
* 각 계획에는 연결 된 가격 책정 모델 ( **플랫 요금** 또는 **사용자 단위**)이 있습니다. 제품의 모든 요금제는 동일한 가격 책정 모델에 연결 되어 있어야 합니다. 예를 들어, 기본 요금 가격 책정 모델에 대 한 계획을 포함 하 고, 다른 사용자 당 가격 책정 모델을 사용 하는 제품이 없을 수 있습니다.
* 단일 요금 청구 모델에 대해 구성 된 각 계획 내에서 하나 이상의 되풀이 요금 ($0 일 수 있음)이 포함 됩니다.
    * 반복 된 **월별** 요금: 사용자가 계획을 구매할 때 월별 되풀이에서 사전 지불 되는 고정 월별 요금입니다.
    * 반복 **연간** 요금: 사용자가 계획을 구매할 때 연간 되풀이에 대해 사전 지불 되는 고정 연간 요금입니다.
* 되풀이 요금 외에도 flat rate 계획에는 초과분 사용을 위해 고객에 게 요금을 부과 하는 데 사용 되는 선택적 사용자 지정 차원이 포함 될 수 있습니다.  각 차원은 [Marketplace 계량 서비스 API](./marketplace-metering-service-apis.md)를 사용 하 여 서비스에서 Microsoft와 통신 하는 청구 가능 단위를 나타냅니다.

## <a name="sample-offer"></a>샘플 제안

예를 들어 Contoso는 CN (Contoso Notification Services) 이라는 SaaS 서비스를 사용 하는 게시자입니다. CN을 통해 고객은 전자 메일 또는 텍스트를 통해 알림을 보낼 수 있습니다. Contoso는 Azure 고객에 게 SaaS 제품을 게시 하기 위해 상업적 marketplace 프로그램을 위한 파트너 센터에서 게시자로 등록 됩니다.  아래에 설명 된 것 처럼 CN과 연결 된 두 가지 계획이 있습니다.

* 기본 계획
    * $0/월에 1만 전자 메일 및 1000 텍스트 보내기 (기본 월간 요금)
    * 1만 전자 메일 외에 모든 100 전자 메일에 대해 $1 요금 청구
    * 1000 텍스트 외에도 모든 텍스트에 대해 $0.02을 지불 합니다.

    [![기본 계획 가격 책정](./media/saas-basic-pricing.png "확대 보기를 클릭 합니다.")](./media/saas-basic-pricing.png)

* 프리미엄 플랜
    * $350/월 또는 5M 전자 메일에 대해 5만 이메일 및 1만 텍스트를 전송 하 고 연간 $3500의 경우 1M 텍스트를 보냅니다.
    * 5만 전자 메일 외에 모든 100 전자 메일에 대해 $0.5 요금 청구
    * 1만 텍스트 외에도 모든 텍스트에 대해 $0.01을 지불 합니다.

    [![프리미엄 계획 가격 책정](./media/saas-premium-pricing.png "확대 보기를 클릭 합니다.")](./media/saas-premium-pricing.png)

* 엔터프라이즈 계획
    * $400/월에 대해 메일 수 및 5만 개 문자를 무제한으로 보냅니다.
    * 5만 텍스트 외의 모든 txt에 대해 요금 $0.005

    [![엔터프라이즈 계획 가격 책정](./media/saas-enterprise-pricing.png "확대 보기를 클릭 합니다.")](./media/saas-enterprise-pricing.png)

선택한 계획에 따라, CN SaaS 제품에 대 한 Azure 고객 구매 구독은 구독 정보-서비스 및 endDate에 표시 되는 구독 기간 (월 또는 연도)에 따라 포함 된 텍스트 및 전자 메일의 수량을 보낼 수 있습니다.  Contoso는 Microsoft에 사용 이벤트를 보내지 않고 기본 제공 수량까지 사용량을 계산 합니다. 고객이 포함 된 수량을 초과 하 여 사용 하는 경우 계획을 변경 하거나 다른 작업을 수행할 필요가 없습니다.  Contoso는 초과분을 포함 된 수량 보다 크게 측정 하 고 [Marketplace 계량 서비스 API](./marketplace-metering-service-apis.md)를 사용 하 여 초과분 사용량을 청구 하기 위해 Microsoft에 사용 이벤트를 내보내는 것을 시작 합니다.  Microsoft는 사용자 지정 차원의 게시자가 지정한 대로 초과분 사용에 대해 고객에 게 요금을 부과 합니다. 초과분 요금은 다음 청구 주기 (매월)에서 수행 되지만 일부 고객의 경우 분기별로 또는 조기에 이루어질 수 있습니다.  월간 플랫 요금제의 경우 초과분가 발생 한 매월 초과분 청구 됩니다.  연도별 플랫 요금제의 경우 연도별 기본에 포함 된 수량이 사용 되 면 사용자 지정 측정기에서 발생 하는 모든 추가 사용량은 구독 연도 기간이 끝날 때까지 각 청구 주기 (매월) 동안 초과분로 청구 됩니다.

## <a name="billing-dimensions"></a>청구 차원

각 청구 차원은 ISV가 사용 이벤트를 내보낼 수 있는 사용자 지정 단위를 정의 합니다.  청구 차원은 소프트웨어 사용에 대 한 요금이 청구 되는 방식에 대해 고객과 통신 하는 데도 사용 됩니다.  이러한 작업은 다음과 같이 정의 됩니다.

* **ID**: 사용 이벤트를 내보낼 때 참조 되는 변경할 수 없는 차원 식별자입니다.
* **표시 이름**: 차원과 연결 된 표시 이름입니다 (예: "보낸 문자 메시지").
* **측정 단위**: 청구 단위에 대 한 설명입니다 (예: "문자 단위 메시지" 또는 "100 전자 메일").
* **USD 단위의 가격**: 차원의 한 단위에 대 한 가격입니다.  0 일 수 있습니다. 
* **기본에 포함 된 월간 수량**: 되풀이 되는 월간 요금을 지불 하는 고객의 경우 월별 포함 된 차원 수량은 정수 여야 합니다. 0 또는 무제한 일 수 있습니다.
* **기본에 포함 된 연간 수량**: 연간 요금을 지불 하는 고객에 대해 매년 포함 된 차원 수량은 정수 여야 합니다. 0 또는 무제한 일 수 있습니다.

청구 차원은 제안의 모든 요금제에서 공유 됩니다.  일부 특성은 모든 계획에서 차원에 적용 되 고 다른 특성은 요금제에 적용 됩니다.

차원 자체를 정의 하는 특성은 제품에 대 한 모든 계획에서 공유 됩니다.  제품을 게시 하기 전에 계획의 컨텍스트에서 이러한 특성에 대 한 변경 사항은 모든 계획의 차원 정의에 영향을 줍니다.  제품을 게시 한 후에는 이러한 특성을 더 이상 편집할 수 없습니다.  이러한 특성은 다음과 같습니다.

* ID
* 표시 이름
* 측정 단위

차원의 다른 특성은 각 계획 마다 다르며 계획 마다 다른 값을 가질 수 있습니다.  계획을 게시 하기 전에 이러한 값을 편집할 수 있으며이 계획에만 영향을 줍니다.  계획을 게시 한 후에는 이러한 특성을 더 이상 편집할 수 없습니다.  이러한 특성은 다음과 같습니다.

* USD 단위 당 가격
* 기본에 포함 된 월간 수량  
* BaseIncluded에 포함 된 연간 수량  

차원에는 "enabled" 및 "infinite"의 두 가지 특수 한 개념도 있습니다.

* **Enabled** 이 계획에이 차원이 참여 하 고 있음을 나타냅니다.  이 차원을 기반으로 사용 이벤트를 보내지 않는 새 계획을 만드는 경우이 옵션을 선택 하지 않은 상태로 둘 수 있습니다.  또한 계획을 처음 게시 한 후에 추가 된 새 차원은 이미 게시 된 계획에 "사용 안 함"으로 표시 됩니다.  사용할 수 없는 차원은 고객이 본 계획의 차원 목록에 표시 되지 않습니다.
* 무한대 기호 "∞"로 표시 되는 **무한** 은이 계획이이 차원에 참여 하지만이 차원에 대 한 사용량을 내보내지 않음을 나타냅니다.  이 차원으로 표시 되는 기능이 계획에 포함 되어 있지만 사용량에는 제한이 없는 고객에 게 표시 하려는 경우  이 계획에 대 한 요금이 발생 하지 않음을 나타내는 표시와 함께 무한 사용이 있는 차원이 고객이 본 계획의 차원 목록에 표시 됩니다.

>[!Note] 
>다음 시나리오는 명시적으로 지원 됩니다. <br> -새 계획에 새 차원을 추가할 수 있습니다.  새 차원은 이미 게시 된 계획에 대해 사용 하도록 설정 되지 않습니다. <br> -차원 없이 **정액** 요금제를 게시 한 다음 새 계획을 추가 하 고 해당 계획에 대 한 새 차원을 구성할 수 있습니다. 새 차원은 이미 게시 된 계획에 대해 사용 하도록 설정 되지 않습니다.

### <a name="setting-dimension-price-per-unit-per-supported-market"></a>지원 되는 시장 당 단위당 차원 가격 설정

정액 요금 가격과 마찬가지로 지원 되는 국가 또는 지역에 따라 청구 차원 가격을 설정할 수 있습니다. 게시자는 파트너 센터에서 가격 책정 데이터 가져오기 및 내보내기 기능을 사용 해야 합니다.

1. 먼저 원하는 차원을 정의 하 고 지원 되는 시장의 표시를 표시 합니다. 
1. 그런 다음이 데이터를 파일로 내보냅니다.
1. 국가/지역에 따라 올바른 가격을 추가 하 고 파트너 센터에서 해당 파일을 가져옵니다.

측정기의 UI는 해당 차원 가격이 파일 에서만 표시 될 수 있다는 것을 반영 하도록 변경 됩니다.

[![Marketplace 계량 서비스 차원](./media/metering-service-dimentions.png "확대 보기를 클릭 합니다.")](./media/metering-service-dimentions.png)


### <a name="private-plan"></a>비공개 계획

정액 요금제와 마찬가지로 차원이 포함 된 계획은 계획의 정의 된 대상에 의해서만 액세스 가능한 개인 계획으로 설정할 수 있습니다.

## <a name="constraints"></a>제약 조건

### <a name="trial-behavior"></a>평가 동작

Marketplace 계량 서비스를 사용한 요금제 요금은 무료 평가판 제공과 호환 되지 않습니다.  요금제와 무료 평가판을 모두 사용 하도록 계획을 구성할 수는 없습니다.

### <a name="locking-behavior"></a>잠금 동작

Marketplace 계량 서비스에 사용 되는 차원은 고객이 서비스에 대해 지불 하는 방법을 이해 하는 것 이므로, 게시 한 후에는 차원에 대 한 모든 세부 정보를 더 이상 편집할 수 없습니다.  게시 하기 전에 계획에 맞게 차원을 완전히 정의 하는 것이 중요 합니다.

차원이 포함 된 제품을 게시 한 후에는 해당 차원에 대 한 제품 수준 세부 정보를 더 이상 변경할 수 없습니다.

* ID
* 표시 이름
* 측정 단위

계획을 게시 한 후에는 계획 수준 세부 정보를 더 이상 변경할 수 없습니다.

* USD 단위 당 가격
* 기본에 포함 된 월간 수량
* 기본에 포함 된 연간 수량
* 차원이 계획에 대해 사용 하도록 설정 되었는지 여부

### <a name="upper-limits"></a>상한

단일 제품에 대해 구성할 수 있는 최대 차원 수는 18 개의 고유 차원입니다.

## <a name="get-support"></a>지원 받기

다음 문제 중 하나가 발생 한 경우 지원 티켓을 열 수 있습니다.

* Marketplace 계량 서비스 API의 기술 문제.
* 사용자 측의 오류 또는 버그로 인해 에스컬레이션 해야 하는 문제 (예: 잘못 된 사용 이벤트).
* 데이터 요금 청구와 관련 된 기타 문제

[파트너 센터에서 상업용 marketplace 프로그램 지원](./support.md) 의 지침에 따라 게시자 지원 옵션을 이해 하 고 Microsoft에서 지원 티켓을 엽니다.

## <a name="next-steps"></a>다음 단계

- 자세한 내용은 [Marketplace 계량 서비스 api](./marketplace-metering-service-apis.md) 를 참조 하세요.
