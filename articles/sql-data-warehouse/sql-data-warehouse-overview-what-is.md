<properties
   pageTitle="Azure SQL 데이터 웨어하우스란? | Microsoft Azure"
   description="페타바이트 볼륨의 관계형 및 비관계형 데이터를 처리할 수 있는 엔터프라이즈급 분산 데이터베이스입니다. 몇 초 만에 확장, 축소 및 일시 중지가 가능한 업계 최초의 클라우드 데이터 웨어하우스입니다."
   services="sql-data-warehouse"
   documentationCenter="NA"
   authors="lodipalm"
   manager="barbkess"
   editor=""/>

<tags
   ms.service="sql-data-warehouse"
   ms.devlang="NA"
   ms.topic="get-started-article"
   ms.tgt_pltfrm="NA"
   ms.workload="data-services"
   ms.date="06/07/2016"
   ms.author="lodipalm;barbkess;mausher;jrj;sonyama;kevin"/>


# Azure SQL 데이터 웨어하우스란?

Azure SQL 데이터 웨어하우스는 거대한 양의 관계형 및 비관계형 데이터를 처리할 수 있는 클라우드 기반 규모 확장 데이터베이스입니다. 대규모 병렬 처리(MPP) 아키텍처를 기반으로 하는 SQL 데이터 웨어하우스는 엔터프라이즈 워크로드를 처리할 수 있습니다.

SQL 데이터 웨어하우스:

- 입증된 SQL Server 관계형 데이터베이스를 Azure 클라우드 규모 확장 기능을 결합합니다. 계산을 초 단위로 증가, 감소, 일시 중지 또는 다시 시작할 수 있습니다. 이렇게 하면 필요할 때 CPU 규모를 확장하고 사용량이 감소하는 시간 동안 사용량을 축소할 수 있습니다.
- Azure 플랫폼을 활용합니다. 자동 백업 덕분에 배포가 용이하며 원활한 유지 관리가 가능하고 완전한 내결함성을 갖추게 됩니다. 
- SQL Server 에코시스템을 보완합니다. 친숙한 SQL Server T-SQL 및 도구와 함께 개발할 수 있습니다.

SQL 데이터 웨어하우스의 주요 기능에 대해 자세히 알아보려면 계속 읽어보세요.

## 대규모 병렬 처리(MPP) 아키텍처

SQL 데이터 웨어하우스는 세계 최대 규모의 온-프레미스 데이터 웨어하우스를 운영하기 위해 설계된 Microsoft의 MPP(대규모 병렬 처리) 아키텍처를 사용합니다.

현재 MPP 아키텍처는 데이터를 60개의 비공유 저장소 및 처리 단위로 분산합니다. 데이터는 프리미엄 로컬 중복 저장소에 저장되고 쿼리 실행을 위해 계산 노드로 연결됩니다. 이 아키텍처를 통해 SQL 데이터 웨어하우스는 복잡한 T-SQL 쿼리를 실행하는 데 분할 정복법( divide and conquer approach)을 사용할 수 있습니다. 처리할 때는 제어 노드가 각 쿼리를 최적화한 후 계산 노드에 작업을 전달합니다. 데이터의 일부를 병렬로 "정복(conquer)"합니다.

MPP 아키텍처와 Azure 저장소 기능을 결합하여 SQL 데이터 웨어하우스는 다음을 수행할 수 있습니다.

- 계산과 독립적으로 저장소를 확장 또는 축소
- 데이터를 이동하지 않고 계산을 확장 또는 축소 
- 데이터를 그대로 유지하면서 계산 용량 일시 중지
- 즉시 계산 용량 다시 시작

아키텍처는 아래에 자세히 설명되어 있습니다.

![SQL 데이터 웨어하우스 아키텍처][1]


- **제어 노드:** 제어 노드는 쿼리를 관리하고 최적화합니다. 모든 응용 프로그램 및 연결과 상호 작용하는 프런트 엔드입니다. SQL 데이터 웨어하우스의 제어 노드는 SQL 데이터베이스에서 제공되며 여기에 연결하는 것은 느낌과 모양이 같습니다. 내부적으로는 제어 노드가 분산된 데이터에서 병렬 쿼리를 실행하는 데 필요한 모든 데이터 이동 및 계산을 조율합니다. SQL 데이터 웨어하우스에 TSQL 쿼리를 제출하면 제어 노드가 이를 각 계산 노드에서 병렬로 실행할 별도의 쿼리로 변환합니다.

- **계산 노드:** 계산 노드는 SQL 데이터 웨어하우스 뒤에 있는 기능으로 제공됩니다. 이들은 데이터를 저장하고 쿼리를 처리하는 SQL 데이터베이스입니다. 데이터를 추가하면 SQL 데이터 웨어하우스는 계산 노드에 행을 배포합니다. 계산 노드는 데이터에서 병렬 쿼리를 실행하는 작업자입니다. 처리 후에 제어 노드에 다시 결과를 전달합니다. 쿼리를 완료하기 위해 제어 노드는 결과를 집계하고 최종 결과를 반환합니다.

- **저장소:** 데이터는 Azure 저장소 Blob에 저장됩니다. 계산 노드가 데이터와 상호 작용할 때 Blob 저장소 간에 데이터를 직접 쓰고 읽습니다. Azure 저장소가 투명하고 무한대로 확장하므로 SQL 데이터 웨어하우스는 동일하게 수행할 수 있습니다. 계산 및 저장소는 독립적이므로 SQL 데이터 웨어하우스는 저장소 크기를 계산 확장과 별도로 자동으로 조정할 수 있으며 그 반대도 마찬가지 입니다. Azure 저장소도 완전한 내결함성을 포함하며 백업 및 복원 프로세스를 간소화합니다.

- **데이터 이동 서비스:** 데이터 이동 서비스(DMS)는 노드 간에 데이터를 이동하기 위한 기술입니다. DMS는 조인 및 집계에 필요한 데이터에 대한 계산 노드 액세스를 부여합니다. DMS는 Azure 서비스가 아닙니다. 모든 노드에서 SQL 데이터베이스와 함께 실행되는 Windows 서비스입니다. DMS는 배후에서 실행되므로 직접 상호 작용하지 않습니다. 그러나 쿼리 계획을 보면 일부 모양 또는 양식에서 각 쿼리를 병렬로 실행하기 위해 데이터 이동이 필요하므로 DMS 작업이 포함된 것을 알게 됩니다.


## 최적화된 쿼리 성능

MPP 방식은 다음을 포함하여 다양한 데이터 웨어하우징 특유의 성능 최적화를 통해 지원됩니다.

- 모든 데이터 전반에 대한 분산 쿼리 최적화 프로그램 및 복잡한 통계 집합. 데이터 크기 및 분포에 대한 정보를 사용하면, 서비스는 특정 분산 쿼리 작업에 대한 비용 산정을 기반으로 쿼리를 최적화할 수 있습니다.

- 컴퓨팅 리소스 사이에서 쿼리 수행에 필요한 대로 데이터를 효율적으로 이동해주는 데이터 이동 프로세스에 통합된 고급 알고리즘 및 기술도 제공합니다. 이러한 데이터 이동 작업은 기본 제공되며 데이터 이동 서비스에 대한 모든 최적화가 자동으로 수행됩니다.

- 기본적으로 클러스터형 columnstore 인덱스. SQL 데이터 웨어하우스는 열 기반 저장소를 사용하여 기존의 행 기반 저장소와 비교하여 최대 5배 높은 압축 향상, 최대 10배 높은 쿼리 성능 향상을 달성합니다. 많은 수의 행을 스캔해야 하는 분석 쿼리가 columnstore 인덱스에서 잘 작동합니다.

## 확장성

SQL 데이터 웨어하우스 아키텍처는 각각 독립적으로 규모를 조정할 수 있는 분리된 저장소 및 계산을 도입합니다. SQL 데이터베이스의 빠르고 간단한 배포 구조는 추가적인 계산을 즉시 사용할 수 있도록 합니다. Azure Blob 저장소를 사용하면 이러한 기능이 완벽하게 보완됩니다. Blob를 사용하면 안정적인 복제된 저장소를 제공할 뿐만 아니라 저비용으로 손쉽게 확장할 수 있는 인프라를 제공합니다. SQL 데이터 웨어하우스 클라우드 규모 저장소와 Azure 계산을 함께 사용하기 때문에, 쿼리 성능 저장소가 필요할 때 필요한 만큼만 비용을 지불하는 것이 가능합니다. 계샨량 변경은 Azure 포털에서 슬라이더를 왼쪽이나 오른쪽으로 움직이기만 하면 될 정도로 간단하며, T-SQL 및 PowerShell을 사용하여 일정을 예약할 수도 있습니다.

저장소와 독립적으로 계산량을 완벽하게 제어하는 기능과 더불어, SQL 데이터 웨어하우스에서는 사용자가 자신의 데이터 웨어하우스를 완전하게 일시 중지할 수 있습니다. 저장소를 유지한 상태로 모든 계산이 Azure의 기본 풀에서 처리되도록 하여, 즉시 비용을 절약할 수 있습니다. 필요할 때 계산을 다시 시작하고 데이터와 계산을 워크로드에 사용할 수 있게 하면 됩니다.

## 데이터 웨어하우스 단위

SQL 데이터 웨어하우스의 계산 사용량은 SQL 데이터 웨어하우스 단위(DWU)를 사용하여 측정됩니다. DWU는 데이터 웨어하우스의 기본적인 파워를 측정하는 단위이며, 웨어하우스와 연결된 표준 성능 양을 사용자가 항상 보유하도록 설계되었습니다. 구체적으로, DWU를 통해 다음 사항을 확인합니다.

- 기본적인 하드웨어나 소프트웨어에 대한 우려를 하지 않고 데이터 웨어하우스의 규모를 쉽게 조정할 수 있습니다.

- 데이터 웨어하우스의 크기를 변경하기 전에 DWU 수준에 대한 성능 향상을 예측할 수 있습니다.

- 인스턴스의 기본적인 하드웨어 및 소프트웨어는 워크로드 성능에 영향을 미치지 않고 변경되거나 이동될 수 있습니다.

- 워크로드 성능에 영향을 미치지 않고 서비스의 기본적인 아키텍처를 수정할 수 있습니다.

- SQL 데이터 웨어하우스는 성능이 빠르게 개선되고 있습니다. 확장이 가능하고 시스템에 고르게 영향이 미치도록 개선할 것을 약속 드립니다.

데이터 웨어하우스 단위는 데이터 웨어하우징 워크로드 성능과 연관성이 높은 세 가지 측정 메트릭에 대한 단위입니다. 일반적인 가용성을 위하여, 주요 워크로드 메트릭은 사용자가 데이터 웨어하우스에 선택한 DWU와 선형으로 규모가 조정되도록 하는 것을 목표로 하고 있습니다.

**검색/집계:** 이 워크로드 메트릭은 표준 데이터 웨어하우징 쿼리를 사용하여 대량의 행을 검색한 후에 복합적인 집계를 수행합니다. 이것은 IO와 CPU를 많이 사용하는 연산입니다.

**로드:** 이 메트릭은 데이터를 서비스로 수집할 수 있는 역량을 측정합니다. 로드는 Azure Blob 저장소로부터 대표적인 데이터 집합을 로드하는 PolyBase를 통해 완성됩니다. 이 메트릭은 서비스의 네트워크 및 CPU 측면을 강조하기 위해서 설계되었습니다.

**CREATE TABLE AS SELECT(CTAS):** CTAS는 테이블 사본을 만들 수 있는 역량을 측정합니다. 여기에는 데이터를 저장소에서 읽어오기, 데이터를 어플라이언스의 노드 전체에 배포하기, 데이터를 저장소에 다시 쓰기가 포함됩니다. 이것은 CPU와 네트워크를 많이 사용하는 연산입니다.

## 요청 시 일시 중지 및 확장

결과가 빨리 필요하면, DWU를 높이고 더 높은 성능에 대한 비용을 지불합니다. 계산 파워가 덜 필요하면, DWU를 낮추고 필요한 것에만 비용을 지불합니다. 이러한 시나리오에서 DWU 변경에 대해 생각할 수 있습니다.

- 쿼리를 실행할 필요가 없는 경우 아마도 저녁이나 주말에 쿼리를 정지한 다음 계산 리소스를 일시 중지하여 필요하지 않을 때 DWU에 대한 지불을 방지합니다.

- 시스템 사용량이 낮은 경우 상당한 비용 절감으로 사용자가 데이터에 액세스할 수 있도록 작은 크기에 DWU를 줄여 보십시오.

- 대량의 데이터 로딩 또는 변환 작업을 수행할 때는 데이터를 보다 신속하게 사용할 수 있도록 규모를 키울 수 있습니다.

- 사용자에게 이상적인 DWU가 무엇인지 파악하기 위해서는 규모를 키우거나 줄이고 데이터를 로드한 후에 몇 가지 쿼리를 실행해 봅니다. 규모 조정이 신속하게 이뤄지기 때문에 한 시간 내에 다양한 수준의 성능을 시도해 볼 수 있습니다.

> [AZURE.NOTE] 아키텍처 또는 SQL 데이터 웨어하우스로 인해 소량의 데이터에 대해서는 규모 조정에 대해 예상되는 성능을 보지 못할 수 있습니다. 성능 이점에 대한 실질적인 지표를 구하려면 데이터 볼륨을 1TB 이상으로 시작하는 것이 좋습니다.

## SQL Server 기반

SQL 데이터 웨어하우스는 SQL Server의 입증된 관계형 데이터베이스 엔진을 기반으로 하며, 엔터프라이즈 데이터 웨어하우스에 기대하는 다양한 기능들을 포함하고 있습니다. 이미 TRANSACT-SQL에 대해 알고 있다면 해당 지식을 쉽게 SQL 데이터 웨어하우스에 전송할 수 있습니다. 고급 사용자이든 초보 사용자이든 상관 없이 설명서의 예제들이 시작하는 데 도움이 될 것입니다. 전반적으로, SQL 데이터 웨어하우스의 언어 요소를 구축하는 방식에 대한 기본적인 생각은 다음과 같습니다.

- SQL 데이터 웨어하우스는 많은 연산에 SQL Server의 Transact-SQL(TSQL) 구문을 사용하며, 저장 프로시저, 사용자 정의 함수, 테이블 파티션, 인덱스, 데이터 정렬을 비롯한 기존의 SQL 구문을 폭넓게 지원합니다.

- SQL 데이터 웨어하우스에는 클러스터형 Columnstore 인덱스, PolyBase 통합, 데이터 감사(위협 평가와 함께 완성되는)를 비롯한 최첨단의 SQL Server 기능이 많이 포함되어 있습니다.

- SQL 데이터 웨어하우스 개발이 아직 진행 중이기 때문에, 데이터 웨어하우징 워크로드에 일반적이지 않은 특정 TSQL 언어 요소나 SQL Server에 새롭게 채택되는 요소가 현 시점에는 제공되지 않을 수 있습니다. 이와 관련된 자세한 정보는 [마이그레이션 설명서][]를 참고하세요.

SQL Server, SQL 데이터 웨어하우스, SQL 데이터베이스 및 분석 플랫폼 시스템 간의 TRANSACT-SQL 및 기능 공통성을 통해 데이터 요구 사항에 맞는 솔루션을 개발할 수 있습니다. 성능, 보안, 규모 요구 사항을 고려하여 데이터를 보관할 곳을 결정한 후에 필요에 따라 다른 시스템 간에 데이터를 전송할 수 있습니다.

## Microsoft 도구와 통합

SQL Server의 TSQL 노출 영역을 수용하는 것 외에, SQL 데이터 웨어하우스는 SQL Server 사용자에게 친숙한 많은 도구와 통합되고 있습니다. 구체적으로, SQL 데이터 웨어하우스와 통합되는 다음과 같은 범주의 도구에 중점을 두고 있습니다.

**기존 SQL Server 도구:** SQL 데이터 웨어하우스는 SQL Server Analysis Services, Integration Services 및 Reporting Services와 완전히 통합됩니다.

**클라우드 기반 도구:** SQL 데이터 웨어하우스는 Azure의 수많은 신규 도구와 함께 사용될 수 있으며, Azure의 데이터 팩터리, 스트림 분석, 기계 학습, Power BI와 심층적으로 통합되어 있습니다. 통합되는 Azure 도구의 목록은 [통합된 도구 개요][]를 참조하세요.

**타사 도구:** 다수의 타사 도구 공급자들이 자사의 도구와 SQL 데이터 웨어하우스의 통합을 보증하였습니다. 파트너의 전체 목록은 [SQL 데이터 웨어하우스 솔루션 파트너][]를 참조하세요.

## 하이브리드 시나리오

SQL 데이터 웨어하우스를 PolyBase와 함께 사용하면 비관계형 및 온-프레미스 데이터 원본으로 고급 하이브리드 시나리오를 설정할 수 있게 되고, 생태계 전체에서 데이터를 이동할 수 있는 전례 없는 역량을 가질 수 있습니다.

Polybase는 사용이 쉬우며 친숙한 T-SQL 명령과 동일한 명령을 사용하여 다양한 원본에서 데이터를 활용할 수 있게 해줍니다. Polybase를 통해 일반 테이블처럼 Azure blob 저장소에 보관 중인 비관계형 데이터를 쿼리할 수 있습니다. Polybase를 사용하여 비관계형 데이터를 쿼리하거나 비관계형 데이터를 SQL 데이터 웨어하우스로 가져옵니다.

- PolyBase는 외부 테이블을 사용하여 비관계형 데이터에 액세스합니다. 테이블 정의는 SQL 데이터 웨어하우스에 저장되며, SQL 및 일반적인 관계형 데이터에 액세스하는 도구를 사용하여 액세스할 수 있습니다.

- Polybase는 통합 시 중립적입니다. 지원되는 모든 원본에 동일한 기능을 노출합니다. Polybase에서 읽는 데이터는 구분된 파일 또는 ORC 파일 등 다양한 형식일 수 있습니다.

- PolyBase는 관계형 및 비관계형 도구에서 동일한 데이터에 최첨단 액세스를 제공하는 HD Insight 클러스터에 대한 저장소로 사용되고 있는 blob 저장소에 액세스하는 데 사용될 수 있습니다.

## 다음 단계

SQL 데이터 웨어하우스에 대한 내용을 파악했으면, [데이터 웨어하우스 워크로드], SQL 데이터 웨어하우스를 [프로비전하는 방법] 및, [샘플 데이터를 로드하는 방법]에 대해 알아봅니다. 또는 그 밖의 SQL 데이터 웨어하우스 리소스를 살펴봅니다.

- [블로그] 
- [기능 요청]
- [비디오]
- [CAT 팀 블로그]
- [지원 티켓 만들기]
- [MSDN 포럼]
- [Stack Overflow 포럼]
- [Twitter]


<!--Image references-->
[1]: ./media/sql-data-warehouse-overview-what-is/dwarchitecture.png

<!--Article references-->
[지원 티켓 만들기]: ./sql-data-warehouse-get-started-create-support-ticket.md
[데이터 웨어하우스 워크로드]: ./sql-data-warehouse-overview-workload.md
[샘플 데이터를 로드하는 방법]: ./sql-data-warehouse-get-started-load-sample-databases.md
[프로비전하는 방법]: ./sql-data-warehouse-get-started-provision.md
[마이그레이션 설명서]: ./sql-data-warehouse-overview-migrate.md
[SQL 데이터 웨어하우스 솔루션 파트너]: ./sql-data-warehouse-integrate-solution-partners.md
[통합된 도구 개요]: ./sql-data-warehouse-overview-integrate.

<!--MSDN references-->

<!--Other Web references-->
[블로그]: https://azure.microsoft.com/blog/tag/azure-sql-data-warehouse/
[CAT 팀 블로그]: https://blogs.msdn.microsoft.com/sqlcat/tag/sql-dw/
[기능 요청]: https://feedback.azure.com/forums/307516-sql-data-warehouse
[MSDN 포럼]: https://social.msdn.microsoft.com/Forums/ko-KR/home?forum=AzureSQLDataWarehouse
[Stack Overflow 포럼]: http://stackoverflow.com/questions/tagged/azure-sqldw
[Twitter]: https://twitter.com/hashtag/SQLDW
[비디오]: https://azure.microsoft.com/documentation/videos/index/?services=sql-data-warehouse

<!---HONumber=AcomDC_0608_2016-->