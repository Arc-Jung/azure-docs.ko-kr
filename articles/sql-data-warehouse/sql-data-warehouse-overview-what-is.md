<properties
   pageTitle="Azure SQL 데이터 웨어하우스란? | Microsoft Azure"
   description="페타바이트 볼륨의 관계형 및 비관계형 데이터를 처리할 수 있는 엔터프라이즈급 분산 데이터베이스입니다. 몇 초 만에 확장, 축소 및 일시 중지가 가능한 업계 최초의 클라우드 데이터 웨어하우스입니다."
   services="sql-data-warehouse"
   documentationCenter="NA"
   authors="lodipalm"
   manager="jhubbard"
   editor=""/>

<tags
   ms.service="sql-data-warehouse"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="data-services"
   ms.date="11/18/2015"
   ms.author="lodipalm;barbkess;twounder;JRJ@BigBangData.co.uk;"/>


# Azure SQL 데이터 웨어하우스란?

Azure SQL 데이터 웨어하우스는 거대한 양의 관계형 및 비관계형 데이터를 처리할 수 있는 엔터프라이즈급 분산 데이터베이스입니다. 입증된 SQL 기능과 몇 초 내에 확장, 축소 및 일시 중지할 수 있는 기능을 결합한 업계 최초 클라우드 데이터 웨어하우스입니다. SQL 데이터 웨어하우스는 Azure에도 깊이 배어 있기 때문에 몇 초 안에 손쉽게 배포를 처리할 수 있습니다. 뿐만 아니라, 이 서비스는 완전한 관리가 가능하며 소프트웨어 패치, 유지 관리, 백업에 시간을 소비해야 하는 번거로움을 없애줍니다. SQL 데이터 웨어하우스의 기본 제공되는 자동 백업은 내결함성 및 셀프 서비스 복원을 지원합니다. SQL 데이터 웨어하우스를 만들면서, Azure의 이점을 충분히 활용하고 어떠한 엔테프라이즈 워크로드도 충족할만한 데이터 웨어하우스를 만들기 위해서 몇 가지 주요 특성에 중점을 두었습니다.

## 최적화

### 데이터 웨어하우스 아키텍처

SQL 데이터 웨어하우스는 애초에 최대 규모의 온-프레미스 엔터프라이즈 데이터 웨어하우스를 운영하기 위해 설계된 Microsoft의 MPP(대규모 병렬 처리) 아키텍처를 사용하여 실행됩니다. 이 아키텍처는 기본 제공 데이터 웨어하우징 성능 향상의 이점을 활용하는 한편 SQL 데이터 웨어하우스에서 복합적인 SQL 쿼리 계산을 손쉽게 확장하고 병렬 처리할 수 있도록 합니다. 또한, SQL 데이터 웨어하우스의 아키텍처는 Azure 내에 SQL 데이터 웨어하우스가 존재하는 상황을 활용하도록 설계되었습니다. 이러한 두 가지 측면을 결합하여, 아키텍처는 4가지 주요 구성 요소로 나눠집니다.

![SQL 데이터 웨어하우스 아키텍처][1]

- **제어 노드:** 개발 도구, 로드 도구 또는 비즈니스 인텔리전스 도구에 SQL 데이터 웨어하우스를 사용하는 경우 제어 노드에 연결합니다. SQL 데이터 웨어하우스의 계산 노드는 SQL 데이터베이스이며 SQL 데이터 웨어하우스에 연결하는 것은 표준 SQL 데이터베이스에 연결하는 것과 느낌이나 모양이 같습니다. 하지만 내부적으로는 시스템에서 벌어지는 모든 데이터 이동과 계산을 조율합니다. 제어 노드에 명령이 전송되면, 이 명령은 여러 개의 쿼리로 나눠져서 서비스의 계산 노드로 전달됩니다.

- **계산 노드:** 제어 노드와 마찬가지로, SQL 데이터 웨어하우스의 계산 노드는 SQL 데이터베이스를 사용하여 작동됩니다. 계산 노드의 임무는 서비스의 계산 역량을 제공하는 것입니다. 내부적으로는 모든 시간 데이터가 SQL 데이터 웨어하우스로 로드되어 서비스 노드에 전체적으로 배포됩니다. 그 후, 언제든 제어 노드에서 명령을 수신하면, 명령이 각 계산 노드에 여러 조각으로 나눠지고, 계산 노드는 해당 데이터에 대한 연산을 수행합니다. 계산이 완료되면, 계산 노드는 부분적인 결과를 제어 노드로 전달하고 제어 노드는 응답을 반환하기 전에 이러한 결과를 한데 모읍니다.

- **저장소:** SQL 데이터 웨어하우스의 모든 저장소는 표준 Azure Blob 저장소입니다. 따라서, 계산 노드는 데이터 작업 시 Blob에 대해 직접 읽기와 쓰기가 가능합니다. Azure 저장소는 거의 무한대로 투명하게 확장이 가능하기 때문에 자동으로 저장소 규모를 조정할 수 있고 이러한 작업은 계산과 별개로 수행될 수 있습니다. Azure 저장소는 규모를 조정하는 동안이나 일시 중지 기간에도 저장소를 유지하고, 백업 및 복원 프로세스를 합리화하고, 보다 안전하고 내결함성이 높은 저장소를 가질 수 있도록 합니다.

- **데이터 이동 서비스:** SQL 데이터 웨어하우스에서 모든 것을 결합시키는 마지막 요소는 데이터 이동 서비스입니다. 데이터 이동 서비스는 제어 노드가 모든 계산 노드와 통신하고 데이터를 전달할 수 있도록 합니다. 또한, 계산 노드 간에 서로 데이터를 주고 받을 수 있고, 이를 통해 계산 노드는 다른 계산 노드의 데이터에 액세스할 수 있기 때문에 join 및 aggregation 연산을 완료하는 데 필요한 데이터를 확보할 수 있습니다.

### 엔진 최적화

MPP 방식은 SQL 데이터 웨어하우스가 대량 데이터 문제를 해결하는 경우 위의 설명처럼 접근 방식을 나눠서 극복해 나갈 수 있도록 합니다. SQL 데이터 웨어하우스에 포함된 데이터는 분할되어 서비스의 계산 노드로 분산되기 때문에, 각각의 계산 노드는 데이터에서 자신에게 할당된 부분을 병렬로 연산할 수 있습니다. 마지막으로, 결과는 제어 노드로 전달되고 사용자에게 반환되기 전에 집계됩니다. 이 방식은 다양한 데이터 웨어하우징 특유의 성능 최적화를 통해 지원됩니다.

- SQL 데이터 웨어하우스는 고급 쿼리 최적화 도구 및 서비스의 모든 데이터 전반에 대한 복합적인 통계 자료를 사용하여 쿼리 계획을 생성합니다. 데이터 크기 및 분포에 대한 정보를 사용하면, 서비스는 특정 쿼리 연산에 대한 비용 산정을 기반으로 분산 쿼리를 최적화할 수 있습니다.

- 최적의 쿼리 계획을 생성하는 것 외에도, SQL 데이터 웨어하우스는 쿼리 수행에 필요한 계산 리소스 간에 효율적으로 데이터를 이동시키는 고급 알고리즘과 기법을 수용합니다. 이러한 기능은 데이터 웨어하우스의 데이터 이동 서비스에 기본 제공되어, 자동으로 최적화가 수행됩니다.

- 클러스터형 columnstore 인덱스를 어플라이언스에 포함시켜서 빠른 쿼리 성능을 달성하였습니다. SQL 데이터 웨어하우스는 열 기반 저장소를 사용하여 기존의 행 기반 저장소와 비교하여 최대 5배 높은 압축 향상, 최대 10배 높은 쿼리 성능 향상을 달성할 수 있습니다. 데이터 웨어하우스 쿼리는 일반적으로 테이블 전체 또는 테이블의 파티션 전체를 검색하기 때문에 Columnstore 인덱스에서 잘 작동하며, 쿼리 단계에 대한 데이터 이동의 영향을 최소화합니다.

## 확장성

SQL 데이터 웨어하우스 아키텍처는 각각 독립적으로 규모를 조정할 수 있는 분리된 저장소 및 계산을 도입합니다. SQL 데이터베이스의 빠르고 간단한 배포 구조는 추가적인 계산을 즉시 사용할 수 있도록 합니다. Azure Blob 저장소를 사용하면 이러한 기능이 완벽하게 보완됩니다. Blob은 안정적인 복제된 저장소를 제공할 뿐만 아니라 저비용으로 손쉽게 확장할 수 있는 인프라를 제공합니다. SQL 데이터 웨어하우스 클라우드 규모 저장소와 Azure 계산을 함께 사용하기 때문에, 쿼리 성능 저장소가 필요할 때 필요한 만큼만 비용을 지불하는 것이 가능합니다. 계샨량 변경은 Azure 포털에서 슬라이더를 왼쪽이나 오른쪽으로 움직이기만 하면 될 정도로 간단하며, T-SQL 및 PowerShell을 사용하여 일정을 예약하거나 워크로드에 추가할 수도 있습니다.

저장소와 독립적으로 계산량을 완벽하게 제어하는 기능과 더불어, SQL 데이터 웨어하우스에서는 사용자가 자신의 데이터 웨어하우스를 완전하게 일시 중지할 수 있습니다. 저장소를 유지한 상태로 모든 계산이 Azure의 기본 풀에서 처리되도록 하여, 즉시 비용을 절약할 수 있습니다. 필요할 때 계산을 다시 시작하고 데이터와 계산을 워크로드에 사용할 수 있게 하면 됩니다.

SQL 데이터 웨어하우스의 계산 사용량은 SQL 데이터 웨어하우스 단위(DWU)를 사용하여 측정됩니다. DWU는 데이터 웨어하우스의 기본적인 파워를 측정하는 단위이며, 웨어하우스와 연결된 표준 성능 양을 사용자가 항상 보유하도록 설계되었습니다. 구체적으로, DWU를 통해 다음 사항을 확인합니다.

- 기본적인 하드웨어나 소프트웨어에 대한 우려를 하지 않고 데이터 웨어하우스의 규모를 효율적으로 조정할 수 있습니다.

- 데이터 웨어하우스의 크기를 변경하기 전에 DWU에 표시되는 성능을 이해할 수 있습니다.

- 인스턴스의 기본적인 하드웨어 및 소프트웨어는 워크로드 성능에 영향을 미치지 않고 변경되거나 이동될 수 있습니다.

- 워크로드 성능에 영향을 미치지 않고 서비스의 기본적인 아키텍처를 수정할 수 있습니다.

- SQL 데이터 웨어하우스는 성능이 빠르게 개선되고 있습니다. 확장이 가능하고 시스템에 고르게 영향이 미치도록 개선할 것을 약속 드립니다.

### 데이터 웨어하우스 단위

데이터 웨어하우스 단위는 데이터 웨어하우징 워크로드 성능과 연관성이 높은 세 가지 측정 메트릭에 대한 단위입니다. 일반적인 가용성을 위하여, 주요 워크로드 메트릭은 사용자가 데이터 웨어하우스에 선택한 DWU와 선형으로 규모가 조정되도록 하는 것을 목표로 하고 있습니다.

**검색/집계:** 이 워크로드 메트릭은 표준 데이터 웨어하우징 쿼리를 사용하여 대량의 행을 검색한 후에 복합적인 집계를 수행합니다. 이것은 IO와 CPU를 많이 사용하는 연산입니다.

**로드:** 이 메트릭은 데이터를 서비스로 수집할 수 있는 역량을 측정합니다. 로드는 Azure Blob 저장소로부터 대표적인 데이터 집합을 로드하는 PolyBase를 통해 완성됩니다. 이 메트릭은 서비스의 네트워크 및 CPU 측면을 강조하기 위해서 설계되었습니다.

**CREATE TABLE AS SELECT(CTAS):** CTAS는 테이블 사본을 만들 수 있는 역량을 측정합니다. 여기에는 데이터를 저장소에서 읽어오기, 데이터를 어플라이언스의 노드 전체에 배포하기, 데이터를 저장소에 다시 쓰기가 포함됩니다. 이것은 CPU와 네트워크를 많이 사용하는 연산입니다.

### 크기를 조정하는 경우

전반적으로 DWU를 간단하게 만드는 것이 좋습니다. 결과가 빨리 필요하면, DWU를 높이고 더 높은 성능에 대한 비용을 지불합니다. 계산 파워가 덜 필요하면, DWU를 낮추고 필요한 것에만 비용을 지불합니다. DWU의 수를 변경할지 생각해 볼 수도 있습니다.

- 저녁이나 주말에 쿼리를 실행하지 않아도 된다면 계산 리소스를 일시 중지하여 실행 중인 모든 쿼리를 취소하고 데이터 웨어하우스에 할당된 모든 DWU를 제거합니다.

- 대량의 데이터 로딩 또는 변환 작업을 수행할 때는 데이터를 보다 신속하게 사용할 수 있도록 규모를 키울 수 있습니다.

- 사용자에게 이상적인 DWU가 무엇인지 파악하기 위해서는 규모를 키우거나 줄이고 데이터를 로드한 후에 몇 가지 쿼리를 실행해 봅니다. 규모 조정이 신속하게 이뤄지기 때문에 한 시간 내에 다양한 수준의 성능을 시도해 볼 수 있습니다.

> [AZURE.NOTE]아키텍처 또는 SQL 데이터 웨어하우스로 인해 소량의 데이터에 대해서는 규모 조정에 대해 예상되는 성능을 보지 못할 수 있습니다. 정확한 성능 테스트 결과를 얻으려면 데이터 볼륨을 1TB 이상으로 시작하는 것이 좋습니다.

## 통합

SQL 데이터 웨어하우스는 SQL Server의 입증된 관계형 데이터베이스 엔진을 기반으로 하며, 엔터프라이즈 데이터 웨어하우스에 기대하는 다양한 기능들을 포함하고 있습니다. 이미 TRANSACT-SQL에 대해 알고 있다면 해당 지식을 쉽게 SQL 데이터 웨어하우스에 전송할 수 있습니다. 고급 사용자이든 초보 사용자이든 상관 없이 설명서의 예제들이 시작하는 데 도움이 될 것입니다. 전반적으로, SQL 데이터 웨어하우스의 언어 요소를 구축하는 방식에 대한 기본적인 생각은 다음과 같습니다.

- SQL 데이터 웨어하우스는 많은 연산에 SQL Server의 Transact-SQL(TSQL) 구문을 사용하며, 저장 프로시저, 사용자 정의 함수, 테이블 파티션, 인덱스, 데이터 정렬을 비롯한 기존의 SQL 구문을 폭넓게 지원합니다.

- SQL 데이터 웨어하우스에는 클러스터형 Columnstore 인덱스, PolyBase 통합, 데이터 감사(위협 평가와 함께 완성되는)를 비롯한 최첨단의 SQL Server 기능이 많이 포함되어 있습니다.

- SQL 데이터 웨어하우스 개발이 아직 진행 중이기 때문에, 데이터 웨어하우징 워크로드에 일반적이지 않은 특정 TSQL 언어 요소나 SQL Server에 새롭게 채택되는 요소가 현 시점에는 제공되지 않을 수 있습니다. 이와 관련된 자세한 정보는 마이그레이션 설명서를 참고하세요.

SQL Server, SQL 데이터 웨어하우스, SQL 데이터베이스 및 분석 플랫폼 시스템 간의 TRANSACT-SQL 및 기능 공통성을 통해 데이터 요구 사항에 맞는 솔루션을 개발할 수 있습니다. 성능, 보안, 규모 요구 사항을 고려하여 데이터를 보관할 곳을 결정한 후에 필요에 따라 다른 시스템 간에 데이터를 전송할 수 있습니다.

SQL Server의 TSQL 노출 영역을 수용하는 것 외에, SQL 데이터 웨어하우스는 SQL Server 사용자에게 친숙한 많은 도구와 통합되고 있습니다. 구체적으로, SQL 데이터 웨어하우스와 통합되는 다음과 같은 범주의 도구에 중점을 두고 있습니다.

**기존 SQL Server 도구:** SQL Server Analysis Services, Integration Services 및 Reporting Services와의 완벽한 통합이 SQL 데이터 웨어하우스에 제공됩니다.

**클라우드 기반 도구:** SQL 데이터 웨어하우스는 Azure의 수많은 신규 도구와 함께 사용될 수 있으며, Azure의 데이터 팩터리, 스트림 분석, 기계 학습, Power BI와 심층적으로 통합되어 있습니다.

**타사 도구:** 다수의 타사 도구 공급자들이 자사의 도구와 SQL 데이터 웨어하우스의 통합을 보증하였습니다. 전체 목록을 참고하세요.

## 하이브리드

SQL 데이터 웨어하우스를 PolyBase와 함께 사용하면 비관계형 및 온-프레미스 데이터 원본으로 고급 하이브리드 시나리오를 설정할 수 있게 되고, 생태계 전체에서 데이터를 이동할 수 있는 전례 없는 역량을 가질 수 있습니다.

Polybase는 사용이 쉬우며 친숙한 T-SQL 명령과 동일한 명령을 사용하여 다양한 원본에서 데이터를 활용할 수 있게 해줍니다. Polybase를 통해 일반 테이블처럼 Azure blob 저장소에 보관 중인 비관계형 데이터를 쿼리할 수 있습니다. Polybase를 사용하여 비관계형 데이터를 쿼리하거나 비관계형 데이터를 SQL 데이터 웨어하우스로 가져옵니다.

- PolyBase는 외부 테이블을 사용하여 비관계형 데이터에 액세스합니다. 테이블 정의는 SQL 데이터 웨어하우스에 저장되며, SQL 및 일반적인 관계형 데이터에 액세스하는 도구를 사용하여 액세스할 수 있습니다.

- Polybase는 통합 시 중립적입니다. 지원되는 모든 원본에 동일한 기능을 노출합니다. Polybase에서 읽는 데이터는 구분된 파일 또는 ORC 파일 등 다양한 형식일 수 있습니다.

- PolyBase는 관계형 및 비관계형 도구에서 동일한 데이터에 최첨단 액세스를 제공하는 HD Insight 클러스터에 대한 저장소로 사용되고 있는 blob 저장소에 액세스하는 데 사용될 수 있습니다.


## 다음 단계

SQL 데이터 웨어하우스에 대한 내용을 파악했으면, 이제 [데이터 웨어하우스 워크로드], [프로비전], [샘플 데이터] 로드에 대해 알아봅니다.

>[AZURE.NOTE]이 문서를 보다 개선하려고 합니다. "이 문서가 도움이 되었나요?"란 질문에 "아니요"를 선택한 경우 누락된 사항이나 문서 개선 방법에 대한 제안 사항을 간략하게 입력해 주세요. 미리 감사드립니다.

<!--Image references-->
[1]: ./media/sql-data-warehouse-overview-what-is/dwarchitecture.png

<!--Article references-->
[데이터 웨어하우스 워크로드]: ./sql-data-warehouse-overview-workload.md
[샘플 데이터]: ./sql-data-warehouse-get-started-load-samples.md
[프로비전]: ./sql-data-warehouse-get-started-provision.md

<!--MSDN references-->

<!--Other Web references-->

<!---HONumber=AcomDC_1125_2015-->