---
title: Azure Security Center의 파트너 취약점 스캐너
description: Azure Security Center 타사 취약성 평가 솔루션의 통합을 지원 합니다. 이 문서에서는 이러한 도구를 설정 하는 방법을 설명 합니다.
services: security-center
documentationcenter: na
author: memildin
manager: rkarlin
ms.service: security-center
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 12/13/2019
ms.author: memildin
ms.openlocfilehash: ac68e5a91f72954ce54892f22ab5ba3a7a593bbf
ms.sourcegitcommit: 50ef5c2798da04cf746181fbfa3253fca366feaa
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/30/2020
ms.locfileid: "82611435"
---
# <a name="deploying-a-partner-vulnerability-scanning-solution"></a>파트너 취약성 검사 솔루션 배포

표준 계층을 사용 하는 경우 [가상 컴퓨터에 대 한 통합 취약성 스캐너](built-in-vulnerability-assessment.md)에 설명 된 대로 Azure Security Center의 기본 제공 취약점 평가 도구를 사용할 수 있습니다. 이 도구는 Qualys 라이선스 또는 Qualys 계정이 필요 하지 않습니다. 모든 항목이 Security Center 내에서 원활 하 게 처리 됩니다.

또는 [Qualys](https://www.qualys.com/lp/azure) 또는 [Rapid7](https://www.rapid7.com/products/insightvm/)에서 개인적으로 사용이 허가 된 자체 취약점 평가 솔루션을 배포할 수 있습니다. 동일한 구독에 속한 여러 Vm에 이러한 파트너 솔루션 중 하나를 설치할 수 있습니다.

## <a name="configuring-a-partner-solution-in-the-azure-portal"></a>파트너 솔루션 구성 (Azure Portal)

1. **Security Center** 대시보드의 **개요**에서 **권장 사항**을 클릭합니다.

1. **권장 사항** 페이지에서 **취약성 평가 솔루션을 가상 머신에 설치 해야**합니다 .를 선택 합니다.

    ![취약점 평가](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig1-new.png)

1. **취약성 평가 솔루션을 virtual machines 페이지에 설치 해야** 합니다 .에서 취약성 평가 솔루션을 설치 하려는 vm을 선택 합니다.

    ![취약성 평가 솔루션 추가](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig2-new.png)

1. **취약성 평가 솔루션을 virtual machines 페이지에 설치 해야** 합니다. **2 개의 vm에 설치** 를 클릭 합니다 (이름은 선택한 vm 수에 따라 달라질 수 있음).

    ![취약성 평가 추가](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig3-new.png)

1. 새 취약성 평가를 만들거나 기존 솔루션을 사용할 수 있습니다. 새 취약성 평가를 만들 경우 **Azure Marketplace**에서 파트너 솔루션을 선택할 수 있습니다. 또는 **기존 솔루션 사용** 아래에서 **Qualys** 또는 **Rapid7**을 선택합니다.

    Security Center에서 에이전트를 배포하려면 공급 업체의 라이선스 코드와 공개 키가 필요합니다. 라이선스 코드 및 공개 키를 가져오는 방법에 대해 알아보려면 [Qualys 설명서](https://community.qualys.com/docs/DOC-5823-deploying-qualys-cloud-agents-from-microsoft-azure-security-center) 또는 [Rapid7 설명서](https://insightvm.help.rapid7.com/docs/azure-security-center)를 참조하세요.


1. 새 평가를 만들려면 **새로 만들기**를 클릭 합니다. 파트너의 **취약성 관리** 페이지가 열립니다. 이 페이지에서 표시된 옵션은 파트너에 따라 변경될 수 있습니다.

    ![새 취약점 평가 솔루션 만들기](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig4-new.png)

    Qualys를 설정 하려면 (예:) **Qualys** 를 선택 하 고 다음을 선택 합니다.
    
    1. **리소스 그룹**에 **기존 항목 사용**을 선택합니다.
    
    1. **위치**에 솔루션의 지리적 위치를 선택합니다.
    
    1. **라이선스 코드** 상자(Qualys에 특정됨)에서 파트너가 제공한 라이선스를 입력합니다.
    
    1. **공개 키** 상자(Qualys에 특정됨)에서 파트너가 제공하는 공개 키 정보를 입력합니다.
    
    1. 이 Qualys 솔루션의 구독에서 검색 된 모든 Vm에 취약점 평가 에이전트를 자동으로 설치 하려면 **자동 업데이트** 확인란을 선택 합니다.
    
    1. **확인**을 클릭합니다.


## <a name="configuring-a-partner-solution-using-powershell-and-the-rest-api"></a>파트너 솔루션 구성 (PowerShell 및 REST API 사용)

[Qualys](https://www.qualys.com/lp/azure) 또는 [Rapid7](https://www.rapid7.com/products/insightvm/)에서 개인적으로 사용이 허가 된 자체 취약점 평가 솔루션을 프로그래밍 방식으로 배포 하려면 제공 된 스크립트 [PowerShell > 취약점 솔루션](https://github.com/Azure/Azure-Security-Center/tree/master/Powershell%20scripts/Vulnerability%20Solution)을 사용 합니다. 

이 스크립트는 REST API을 사용 하 여 ASC로 새 보안 솔루션을 만듭니다. 이 솔루션에는 Qualys 또는 Rapid7 서비스 공급자가 제공 하는 라이선스 및 키가 필요 합니다.

> [!IMPORTANT] 
> 라이선스 당 솔루션은 하나만 만들 수 있습니다. 동일한 이름/라이선스/키를 사용 하 여 다른 솔루션을 만들려고 하면 실패 합니다.

### <a name="prerequisites"></a>사전 요구 사항

필수 PowerShell 모듈:

- 설치-모듈 Az
- Install-module Az. security

### <a name="running-the-script"></a>스크립트 실행

스크립트를 실행 하려면 아래 매개 변수에 대 한 관련 정보가 필요 합니다.

| **매개 변수** | **필수** | **참고 사항** |
|----|:----:|----|
|**구독**|✔|분석 하려는 리소스가 포함 된 Azure 구독의 subscriptionID입니다.|
|**ResourceGroupName**|✔|리소스 그룹의 이름입니다. 기본 ("DefaultResourceGroup-xxx")을 포함 하 여 기존 리소스 그룹을 사용 합니다. 솔루션은 Azure 리소스가 아니므로 리소스 그룹 아래에는 나열 되지 않지만 여전히 연결 됩니다.|
|**vaSolutionName**|✔|새 솔루션의 이름입니다.|
|**vaType**|✔|Qualys 또는 Rapid7.|
|**licenceCode**|✔|공급 업체에서 제공 하는 라이선스 문자열입니다.|
|**publicKey**|✔|공급 업체에서 공개 키를 제공 했습니다.|
|**업데이트가**|-|이 VA 솔루션에 대해 자동 배포를 사용 (true) 또는 사용 하지 않도록 설정 (false) 합니다. 사용 하도록 설정 하면 구독의 모든 새 VM이 자동으로 솔루션에 연결을 시도 합니다.<br/>(기본값: False)|


구문:

```
.\New-ASCVASolution.ps1 -subscriptionId <Subscription Id> -resourceGroupName <RG Name>
-vaSolutionName <New solution name> -vaType <Qualys / Rapid7> -autoUpdate <true/false>
-licenceCode <License code from vendor> -publicKey <Public Key received from vendor>
```

예 (이 예제에는 유효한 라이선스 정보는 포함 되지 않음):

```
.\New-ASCVASolution.ps1 -subscriptionId 'f4cx1b69-dtgb-4ch6-6y6f-ea2e95373d3b' -resourceGroupName 'DefaultResourceGroup-WEU' -vaSolutionName 'QualysVa001' -vaType 'Qualys' -autoUpdate 'false' `
-licenceCode 'eyJjaWQiOiJkZDg5OTYzXe4iMTMzLWM4NTAtODM5FD2mZWM1N2Q3ZGU5MjgiLCJgbTYuOiIyMmM5NDg3MS1lNTVkLTQ1OGItYjhlMC03OTRhMmM3YWM1ZGQiLCJwd3NVcmwiOiJodHRwczovL3FhZ3B1YmxpYy1wMDEuaW50LnF1YWx5cy5jb20vQ2xvdSKJY6VudC8iLCJwd3NQb3J0IjoiNDQzIn0=' `
-publicKey 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCOiOLXjOywMfLZIBGPZLwSocf1Q64GASLK9OHFEmanBl1nkJhZDrZ4YD5lM98fThYbAx1Rde2iYV1ze/wDlX4cIvFAyXuN7HbdkeIlBl6vWXEBZpUU17bOdJOUGolzEzNBhtxi/elEZLghq9Chmah82me/okGMIhJJsCiTtglVQIDAQAB'
```


## <a name="review-the-recommendation"></a>권장 사항 검토
취약점 평가 솔루션이 대상 Security Center VM에 설치 된 후에는 VM을 검색 하 여 시스템 및 응용 프로그램의 취약성을 검색 하 고 식별 합니다.

> [!NOTE]
> 첫 번째 검색을 완료하려면 몇 시간이 걸릴 수 있습니다. 그 이후에는 시간별 프로세스입니다.

검색 된 문제는 **Virtual Machines 권장 사항**에 나와 있습니다.

## <a name="next-steps"></a>다음 단계

이 문서에서는 Vm을 검사 하기 위해 Qualys에서 제공 하는 기본 제공 취약성 평가 도구에 대해 설명 했습니다. 관련 자료는 다음 문서를 참조 하세요.

- [권장 사항에 대 한 다양 한 요소에 대해 알아보기](security-center-recommendations.md)
- [권장 사항을 수정 하는 방법 알아보기](security-center-remediate-recommendations.md)