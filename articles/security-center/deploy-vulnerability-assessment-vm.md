---
title: Azure 및 하이브리드 컴퓨터에 대 한 Security Center의 통합 취약성 평가 솔루션
description: Azure 컴퓨터에 취약점 평가 솔루션을 설치 하 여 Azure 및 virtual machines를 보호 하는 데 도움이 되는 Azure Security Center에 대 한 권장 사항을 가져옵니다.
services: security-center
documentationcenter: na
author: memildin
manager: rkarlin
ms.service: security-center
ms.devlang: na
ms.topic: how-to
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 02/18/2021
ms.author: memildin
ms.openlocfilehash: 551b9bc32d5505deb1aef30fdaede56b97a20474
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/03/2021
ms.locfileid: "101724458"
---
# <a name="azure-defenders-integrated-vulnerability-assessment-solution-for-azure-and-hybrid-machines"></a>Azure 및 하이브리드 컴퓨터용 azure Defender의 통합 취약성 평가 솔루션

모든 사이버 위험 및 보안 프로그램의 핵심 구성 요소는 취약성을 식별하고 분석하는 것입니다. 

Security Center는 연결 된 컴퓨터를 정기적으로 확인 하 여 취약성 평가 도구를 실행 하 고 있는지 확인 합니다.

취약점 평가 솔루션이 배포 되지 않은 컴퓨터를 발견 하면 Security Center는 다음과 같은 보안 권장 사항을 생성 합니다.

**취약성 평가 솔루션을 가상 머신에서 사용하도록 설정해야 함**

이 권장 사항을 사용 하 여 Azure virtual machines 및 Azure Arc 사용 하이브리드 컴퓨터에 취약점 평가 솔루션을 배포할 수 있습니다.

사용자의 요구 및 예산을 가장 잘 충족 하는 취약성 평가 솔루션을 배포 합니다.

- **통합 취약성 평가 솔루션 (Qualys에 의해 구동)** -Azure Defender는 추가 비용 없이 컴퓨터에 대 한 취약성 검색을 포함 합니다. Qualys 라이선스 또는 Qualys 계정이 필요하지 않습니다. 모든 항목이 Security Center 내에서 원활하게 처리됩니다. 이 페이지에서는이 스캐너의 세부 정보와 배포 방법에 대 한 지침을 제공 합니다.

    > [!TIP]
    > 통합 취약성 평가 솔루션은 Azure virtual machines와 하이브리드 컴퓨터를 모두 지원 합니다. 취약성 평가 스캐너를 온-프레미스 및 다중 클라우드 컴퓨터에 배포 하려면 azure [가 아닌 컴퓨터를 Security Center에 연결](quickstart-onboard-machines.md)에 설명 된 대로 azure Arc를 사용 하 여 먼저 azure에 연결 합니다.
    >
    > Security Center의 통합 취약성 평가 솔루션은 Azure Arc와 원활 하 게 작동 합니다. Azure Arc를 배포 하면 컴퓨터가 Security Center 표시 되 고 Log Analytics 에이전트가 필요 하지 않습니다.

- **BYOL (사용자 라이선스 필요) 솔루션** -Security Center는 다른 공급 업체의 도구 통합을 지원 하지만 라이선스 비용, 배포 및 구성을 처리 해야 합니다. Security Center를 사용 하 여 도구를 배포 하면 도구를 누락 한 Azure 가상 머신에 대 한 정보를 얻을 수 있습니다. 또한 Security Center 내에서 검색 결과를 볼 수 있습니다. Azure Defender에 포함 된 Qualys 라이선스 대신 조직의 개인 Qualys 또는 Rapid7 라이선스를 사용 하려는 경우 [BYOL 솔루션을 배포 하는 방법](deploy-vulnerability-assessment-byol-vm.md)을 참조 하세요.


## <a name="availability"></a>가용성

|양상|세부 정보|
|----|:----|
|릴리스 상태:|GA(일반 공급)|
|컴퓨터 종류 (하이브리드 시나리오):|![예](./media/icons/yes-icon.png) Azure 가상 머신<br>![예](./media/icons/yes-icon.png) Azure Arc 지원 머신|
|가격 책정:|[서버용 Azure Defender](defender-for-servers-introduction.md) 필요|
|필요한 역할 및 권한:|**리소스 소유자** 가 스캐너를 배포할 수 있음<br>**보안 읽기 권한자** 는 검색 결과를 볼 수 있습니다.|
|클라우드:|![예](./media/icons/yes-icon.png) 상용 클라우드<br>![아니요](./media/icons/no-icon.png) 국가/소버린(미국 정부, 중국 정부, 기타 정부)|
|||

## <a name="overview-of-the-integrated-vulnerability-scanner"></a>통합 취약성 검사기 개요

Azure Security Center에 포함된 취약성 검사기는 Qualys에서 제공합니다. Qualys의 스캐너는 취약점에 대 한 실시간 식별을 위한 최고의 도구 중 하나입니다. [서버에 대 한 Azure Defender](defender-for-servers-introduction.md)에서만 사용할 수 있습니다. Qualys 라이선스 또는 Qualys 계정이 필요하지 않습니다. 모든 항목이 Security Center 내에서 원활하게 처리됩니다.

### <a name="how-the-integrated-vulnerability-scanner-works"></a>통합 취약성 스캐너 작동 방식

취약성 검사기 확장은 다음과 같이 작동합니다.

1. Azure Security Center는 컴퓨터를 모니터링 하 **고, 선택한** 컴퓨터에 Qualys 확장을 배포 하기 위한 권장 사항을 제공 합니다.

1. **정보 수집** - 확장이 아티팩트를 수집하고 정의된 지역의 Qualys 클라우드 서비스에서 분석을 위해 보냅니다.

1.  Qualys ' 클라우드 서비스는 취약성 평가를 수행 하 고 결과를 Security Center으로 보냅니다. 

    > [!IMPORTANT]
    > 고객의 개인 정보, 기밀성 및 보안을 보장 하기 위해 고객 정보를 Qualys와 공유 하지 않습니다. [Azure에 기본 제공되는 개인 정보 보호 표준에 대해 자세히 알아보세요](https://www.microsoft.com/trust-center/privacy).

1. **보고서** -검색 결과는 Security Center에서 사용할 수 있습니다.

[![Azure Security Center 기본 제공 취약성 검사기의 프로세스 흐름 다이어그램](media/built-in-vulnerability-assessment/va-vm-flow-diagram.png)](media/built-in-vulnerability-assessment/va-vm-flow-diagram.png#lightbox)


## <a name="deploy-the-integrated-scanner-to-your-azure-and-hybrid-machines"></a>Azure 및 하이브리드 컴퓨터에 통합 스캐너 배포

1. [Azure Portal](https://azure.microsoft.com/features/azure-portal/)에서 **Security Center** 를 엽니다.

1. Security Center의 메뉴에서 **권장** 구성 페이지를 엽니다.

1. **가상 컴퓨터에서 취약성 평가 솔루션을 사용 하도록 설정 해야** 하는 권장 사항을 선택 합니다.

    :::image type="content" source="./media/deploy-vulnerability-assessment-vm/recommendation-page-machine-groupings.png" alt-text="권장 사항 페이지의 컴퓨터 그룹" lightbox="./media/deploy-vulnerability-assessment-vm/recommendation-page-machine-groupings.png":::

    > [!TIP]
    > 위의 "server16-test" 컴퓨터는 Azure Arc 사용 컴퓨터입니다. 온-프레미스 및 다중 클라우드 컴퓨터에 취약점 평가 스캐너를 배포 하려면 [Azure가 아닌 컴퓨터를 Security Center에 연결](quickstart-onboard-machines.md)을 참조 하세요.
    >
    > Security Center는 Azure Arc와 긴밀 하 게 연동 됩니다. Azure Arc를 배포 하면 컴퓨터가 Security Center 표시 되 고 Log Analytics 에이전트가 필요 하지 않습니다.

    컴퓨터는 다음 그룹 중 하나 이상에 표시 됩니다.

    * **정상 리소스** – Security Center는 이러한 컴퓨터에서 실행 되는 취약성 평가 솔루션을 검색 했습니다.
    * **비정상 리소스** – 취약점 스캐너 확장을 이러한 컴퓨터에 배포할 수 있습니다. 
    * **해당 하지 않는 리소스** – 이러한 컴퓨터에는 취약성 스캐너 확장을 배포할 수 없습니다. 컴퓨터가 AKS 클러스터에 있는 이미지 이거나, 가상 머신 확장 집합의 일부 이거나, 통합 취약성 스캐너에 대해 지원 되는 운영 체제 중 하나를 실행 하 고 있지 않기 때문에이 탭에 있을 수 있습니다.

        | **공급업체** | **OS** | **지원되는 버전** |
        |----|----|----|
        |Microsoft|Windows|모두|
        |Red Hat|Enterprise Linux|5.4 이상, 6, 7.0-7.8, 8.0-8.1|
        |Red Hat|CentOS|5.4 이상, 6, 7.0-7.7, 8.0-8.1|
        |Red Hat|Fedora|22-31|
        |SUSE|Linux Enterprise Server(SLES)|11, 12, 15|
        |SUSE|OpenSUSE|12, 13, 15.0-15.2|
        |SUSE|Leap|42.1|
        |Oracle|Enterprise Linux|5.11, 6, 7.0-7.5|
        |Debian|Debian|7.x-10. x|
        |Ubuntu|Ubuntu|12.04 LTS, 14.04 LTS, 15. x, 16.04 LTS, 18.04 LTS, 19.10, 20.04 LTS|

1. 비정상 컴퓨터 목록에서 취약점 평가 솔루션을 받을 컴퓨터를 선택 하 고 **재구성** 을 선택 합니다.

    >[!IMPORTANT]
    > 구성에 따라이 목록이 다르게 표시 될 수 있습니다. 
    >
    > - 타사 취약성 검사 프로그램이 구성 되지 않은 경우 배포할 기회가 제공 되지 않습니다.
    > - 선택한 컴퓨터가 Azure Defender로 보호 되지 않는 경우 ASC 통합 취약성 스캐너 옵션을 사용할 수 없습니다.

    :::image type="content" source="./media/deploy-vulnerability-assessment-vm/recommendation-remediation-options-builtin.png" alt-text="권장 사항에 응답할 때 선택 하려는 수정 흐름 유형에 대 한 옵션 * * 취약성 평가 솔루션을 virtual machines * * 권장 사항 페이지에서 사용 하도록 설정 해야 합니다.":::

1. 권장 옵션인 **ASC 통합 취약성 스캐너 배포** 를 선택 하 고 **계속 진행** 합니다.

1. 추가 확인 메시지를 표시 합니다. **재구성** 을 선택 합니다.

    스캐너 확장은 몇 분 내에 선택한 모든 컴퓨터에 설치 됩니다.
    
    확장이 성공적으로 배포되는 즉시 검사가 자동으로 시작됩니다. 그런 다음 검사가 4시간 간격으로 실행됩니다. 이 간격은 구성할 수 없습니다.

    >[!IMPORTANT]
    > 하나 이상의 컴퓨터에서 배포에 실패 하는 경우 허용 목록에 다음 Url을 추가 하 여 대상 컴퓨터가 Qualys의 클라우드 서비스와 통신할 수 있는지 확인 합니다 443 (HTTPS의 경우 기본값).
    >
    >   - https://qagpublic.qg3.apps.qualys.com -Qualys ' US 데이터 센터
    >   - https://qagpublic.qg2.apps.qualys.eu -Qualys ' 유럽 데이터 센터
    >
    > 컴퓨터가 유럽 Azure 지역에 있는 경우 해당 아티팩트가 Qualys의 유럽 데이터 센터에서 처리 됩니다. 다른 위치에 있는 가상 컴퓨터의 아티팩트가 US 데이터 센터로 전송 됩니다.


## <a name="automate-at-scale-deployments"></a>규모에 맞게 배포 자동화

> [!NOTE]
> 이 섹션에서 설명 하는 모든 도구는 [Security Center의 GitHub 커뮤니티 리포지토리에서](https://github.com/Azure/Azure-Security-Center/blob/master/README.md)사용할 수 있습니다. 여기에서 ASC 배포 전체에 사용할 스크립트, 자동화 및 기타 유용한 리소스를 찾을 수 있습니다.
>
> 이러한 도구 중 일부는 대규모 배포를 사용 하도록 설정한 후에 연결 된 새 컴퓨터에만 영향을 줍니다. 다른 항목은 기존 컴퓨터에도 배포 합니다. 여러 방법을 결합할 수 있습니다.

통합 스캐너의 대규모로 배포를 자동화할 수 있는 몇 가지 방법은 다음과 같습니다.

- **Azure Resource Manager** –이 방법은 Azure Portal의 **보기 권장 사항 논리** 에서 사용할 수 있습니다. 재구성 스크립트에는 자동화에 사용할 수 있는 관련 ARM 템플릿이 포함 되어 있습니다. :::image type="content" source="./media/deploy-vulnerability-assessment-vm/deploy-at-scale-remediation-logic.png" alt-text="재구성 스크립트에는 자동화에 사용할 수 있는 관련 arm 템플릿이 포함" lightbox="./media/deploy-vulnerability-assessment-vm/deploy-at-scale-remediation-logic.png"::: 되어 있습니다.
- **Deployifnotexists 정책** – 새로 생성 된 모든 컴퓨터에서 스캐너를 받도록 보장 [하는 사용자 지정 정책](https://github.com/Azure/Azure-Security-Center/tree/master/Remediation%20scripts/Enable%20the%20built-in%20vulnerability%20assessment%20solution%20on%20virtual%20machines%20(powered%20by%20Qualys)/Azure%20Policy) 입니다. **Azure에 배포** 를 선택 하 고 관련 매개 변수를 설정 합니다. 리소스 그룹, 구독 또는 관리 그룹 수준에서이 정책을 할당할 수 있습니다.
- **PowerShell 스크립트** – 스크립트를 사용 ```Update qualys-remediate-unhealthy-vms.ps1``` 하 여 모든 비정상 상태의 가상 컴퓨터에 대 한 확장을 배포 합니다. 새 리소스에 설치 하려면 [Azure Automation](../automation/automation-intro.md)를 사용 하 여 스크립트를 자동화 합니다. 이 스크립트는 권장 사항에 의해 검색 된 비정상 컴퓨터를 모두 찾고 Azure Resource Manager 호출을 실행 합니다.
- **Azure Logic Apps** – [샘플 앱](https://github.com/Azure/Azure-Security-Center/tree/master/Workflow%20automation/Install-VulnAssesmentAgent)을 기반으로 논리 앱을 빌드합니다. Security Center의 [워크플로 자동화](workflow-automation.md) 도구를 사용 하 여 논리 앱을 트리거하여 **가상 머신에서 취약점 평가 솔루션을 사용 하도록 설정할** 때마다 리소스에 대 한 권장 구성이 생성 될 때마다 스캐너를 배포 합니다.
- **REST API** – Security Center의 REST API을 사용 하 여 통합 된 취약점 평가 솔루션을 배포 하려면 다음 URL에 대 한 PUT 요청을 만들고 관련 리소스 ID를 추가 합니다. ```https://management.azure.com/<resourceId>/providers/Microsoft.Security/serverVulnerabilityAssessments/default?api-Version=2015-06-01-preview```



## <a name="trigger-an-on-demand-scan"></a>주문형 검색 트리거

로컬 또는 원격으로 실행 된 스크립트나 GPO (그룹 정책 개체)를 사용 하 여 컴퓨터 자체에서 주문형 검색을 트리거할 수 있습니다. 또는 패치 배포 작업을 마칠 때 소프트웨어 배포 도구에 통합할 수 있습니다. 

다음 명령을 실행 하 여 요청 시 검색을 트리거합니다.

- **Windows 컴퓨터**: ```REG ADD HKLM\SOFTWARE\Qualys\QualysAgent\ScanOnDemand\Vulnerability /v "ScanOnDemand" /t REG_DWORD /d "1" /f```
- **Linux 컴퓨터**: ```sudo /usr/local/qualys/cloud-agent/bin/cloudagentctl.sh action=demand type=vm```

## <a name="faq---integrated-vulnerability-scanner-powered-by-qualys"></a>FAQ-통합 취약성 스캐너 (Qualys에서 구동)

### <a name="are-there-any-additional-charges-for-the-qualys-license"></a>Qualys 라이선스에 대한 추가 요금이 있나요?
아니요. 기본 제공 스캐너는 모든 Azure Defender 사용자에 게 무료로 제공 됩니다. 권장 사항은 해당 라이선스 및 구성 정보를 사용 하 여 스캐너를 배포 합니다. 추가 라이선스는 필요하지 않습니다. 

### <a name="what-prerequisites-and-permissions-are-required-to-install-the-qualys-extension"></a>Qualys 확장을 설치하는 데 필요한 필수 구성 요소 및 권한은 무엇입니까?
확장을 배포 하려는 모든 컴퓨터에 대해 쓰기 권한이 있어야 합니다.

다른 확장과 마찬가지로 Azure Security Center 취약성 평가 확장 (powered by Qualys)은 Azure 가상 머신 에이전트를 기반으로 실행 됩니다. 따라서 Windows에서는 로컬 호스트로 실행되고 Linux에서는 루트로 실행됩니다.

설치 하는 동안 Security Center는 컴퓨터가 다음과 같은 두 Qualys 데이터 센터 443 (HTTPS의 경우 기본값)와 통신할 수 있는지 확인 합니다.

- https://qagpublic.qg3.apps.qualys.com -Qualys ' US 데이터 센터
- https://qagpublic.qg2.apps.qualys.eu -Qualys ' 유럽 데이터 센터

확장은 현재 프록시 구성 정보를 수락 하지 않습니다.

### <a name="can-i-remove-the-security-center-qualys-extension"></a>Security Center Qualys 확장을 제거할 수 있나요? 
컴퓨터에서 확장을 제거 하려면 수동으로 또는 프로그래밍 방식 도구를 사용 하 여 확장을 수행할 수 있습니다. 

다음 세부 정보가 필요합니다.

* Linux에서 확장은 "LinuxAgent. AzureSecurityCenter"이 고 게시자 이름은 "Qualys"입니다.
* Windows에서 확장은 "WindowsAgent"이 고 공급자 이름은 "Qualys"입니다.

### <a name="how-does-the-extension-get-updated"></a>확장은 어떻게 업데이트되나요?
Azure Security Center 에이전트 자체 및 기타 모든 Azure 확장과 마찬가지로 Qualys 스캐너의 사소한 업데이트는 백그라운드에서 자동으로 발생할 수 있습니다. 모든 에이전트 및 확장은 자동으로 배포되기 전에 광범위하게 테스트됩니다.

### <a name="why-does-my-machine-show-as-not-applicable-in-the-recommendation"></a>컴퓨터가 권장 구성에 "해당 없음"으로 표시 되는 이유는 무엇 인가요?
권장 사항 세부 정보 페이지에서 컴퓨터를 **정상**, **비정상** 및 **해당 없음** 목록으로 그룹화 합니다.

해당 **하지 않는** 리소스 그룹에 컴퓨터가 있는 경우 해당 컴퓨터에 취약성 스캐너 확장을 배포할 수 Security Center.

다음 이유 때문에 컴퓨터가이 탭에 있을 수 있습니다.

- Azure Defender에 의해 보호 되지 않습니다. 위에서 설명한 대로 Azure Security Center에 포함 된 취약성 스캐너는 [서버에 대해 Azure Defender](defender-for-servers-introduction.md)에서 보호 하는 컴퓨터에만 사용할 수 있습니다.

- AKS 클러스터의 이미지 또는 가상 머신 확장 집합의 일부입니다 .이 확장은 PaaS 리소스인 Vm을 지원 하지 않습니다.

- 지원 되는 운영 체제 중 하나가 실행 되 고 있지 않습니다.

    | **공급업체** | **OS** | **지원되는 버전** |
    |----|----|----|
    |Microsoft|Windows|모두|
    |Red Hat|Enterprise Linux|5.4 이상, 6, 7.0-7.8, 8.0-8.1|
    |Red Hat|CentOS|5.4 이상, 6, 7.0-7.7, 8.0-8.1|
    |Red Hat|Fedora|22-31|
    |SUSE|Linux Enterprise Server(SLES)|11, 12, 15|
    |SUSE|OpenSUSE|12, 13, 15.0-15.2|
    |SUSE|Leap|42.1|
    |Oracle|Enterprise Linux|5.11, 6, 7.0-7.5|
    |Debian|Debian|7.x-10. x|
    |Ubuntu|Ubuntu|12.04 LTS, 14.04 LTS, 15. x, 16.04 LTS, 18.04 LTS, 19.10, 20.04 LTS|
    ||||

### <a name="what-is-scanned-by-the-built-in-vulnerability-scanner"></a>기본 제공 취약성 검사기는 무엇을 검사하나요?
스캐너는 컴퓨터의 취약성을 찾기 위해 컴퓨터에서 실행 됩니다. 컴퓨터에서 네트워크를 검색할 수 없습니다.

### <a name="does-the-scanner-integrate-with-my-existing-qualys-console"></a>검사기가 내 기존 Qualys 콘솔과 통합되나요?
Security Center 확장은 기존 Qualys 검사기와는 별도의 도구입니다. 라이선스 제한은 이 확장을 Azure Security Center 내에서만 사용할 수 있다는 의미입니다.

### <a name="microsoft-defender-for-endpoint-also-includes-threat--vulnerability-management-tvm-how-is-this-azure-defender-vulnerability-assessment-extension-different"></a>Microsoft Defender for Endpoint에는 또한 위협 & (위협 관리)를 포함 합니다. 이 Azure Defender 취약성 평가 확장은 어떻게 다른 가요?
Windows에 기본 제공 되는 끝점의 위협 & 취약성 관리 솔루션인 Microsoft Defender를 사용 하 여 세계적인 수준의 취약성 관리 서비스를 적극적으로 개발 하 고 있습니다.

현재 Azure Security Center의 취약성 평가 확장은 Qualys에서 제공 합니다. Qualys 확장을 사용 하면 Windows 및 Linux 컴퓨터 모두를 지원할 수 있습니다. 또한 이 확장은 아직 CVE가 없는 취약성에 대한 Qualys의 지식을 활용할 수 있습니다.

### <a name="how-quickly-will-the-scanner-identify-newly-disclosed-critical-vulnerabilities"></a>스캐너가 새로 공개 된 중요 취약성을 얼마나 빨리 식별 하나요?
Qualys는 심각한 취약성을 노출 하는 48 시간 이내에 정보를 처리에 통합 하 고 영향을 받는 컴퓨터를 식별할 수 있습니다.



## <a name="next-steps"></a>다음 단계

> [!div class="nextstepaction"]
> [취약성 평가 솔루션에서 발견 된 내용 수정](remediate-vulnerability-findings-vm.md)


Security Center는 다음에 대한 취약성 분석도 제공합니다.

- SQL 데이터베이스 - [취약성 평가 대시보드에서 취약성 평가 보고서 탐색](defender-for-sql-usage.md#explore-vulnerability-assessment-reports)을 참조하세요.
- 이미지 Azure Container Registry- [컨테이너 레지스트리에 대해 Azure Defender를 사용 하 여 취약성에 대 한 이미지 검색을](defender-for-container-registries-usage.md) 참조 하세요.