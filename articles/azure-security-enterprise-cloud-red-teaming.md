<properties
   pageTitle="Microsoft 엔터프라이즈 클라우드 레드 팀"
   description="이 문서는 Microsoft 관리된 클라우드 인프라, 서비스 및 응용 프로그램에 대한 Microsoft의 전략 및 레드 팀과 라이브 사이트 침투 테스트의 실행을 설명합니다.Microsoft가 실제 보안 위험을 시뮬레이션하고 연속 보안 모니터링을 수행하며 보안 인시던트 대응을 연습하여 Microsoft Azure 및 Office 365의 보안 유효성을 검사하고 강화하는 방법을 알아봅니다."
   services="virtual-machines, cloud-services, storage"
   documentationCenter="na"
   authors="YuriDio"
   manager="swadhwa"
   editor=""/>

<tags
   ms.service="azure-security"
   ms.devlang="na"
   ms.topic="get-started-article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="02/17/2016"
   ms.author="yuridio"/>


#Microsoft 엔터프라이즈 클라우드 레드 팀

레드 팀은 규정 준수 승인 또는 기타 업계 요구 사항을 넘어서며 Microsoft 및 고객에게 Microsoft 클라우드 서비스가 지속적으로 수행하는 보안 모니터링, 테스트 및 업데이트를 제공하여 고객과 Microsoft가 직면하는 끊임없이 변화하는 위협을 반영한다는 추가적인 확신을 제공합니다.

##소개

조직에서는 실제 공격을 시뮬레이션하고 결정적이고 영구적인 악의적 사용자가 보안 위험 중에 사용하는 전략, 기술 및 프로시저(TTP)를 사용하여 현재와 미래 위협의 영향에 대해 준비할 수 있습니다. 보안 인시던트가 발생하지 않도록 하는 것보다 보안 인시던트가 발생할 수 있다고 가정하는 것이 중요합니다. 레드 팀 및 라이브 사이트 침투 테스트 연습에서 얻은 정보는 방어 강화, 응답 전략 개선, 방어자, 학습 및 전체 보안 프로그램의 효율성 상승에 크게 도움이 됩니다.

조직은 보안 위험 방지 전략에 전적으로 중점을 두어 보안 탐지 및 대응에서 차이를 포괄적으로 식별할 수 없습니다. 보안 위험을 보호할 뿐만 아니라 탐지하고 대응하는 방법을 이해하는 것은 처음부터 보안 위험의 발생을 방지하기 위한 작업을 수행하는 것보다 중요합니다. 최악의 시나리오를 계획하여 모의 훈련(윗면 연습 및 침투) 및 레드 팀(실제 공격 및 침입)를 통해 조직에서는 침투 시도를 감지하고 보안 위험과 관련된 대응을 크게 향상시키기 위해 필요한 기능을 개발할 수 있습니다.

###Microsoft 엔터프라이즈 클라우드 레드 팀 

이 문서는 Microsoft 관리된 클라우드 인프라, 서비스 및 응용 프로그램에 대한 Microsoft가 라이브 사이트 침투 테스트의 형태인 레드 팀을 활용하는 방법을 설명합니다. 또한 Microsoft가 실제 보안 위험을 시뮬레이션하고 계속해서 보안을 모니터링하며 보안 인시던트 대응을 연습하여 Microsoft Azure 및 Office 365(O365)의 보안을 테스트하고 강화하는 방법을 알아봅니다. 그러나 레드 팀 및 라이브 사이트 침투 테스트 중에 의도적으로 최종 고객 데이터를 대상으로 지정하지 않습니다. Microsoft Azure 및 O365 인프라 및 플랫폼 뿐만 아니라 Microsoft의 고유한 테넌트, 응용 프로그램 및 데이터에 대해 테스트됩니다. Microsoft Azure 또는 O365에서 호스트되는 고객 테넌트, 응용 프로그램 및 데이터를 절대 대상으로 지정하지 않습니다.

###방지 이후 

보안 예방 전략 및 기술은 모든 공격으로부터 안전을 보장할 수 없습니다. 오늘날의 위협 환경에서는 보안 위험이 이미 발생했거나 발생이 시간 문제일 뿐이라는 점을 인식하는 것이 중요합니다. 조직이 이미 손상되었지만 아직 발견되지 않았을 가능성이 큽니다. 이 가정으로 작업하면 조직의 인프라, 사람, 프로세스 및 기술의 한계를 푸시하는 방법으로 검색 및 응답 전략의 모양을 변경합니다.

![NSA 견적](./media/azure-security-enterprise-cloud-red-teaming/azure-security-enterprise-cloud-red-teaming-fig1.png)

Verizon의 2014 데이터 보안 위험 조사 보고서에 따르면 약 80%의 경우에 위반된 조직이 손상을 감지하지 못했습니다( 12페이지, <http://www.verizonenterprise.com/DBIR/2014/>[)](http://www.verizonenterprise.com/DBIR/2014/). 대신 고객, 사법 기관, 타사 서비스 또는 외부 사기 감지 에이전시와 같은 외부 당사자에 의해 보안 위험의 알림을 받았습니다. 무엇보다도 이러한 메트릭은 공격자가 검색 결국 감지된 인시던트에서 가져옵니다! 공격자가 지금까지 감지되지 않은 경우는 포함되지 않습니다.

다음에 나오는 섹션에서는 Microsoft Azure 및 Office 365를 비롯한 Microsoft의 클라우드 서비스에서 사용되는 새로운 보안 전략으로의 전환을 설명합니다. 보안 위험 가정이라는 이 보안 전략은 공격자가 취약점을 악용했고 액세스 권한을 얻었으며 라이브 프로덕션 서비스에서 영구적이라는 것을 가정하여 디자인, 엔지니어링, 운영의 기본적인 전제를 변경하는 방법론이며 문화적 이동입니다.

##기존의 보안 방법론 

기존의 보안 방법론은 주로 방지에 집중했습니다. 방지는 취약점을 제거하고 보안 위험이 발생하기 전에 이를 완화하려는 방어 전략입니다. Microsoft의 온라인 서비스 포트폴리오(Microsoft Azure, Office 365, CRM Online 등을 포함)에서는 [*보안 개발*](http://www.microsoft.com/security/sdl/default.aspx) [*운영 보안 보증*](http://www.microsoft.com/download/details.aspx?id=40872)(OSA) 프로그램을 사용하여 보안 프로세스를 끊임 없이 개선하고 있습니다. 위협 모델링, 정적 코드 분석 및 보안 테스트는 공격 노출 영역을 열거, 감소, 관리하는 데 유용하지만 모든 보안 위험을 제거하지 않습니다.

방지 전략의 예는 Microsoft가 엑세스를 설명할 필요가 있고 자격 요구사항을 충족하는 직원에 대해 운영자/관리자 액세스를 제한하는 방법입니다(예를 들어 배경 확인을 통과했고 모든 규정 준수 및 보안 요구 사항을 충족하며 엑세스가 필요한 작업 함수/역할에 있는 직원). 또한 관리자는 0개의 고정 사용 권한을 유지 관리하는 대신 JIT(Just-In-Time) 액세스[1] 및 JEA(Just Enough Administration)[2]가 지정됩니다. 다른 예로 프로덕션 환경에서 직원 전자 메일 환경을 분리하고 중요한 작업을 수행하기 위해 특수하게 보안이 강화된 워크스테이션 사용합니다.

가능한 경우 사용자의 개입은 자동화되고 자주 감사되는 도구 기반 프로세스에 의해 대체됩니다. 몇 가지 일상적인 함수의 예로 배포, 디버깅, 진단 데이터 수집 및 서비스 관리가 있습니다. Microsoft Online Services는 잠재적 보안 위험에 대한 노출을 줄이기 위해 시스템 보안 및 작업 자동화에 대한 투자를 계속합니다.

작업 기술 관점에서 보안 위험 방지 투자는 노출을 제한하지만 완전히 제거할 수는 없습니다. 따라서 Microsoft의 보안 프로그램(예: SDL 및 OSA) 및 기술의 채택 및 계속된 성숙은 보안 위험을 방지하는 중요한 수단인 반면 모든 사용자가 보안 위험이 해당 조직, 서비스 및 사용자에 영향을 주는 것이 불가피하다는 점을 수락해야 합니다.

###새롭게 떠오르는 위협 

지난 5년이 넘는 동안 하나의 특정 위협 범주를 훨씬 더 광범위하게 설명했습니다. APT(고급 영구 위협)은 확장되는 중요한 데이터의 특정 목표로 군사를 침투시키고 산업 기반 및 정부 네트워크를 방어하기 위해 정부가 후원하는 시도를 가리키는 연결된 용어였습니다. 오늘날 APT라는 용어는 미디어 및 보안 분야에 널리 사용되어 개별 조직 대상으로 하는 공격을 설명하거나 공격이 실제로 고급 또는 영구적인지에 기본적인 관계가 없이 특히 기술적인 경우에 사용됩니다. APT의 공통된 특징은 다음을 포함합니다.

- 복잡한 계획

- 특정/순차적 대상 지정

- 효과적인 정찰

- 숙련된 도구 사용

- 사회 공학

오늘날의 악의적 사용자는 상당히 많은 리소스 및 오케스트레이션을 마음대로 합니다. 악의적 순력자의 숙련도 관계 없이 현재까지 2009 후기의 보안 사고 추세는 이벤트 및 위험의 확률이 증가하는 명백한 증거입니다. 증가된 숙련도 및 보안 위협의 대상이 지정된 특성은 증가하는 해당 빈도와 함께 조만간 보안 위험이 모든 사용자와 조직에 영향을 준다는 것을 알려줍니다.

현재 위협 상황에서 방지 전용 집중은 결정된 영구 경쟁을 해결하기 위해 충분하지 않습니다. 또한 바이러스 백신 소프트웨어 및 IDS(침입 감지 시스템) 등 일반적인 보안 도구를 사용하여 오늘날 보안 위험의 전범위를 캡처 또는 완화하기 어렵습니다. 네트워크 가장자리 컨트롤은 아마추어를 내보내지만 유능하고 동기 부여된 공격자는 항상 이러한 가상 경계 내에 가져오는 방법을 찾아냅니다. 결과적으로 보안 위험의 깊이 및 범위에 응답해야 하는 경우 조직은 종종 준비가 안됩니다.

IT의 발전 및 클라우드의 도입으로 더 이상 엔터프라이즈의 경계는 방화벽을 통해 물리적 또는 가상으로 관리되는 네트워크 경계에서 정의될 수 없습니다. 중요한 데이터 및 응용 프로그램을 포함한 회사 데이터를 온-프레미스, 개인 데이터 센터, 클라우드, 파트너 및 다양한 사용자 장치 등 거의 모든 곳에서 찾을 수 있습니다. 전부 대부분의 조직에서 활용되는 보안 방법론의 이동 뿐만 아니라 기본적으로 다른 보안 전략이 필요합니다.

보안 위험 응답은보안 위험의 범위 식별, 이해 관계자에 대한 적절한 알림 및 데이터 손실 조사와 손상된 자산 회복을 비롯한 많은 문제를 항상 표시했습니다. 오늘날의 악의적 사용자 및 IT의 발전의 결합을 통해 보안 위험 응답은 지금이 가장 어렵습니다. 따라서 보안 위협 방지의 기존 포커스 대신 효과적인 보안 전략은 결정적이고 영구적인 악의적 사용자가 방어를 성공적으로 위반한다고 가정합니다.

##보안 위험 가정 방법론 

현재 위협 환경은 효과적인 보안 전략이 감지 및 대응을 통해 방지에 대한 투자를 분산하도록 요구합니다. 보안 추세의 자세한 분석을 통해 Microsoft는 전적으로 해당 위협의 방지 보다 새롭게 등장하는 위협에 대한 감지 및 대응에 집중하는 반응 보안 프로세스와 기술의 추가 투자에 대한 필요성을 알리고 강조하기 시작했습니다. 또한 위협 환경 및 심층 분석의 변경의 결과로 Microsoft는 보안 위험의 방지에서 보안 위험의 발생 시 처리하기 위해 준비되도록 보안 전략을 구체화하기로 결정했습니다. 이 전략은 주요 보안 이벤트의 예측을 "만약"이 아닌 "사실"의 문제로 간주합니다.

Microsoft의 보안 위험 가정 사례가 수 년 동안 발생했지만 대부분의 고객은 Microsoft 클라우드 보안을 강화하기 위해 백그라운드에서 수행되는 작업을 인식하지 못했습니다. 보안 위험 가정은 보안 투자, 디자인 결정 및 운영 보안 사례를 안내하는 방식입니다. 보안 위험 가정은 내부 및 외부의 응용 프로그램, 서비스, ID 및 네트워크를 안전하지 않고 이미 손상된 것으로 처리하여 여기에 배치된 트러스트를 제한합니다. 보안 위험 가정 전략이 Microsoft 엔터프라이즈 또는 클라우드 서비스의 보안 위험에서 시작되지 않았지만 업계 전체에서 대부분의 조직이 보안 위험을 방지하려는 시도에도 불구하고 보안이 위험하다고 인식되었습니다.

보안 위험의 방지가 조직의 작업에서 중요한 부분이지만 해당 사례를 지속적으로 테스트하고 확대하여 APT와 같은 현재 악의적 사용자를 효과적으로 해결해야 합니다. 조직이 보안 위험을 준비하기 위해 먼저 강력하고 반복 가능하며 철저하게 테스트를 거친 보안 응답 절차를 작성하고 유지 관리해야 합니다.

위협 모델링, 코드 검토 및 보안 테스트 등의 보안 위험 방지 보안 처가 안전한 개발 수명 주기에서 일반적으로 발생할 수 있는 반면 보안 위험 가정은 보안 위험이 발생할 경우 반응 기능을 연습하고 측정하여 전반적인 보안에 대한 계정에 도움이 되는 여러 가지 이점을 제공합니다. Microsoft에서는 감지 및 대응 기능을 개선하려는 목적을 가진 보안 응답 계획을 테스트하는 지속적인 모의 훈련 연습과 라이브 사이트 침투를 통해 이 작업을 수행하도록 설정합니다.

![보안 위반 방지 및 보안 위반 가정](./media/azure-security-enterprise-cloud-red-teaming/azure-security-enterprise-cloud-red-teaming-fig2.png)

*그림 1: 보안 위험 모델 방지 및 가정*

보안 위험 가정으로 보안 초점은 다음 항목에서 식별 및 해결 간격으로 변경됩니다.

- 공격 및 침입 탐지

- 공격 및 침입에 대한 대응

- 데이터 유출, 변조 또는 손상 복구

- 향후 공격 및 침입 방지

보안 위험 가정은 보호, 검색 및 응답 메커니즘이 제대로 구현되는지 확인합니다. "잘 아는 공격자"의 잠재적 위협을 줄입니다(예: 손상된 계정 및 컴퓨터 등 합법적인 자산 사용).

클라우드 및 하이브리드 컴퓨팅 모델의 특성은 보안 위험을 처리하기 위한 준비를 포함하여 안전한 운영 환경을 유지 관리하는 데 있어서 역할을 테스트하는 역할 침투에 중요성을 더합니다. Microsoft 클라우드의 다양한 측면을 고객의 직접 제어하지 않으므로 Microsoft는 인프라, 플랫폼 및 서비스에 대한 공격에서 보호할 뿐만 아니라 탐지하고 대응하기 위해 노력합니다.

따라서 Microsoft는 모의 훈련 연습 및 일반 레드 팀을 수행하여 Microsoft의 보안 위험 가정 준비 상태를 평가하고 개선합니다. 침투 테스트 뿐만 아니라 실제 공격의 모델링을 통해 Microsoft는 공격에 대처하는 기능을 테스트하고 검색 및 응답의 격차를 식별하며 리소스에 집중하여 해당 격차를 해결할 수 있습니다. Microsoft에서는 보안 인시던트 응답을 연습하고, 연속 모니터링, 포렌식스 및 복구를 수행하여 보안 위험을 처리하는 데 필요한 중요한 기능을 개발하려고 노력합니다.

###보안 위험 가정 실행 

Microsoft 클라우드 서비스에서 보안 위험 가정은 모의 훈련 및 실제 공격을 시뮬레이션하는 레드 팀 보안 위험이라는 실제 보안 위험 연습을 통해 처음 수행되었습니다. 레드 팀 보안 위험은 MTTD(Mean-Time to Detect)[3] 및 MTTR(Mean-Time to Recovery)[4]를 상당히 줄이는 목표를 가지고 대상이 지정된 영구 공격에 대응하는 Microsoft의 기능을 테스트합니다.


![보안 위험 가정 주기](./media/azure-security-enterprise-cloud-red-teaming/azure-security-enterprise-cloud-red-teaming-fig3.png)

*그림 2. 보안 위험 가정 주기*

모의 훈련은 화제 훈련과 실제 화재으로 제공된 윗면 연습입니다. 레드 팀 연습은 실제 보안 위험의 처리를 포함한 해당 항목을 준비하는 보안 인시던트를 가능한 한 현실적으로 제공하는 종단 간 보안 위험 시뮬레이션을 제공합니다.

모의 훈련 및 레드 팀 보안 위험은 실제 이벤트에 앞서 연습한 보안 인시던트 응답에 대한 기회를 제공합니다. 많이 연습할수록 진짜 인시던트 또는 보안 위험에 잘 준비될 것입니다.


###모의 훈련 

레드 팀 보안 위험에 모든 리소스를 사용하기 전에 Microsoft에서 모의 훈련이라는 윗면 연습으로 시작합니다. 모의 훈련 연습은 [SDL 위협 모델링](http://msdn.microsoft.com/magazine/dd148644.aspx)[과 비슷하지만](http://msdn.microsoft.com/magazine/dd148644.aspx)[ ](http://msdn.microsoft.com/magazine/dd148644.aspx) 보안 대응 프로세스 및 공격을 다루는 조직이나 서비스의 담당자에게 적합합니다. 모의 훈련의 의도는 보안에서 엔지니어링 및 운영까지 Microsoft 내에서 여러 그룹의 담당자가 함께 보안 인시던트 대응 절차를 향상하는 것입니다. 점점 깊이 모의 훈련을 시작하고 계속하게 되면 누락되고 참여해야 하는 그룹 및 담당자를 알 수 있게 됩니다.

실제 보안 위험에 필요하고 포함될 가능성이 있는 개별 또는 그룹은 모의 훈련 연습에서 이해 관계자로 추가되었습니다. 담당자의 목록은 보안, 엔지니어링 및 작업 뿐만 아니라 법적, 인적 자원, 마케팅 및 경영 같은 회사 내의 거의 모든 그룹에서 담당자를 포함할만큼 증가합니다. 광범위한 그룹 및 개인을 포함하면 포괄적인 보안 위험 계획의 개발을 확인하는 부문 및 비즈니스 단위에 걸쳐 필요한 관계를 구축하도록 도움이 되었습니다. 대부분의 경우에서 이 실습도 보안 위험 응답과 관련된 위험 및 요구 사항의 Microsoft 전체 인식을 교육하고 제공하기 위해 제공됩니다.

모의 훈련 연습의 기본 목적은 SOP(표준 운영 절차)의 완결성을 확인하고 검색 및 응답을 향상시키는 것입니다. 모의 훈련 연습의 주요한 세 개(3)의 단계가 있습니다.

-   공격 시나리오 식별

-   모의 공격 및 응답 프로세스

-   사후 평가

공격 시나리오 식별은 모델에 대한 잠재적인 공격의 목록을 작성하여 시작되었습니다. 이러한 공격 시나리오는 다양한 형태를 갖고 다음과 같은 다양한 공격 시나리오 결합합니다.

-   서비스 거부

-   맬웨어 발생

-   원격 코드 실행

-   고객 데이터 손상

-   내부 공격자

-   서비스 손상

종종 시나리오를 선택하고 이전에 보고된 (Microsoft, 경쟁사에 영향을 주는 것으로 알려지거나 업계 전반에 걸쳐 발생하는 것으로 관찰된) 보안 인시던트를 검토하여 일반적이라고 알려진 시나리오에서 우선 순위를 지정합니다.

공격 시나리오를 선택하면 하나 이상의 그룹 멤버인 보안 팀의 멤버는 보통 악의적 사용자의 역할(공격)을 수행하고 공격 시나리오의 실행을 설명합니다. 모의 공격 및 대응 프로세스의 시작입니다.

모의 훈련에 참여하는 다른 멤버는 방어의 역할을 수행하고 기존에 있던 표준 운영 절차를 참조하여(또는 누락되거나 불완전한 사항을 식별하여) 공격 시나리오를 감지하거나 대응하는 방법을 설명합니다 방어가 모의 공격으로부터 감지, 조사, 완화 또는 복구하는 단계로 대응하면 공격은 종종 방어 가정을 무효화하고 방어자가 감지 및 대응에 대해 더 깊게 생각하게 만드는 카운터 공격 방법으로 대응합니다.

예를 들어 방어가 공격에 사용되는 공격자 IP 주소를 식별하고 차단하도록 제의한 경우 공격은 원본 IP 주소를 변경하거나 botnet과 같은 일반적으로 사용 가능한 공격 인프라를 활용하여 편하게 다양한 IP 주소에서 공격을 공급할 수 있다고 알려줍니다. 윗면 연습 중에 이 끊임없이 주고 받는 과정을 통해 SOP를 크게 증가시키고 많은 유용한 토론 뿐만 아니라 다양한 보안 투자 요구 사항을 식별하게 됩니다.

매우 유용하지만 모의 훈련은 측정할 수 내용에 대한 제한이 있습니다. 특히 진행 중인 대상 지정된 공격 및 영구적인 악의적 사용자를 다루는 것과 관련이 있기 때문입니다. 따라서 Microsoft를 설정하여 결정적이고 영구적인 악의적 사용자로부터 복잡한 공격에 대한 준비 상태를 진정으로 평가하고 측정합니다. 실제 보안 위험을 다루는 외에도 레드 팀이라는 개념을 사용하여 실제 보안 위험을 생성하는 것보다 좋은 방법은 없습니다. 레드 팀은 공격 및 침입에 대한 실제 보안 위험 전략을 사용하는 것을 가리킵니다. 레드 팀은 모의 훈련의 이론적인 측면을 사용하며 실현합니다.

### 레드 팀 

보안 위험 가정 보안 전략은 레드 팀(공격자) 및 블루 팀(방어자)라는 2개의 주요 그룹에 의해 실행됩니다.[5] 레드 팀으로 말하자면 인프라 및 플랫폼 엔지니어링 또는 작업 팀의 사전 지식 없이 동일한 전략, 기술, 절차(TTP)를 라이브 프로덕션 인프라에 대한 실제 악의적 사용자로 사용하여 Microsoft Azure 및 Office 365 시스템과 작업을 테스트하는 방법입니다.

보안 검색 및 응답 기능을 테스트하고 제어된 방식으로 프로덕션 취약점, 구성 오류, 잘못된 가정 또는 기타 보안 문제를 식별하는 데 도움이 됩니다. 모든 레드 팀 보안 위험은 레드 팀과 블루 팀 간의 완전한 공개에 따라 차이를 식별하고 찾은 내용을 해결하며 보안 위험 응답을 크게 향상시킵니다.

#### 레드 팀 

레드 팀은 Microsoft의 인프라, 플랫폼 및 Microsoft의 고유한 테넌트와 응용 프로그램을 위반에 중점을 두는 Microsoft 내에서 정규 직원의 그룹입니다. 온라인 서비스(Microsoft 인프라, 플랫폼 및 응용 프로그램은 해당하지만 최종 고객의 응용 프로그램 및 데이터는 해당하지 않음)에 대한 대상이 지정된 영구 공격을 수행하는 악의적 사용자(윤리적 해커의 그룹)입니다.

레드 팀의 역할은 동일한 단계를 그림 3에서 보여준 악의적 사용자의 kill 체인[6]으로 사용하여 환경을 공격하고 침투하는 것입니다.

![보안 위험 단계](./media/azure-security-enterprise-cloud-red-teaming/azure-security-enterprise-cloud-red-teaming-fig4.png)

*그림 3. 보안 위험 단계*

따라서 악의적 사용자가 사용하는 최신 공격 기술 및 도구를 알기 위해 업계 인시던트 및 위협 환경 추세를 연구하고 이해하는 작업은 레드 팀의 접근 방법에서 중요한 부분입니다. 전 세계에서 가장 많이 공격받는 인터넷 자산 중 하나인 Microsoft Online Services는 새로운 위협 요소에 대한 풍부한 데이터를 생성합니다. 레드 팀은 이 연구 및 인텔리전스를 사용하여 악의적 사용자 kill 체인과 관련된 실제 전략을 모형화할 뿐만 아니라 실행할 수 있습니다.

악의적 사용자로 안려진 연구 및 모델링 외에도 레드 팀은 사용자 지정으로 개발된 침투 도구 및 공격 방법을 사용하여 Microsoft Azure 및 Office 365를 손상시키는 고유하고 새로운 기술을 개발하고 파생합니다. 악의적 사용자와 마찬가지로 레드 팀은 손상을 일으키기 위해 새롭게 혼합된 위협을 활용하며 새 장애물 또는 방어가 나타나면 전략을 변경합니다.

유능하고 동기 유발된 공격자가 경계 방어를 위반하기 때문에 레드 팀도 그렇게 해야 합니다. 가장자리 컨트롤은 아마추어를 내보내지만 영구적인 악의적 사용자는 항상 들어옵니다. 한 번 내부에 들어오면 것이 레드 팀은 인프라에 깊게 침투하기 위해 좌우로 피벗을 사용하는 참가자 권한을 얻는 것이 일반적입니다. 또한 가장 숙련된 악의적 사용자처럼 레드 팀은 교두보를 쌓아 지속성을 유지하고 지속적으로 해당 접근법을 수정하여 감지를 피할 수 있습니다.

예를 들어 레드 팀은 원할 때마다 손상된 리소스 및 정보 검색에 대한 지속적인 액세스 허용하는 사용자 지정 도구(보트, 원격 제어 등)를 설치할 수 있습니다. 이러한 공격의 메커니즘을 사용하면 레드 팀은 중요한 데이터를 탈취할 뿐만 아니라 손상된 데이터를 활용할 수 있습니다(고객의 데이터가 아닌 Microsoft의 데이터만).

작업의 중요한 특성으로 인해 Microsoft의 레드 팀에서 작업하는 직원은 매우 높은 표준의 보안 및 규정 준수 유지해야 합니다. 공격 시나리오에 참여하도록 허용받기 전에 추가 유효성 검사, 해당 경력 확인 및 교육을 거칩니다. 레드 팀이 의도적으로 고객 데이터를 대상으로 지정하지 못하지만

Microsoft Azure 및 Office 365를 배포, 유지 관리 및 관리하는 서비스 운영 담당자로 동일한 ATCD(고객 데이터 액세스) 요구 사항을 유지 관리합니다. 또한 레드 팀은 Microsoft 관리된 인프라 및 플랫폼만을 공격합니다. 레드 팀은 최종 고객 데이터 또는 응용 프로그램을 공격하는 것이 아니라 Microsoft가 소유하고 작동시키는 테넌트, 응용 프로그램 및 클라우드의 데이터를 공격합니다.

그럼에도 불구하고 레드 팀은 엄격한 준수 사항을 지킵니다. 레드 팀의 준수 사항에서 다섯 가지(5) 기본 가이드 원칙은 다음과 같습니다.

1.  의도적으로 고객 SLA(서비스 수준 계약)에 영향 또는 가동 중지 시간을 일으키지 않습니다.

2.  의도적으로 고객 데이터에 액세스하거나 수정하지 않습니다.

3.  의도적으로 삭제 작업을 수행하지 않습니다.

4.  내부 보안 보호를 약화시키지 않습니다.

5.  레드 팀 내에서 취약점 및 기타 중요한 정보를 보호하고 알아야 하는 정보만을 공유합니다.

또한 Azure 및 O365 레드 팀은 ROE(업무 규칙)라는 문서화된 집합을 따라야 하며 이는 준수 사항을 충족하도록 개발되었습니다. 이러한 업무 규칙은 Microsoft의 리더십에 의해 승인되었습니다.

다양한 보안 메트릭은 각 레드 팀이 해당 보안 위험을 수행할 경우 추적하기 위해 중요합니다.

-   MTTC(손상된 평균 시간)

-   MTTP(권한 상승 평균 시간 또는 "Pwnage")

손상된 평균 시간은 레드 팀이 자산을 성공적으로 손상시키는 때를 기점으로 시작을 측정합니다. 이 단계에서 레드 팀은 일반적으로 대상 환경에서 초기 발판을 마련합니다. 일부 악의적 사용자가 "Pwnage"라고 부르는 권한 상승 평균 시간은 전체 손상을 실행하는 시작 시간입니다. 예를 들어, Active Directory 기반 환경에서 이것이 레드 팀이 도메인 관리자 권한을 획득하고/하거나 도메인 컨트롤러를 침해하는 시간입니다.

대부분의 조직에서는 이 수준의 위반을 처리할 준비가 되지 않기 때문에 사람들은 MTTP를 "게임 끝"이라고 생각할 수 있습니다. 그러나 "게임 끝" 시나리오는 레드 팀에서 보여주는 유일한 목표 또는 시나리오가 아니라는 점을 기억합니다. 레드 팀 보안 위험 목표는 데이터 도난, 테넌트 수준 손상 또는 서비스 거부 등을 포함할 수 있습니다. 또한 MTTC 및 MTTP 메트릭은 연습 당으로 계산될 수 있고 대상 자산 또는 추가 세분성에 대한 자산 형식 당으로 계산될 수도 있습니다.

Microsoft 레드 팀의 역할은 대상의 보안 컨트롤의 차이를 식별하는 것입니다. MTTC 및 MTTP를 추적하면 Microsoft이 지속적으로 개선될 초기 계획을 결정할 수 있습니다. 레드 팀은 보안 모니터링 및 복구 간격을 강조 표시하면서 보안 약점을 악용하여 인시던트 대응 도구 및 프로세스를 향상시킵니다(나중에 자세히 설명). 무엇보다도 레드 팀은 손상을 통해 입증 가능한 영향을 주며 이는 보안 위험 가정에 대한 필요성을 입증합니다. 결과적으로, 레드 팀은 비즈니스 위험을 열거하고 방어 리소스, 우선 순위 및 투자 요구를 정당화합니다.

#### 블루 팀 

블루 팀은 보안 인시던트 대응, 엔지니어링 및 운영 조직에서 보안 응답자 및 멤버만의 집합으로 구성됩니다. 해당 구축에 관계 없이 독립적이고 레드 팀과 개별적으로 움직입니다. 블루 팀은 설정된 보안 처리를 따르고 최신 기술과 도구를 사용하여 공격 및 침입을 탐지하고 대응합니다.

실제 공격과 마찬가지로 블루 팀은 레드 팀의 공격 발생 시기 또는 방법이나 사용될 방법에 대해 알지 못합니다. 해당 작업은 레드 팀의 공격이든 진짜 공격이든 모든 보안 인시던트를 탐지하고 대응하는 것입니다. 이러한 이유로 블루 팀은 연중무휴로 대기하며 다른 악의적 사용자에 대한 것과 같은 방식으로 레드 팀 보안 위험에 반응해야 합니다.

레드 팀처럼 악의적 사용자가 환경을 위반하는 경우 블루 팀은 다음을 수행해야 합니다.

-   악의적 사용자가 남긴 증거 수집

-   손상의 표시로 증거 검색

-   적절한 엔지니어링 및 작업 팀 경고

-   경고를 심사하여 세부적인 조사 여부 결정

-   환경에서 컨텍스트를 수집하여 위반 범위 지정

-   수정 계획을 만들어 악의적 사용자 포함 또는 제거

-   수정 계획 실행 및 보안 위험 복구

이 단계에서는 그림 4에서처럼 악의적 사용자에 병렬로 실행하는 보안 인시던트 응답 kill 체인을 형성합니다.

![보안 위험 대응 단계](./media/azure-security-enterprise-cloud-red-teaming/azure-security-enterprise-cloud-red-teaming-fig5.png)

*그림 4. 보안 위험 대응 단계*

간단히 말해 레드 팀 보안 위험을 사용하면 실제 공격 종단 간을 탐지하고 대응하는 블루 팀의 기능을 연습하도록 허용합니다. 무엇보다도 (훨씬 덜 협조적인 악의적 사용자의) 진짜 보안 위험에 앞서 보안 인시던트 대응을 연습할 수 있습니다. 그리고 레드 팀 보안 위험의 결과로 블루 팀은 향후 보안 위험(레드 팀이든 다른 악의적 사용자이든 관계 없이)를 처리할 때 중요할 수 있는 해당 상황 인식을 강화합니다.

탐지 및 대응 프로세스 전체에서 블루 팀은 실행 가능한 인텔리전스를 생성하고 보호하려는 환경의 실제 조건에 대한 가시성을 얻게 됩니다. 이는 레드 팀 공격에 응답할 때 손상 표시기와 같은 위협 표시기를 설정하여 자주 블루 팀에서 수행한 데이터 분석 및 포렌식스를 통해 수행됩니다.

레드 팀이 보안 내역의 간격을 식별하는 방법처럼 블루 팀은 탐지하고 대응할 수 있는 능력의 차이를 식별합니다. 또한 레드 팀이 실제 공격을 모델화하므로 블루 팀은 해당 기능 또는 작동하지 않는 기능을 정확하게 평가하여 결정적이고 영구적인 악의적 사용자를 처리할 수 있습니다.

마지막으로, 레드 팀 보안 위험은 조직의 보안 위험 응답의 준비 상태와 영향을 측정합니다.

블루 팀에서 일반적으로 계산되는 메트릭은 다음과 같습니다.

- ETTD(검색에 예상된 시간)

- ETTR(복구에 예상된 시간)

"예상된 횟수"인 이유는 보안 위험 중에 감지가 발생한 경우/시기에 관계 없이 레드 팀이 손상에 성공했다는 것을 블루 팀이 100% 확신할 수 없기 때문입니다. 마찬가지로, 블루 팀은 빨간색 팀을 성공적으로 제거하고 보안 위험에서 완전히 복구되었는지를 완전히 확신할 수 없습니다. 빨간색 팀이 존재한 증거가 부족한 점이 악의적 사용자 제거 및 보안 위험 복구의 증거는 아닙니다. 이것이 보안 인시던트 대응을 그렇게 힘들게 만드는 이유입니다. 최종적인 퍼즐 그림의 모양 및 완성된 그림에 누락된 퍼즐 조각을 모르는 채로 한 번에 하나씩 퍼즐을 결합하는 것과 비슷합니다.

전반적인 위협 환경에 대한 인식의 증가와 작업 환경 내에서 실제 조건에 대한 가시성 증가로 블루 팀은 보안 인시던트 대응 연습 및 절차를 확장하여 보안 위험을 다루기 위한 대비를 향상시킬 수 있습니다.


#### 레드와 블루 

기존의 침투 테스트와 달리 레드 팀 보안 위험은 고유의 "전운"을 포함하여 실제 위협을 시뮬레이션하도록 노력합니다[7]. 즉, 블루 팀은 레드 팀이 수행하는 것을 모르고 레드 팀은 블루 팀이 작업하는 것을 모릅니다. 레드 팀이 자산을 손상할 때 인식하지 못한 상태로 보안 경고 또는 인시던트를 발생시킬 수 있습니다.

반대로, 레드 팀은 의도적으로 또는 주의를 분산시키기 위해 경고를 트리거하여 모니터링 가정을 확인하고 유효성을 검사합니다. 마찬가지로, 연습하는 동안 레드 팀은 암호 재설정과 같은 응답 작업, 손상된 자산이 복구되고 지속성 메커니즘이 제거되거나 환경 전체 제거(하지만 마지막은 거의 일어날 수 없음)를 관찰할 수 있습니다.

이러한 측면에서 레드 팀 보안 위험은 감지 및 복구의 영향을 관찰할 수 있습니다. 그러나 감지 및 복구 모두 레드 팀 또는 블루 팀에서 정확하게 평가할 수 없습니다. MTTD(감지한 평균 시간)와 MTTR(대응한 평균 시간)은 모두 연습의 끝에서 레드 팀 및 블루 팀 간의 완전한 공개가 일어날 때 계산될 수 있습니다. 탐지 및 대응 전체에 영향을 주려면 레드 팀은 다음과 같이 해야 합니다.

- 조직이 직면한(또는 직면할) 악의적 사용자에 대한 인텔리전스에 루트된 광범위한 TTP 에뮬레이션

- 탐지 및 응답을 연습하고 유효성을 검사할 kill 체인에서 TTP 사용

- 기술 숙련도 및 운영 숙련도 모두 사용

- 탐지 및 대응이 결정적이고 영구적인 악의적 사용자에 대처하기 위해 충분한지 확인하는 반복 활용

연습에서 블루 팀의 시작 및 참여를 포함하기 위해 레드 팀은 의도적으로 탐지 및 대응을 트리거할 수 있습니다. 이 문제는 일반적으로 레드 팀이 모든 기본 목표를 달성하고 블루 팀 활동을 관찰하지 않을 때 발생합니다.

탐지 및 대응을 트리거하는 한 가지 예는 의도적으로 DC(도메인 컨트롤러)와 같은 자산에 맬웨어 방지 검색을 일으켜 EICAR 테스트 파일을 사용하여 경고하는 것입니다[8]. 특히 DC와 같은 중요한 자산에 대한 예기치 않은 보안 경고가 발생하면 블루 팀 응답 프로시저를 활성화해야 합니다. 보안 인시던트를 만들면 종단 간 보안 위험이 손상에서 응답으로 실행되도록 합니다. 블루 팀이 참여하지 않으면 보안 위험 응답은 완전히 실행되지 않을 수 있습니다.

블루 팀은 실제 공격자 또는 내부 레드 팀에서 인시던트를 트리거하는지 (처음부터) 알지 못합니다. 가능하면 언제든지 적어도 레드 팀에 대한 특성을 설정하고 확인할 수 있을 때까지 블루 팀은 보안 인시던트를 실제 인시던트로 처리해야 합니다. 실제 보안 위험 시뮬레이션의 이 방법은 실제 방어 수단을 구축하기 위한 가장 좋은 방법입니다.


#### 레드 팀 보안 위험 사후 평가 

각 레드 팀 보안 위험이 끝날 때 레드 팀 및 블루 팀은 모두 보안 위험 및 보안 위험 대응을 평가하는 사후 평가를 위해 모입니다. 이 단계에서 두 팀은 자세한 설명을 제공하면서 배운 전략 및 경험을 공유합니다. 레드 팀은 블루 팀이 완전히 또는 부분적으로 레드 팀을 제거하는 데 성공했는지 여부 및 보안 위험에서 복구가 완료되었는지 여부와 상관 없이 레드 팀이 환경을 위반한 시기 및 방법과 손상하고 제어한 자산에 대한 모든 세부 정보를 제공합니다.

또한 블루 팀은 레드 팀을 감지(했다면)한 시기와 방법 및 손상된 것으로 식별된 자산, 발견된 레드 팀 지속성 메커니즘의 종류 및 레드 팀을 제거하고 보안 위험에서 복구하기 위해 수행한 대응 단계에 대한 모든 세부 정보를 제공합니다. 레드 팀의 가장 고유하고 중요한 요소 중 하나는 레드 팀이 탐지 및 대응에서 성공(또는 결핍)한 피드백 뿐만 아니라 해당 보안 위험의 자세한 내용을 제공할 수 있는 유일한 악의적 사용자라는 점입니다. 메모를 비교하는 레드 팀과 블루 팀 모두에 대한 기능은 모든 탐지 및 대응 간격을 식별하기 위해 중요합니다.

사후 평가 중에 완전한 공개가 일어나면 진짜 MTTD(감지한 평균 시간) 및 MTTR(복구한 평균 시간) 메트릭을 계산할 수 있습니다. 예를 들어 실제 MTTD를 계산하기 위해 레드 팀 MTTC 및 블루 팀 ETTD 간의 차이를 비교합니다. 이러한 탐지 및 대응 메트릭은 인시던트가 발생한 동안 및 이후 연습의 일부로 식별된 보안 탐지 및 복구 간격과 관련된 비즈니스 위험을 열거하는 데 유용합니다.

사후 평가의 나머지는 거의 레드 팀 및 블루 팀이 보호, 탐지 및 대응을 향상시키는 취약점 및 투자 요구를 식별하기 위한 공동 작업으로 소요됩니다. 각 레드 팀 보안 위험으로 레드 팀 및 블루 팀 모두는 향후 공격에 대해 강화하고 악의적 사용자를 늦추며 감지 및 복구를 가속하는 데 필요한 보안 투자를 식별합니다. 즉, MTTC가 증가하고 MTTD 및 MTTR은 감소합니다.

사후 평가 중 마지막 단계는 레드 팀 및 블루 팀이 자세하게 작성된 보고서를 제공하는 것입니다. 이러한 보고서에는 탐지 및 대응을 개선하는 데 필요한 취약점, 결과 및 투자의 자세한 목록 뿐만 아니라 레드 팀 및 블루 팀 보안 위험 타임 라인, 연습의 비즈니스 영향 요약이 포함됩니다.

### 보안 원칙 

빨간색 팀의 주요 이점은 보안 전문가 및 윤리적 해킹 리소스의 통합입니다. 다른 전문가와 함께 엔지니어 및 운영 담당자는 전문적인 영역을 갖지만 여기에 공격 및 침입 기술을 포함하지 않을 수 있습니다. Microsoft에서 엔지니어 및 연산자는 SDL/OSA 및 CEC(공통 엔지니어링 기준)에서 전문가급 지식을 갖지만 빨간색 팀은 작업하기에 번거로울 수 있는 프로덕션 환경의 외부적인 제한에서 테스트 작업을 수행해야 합니다.

라이브 사이트 공격 중에 최신 위협 요소를 이해하고 통신하며 활용하는 데 유일하게 집중는 빨간색 팀에 투자하여 Microsoft는 반응 능력을 지속적으로 테스트하고 개선하며 주요 보안 원칙을 따르려고 노력합니다.

- **정적 공격 시나리오**에서 보안 전략을 고정하거나 악의적 사용자가 **하나의 고정된 위치**에서 제공된다는 가정에 저항합니다

- **보완 보안 제어의 레이어** 활용; 효과는 누적되며 방어를 향상시킵니다

- 보안 제어의 **수 및 분포**는 개별 효율성보다 더 중요합니다

- 공격을 **방지**하는 대신 **지연하고 응답**하려고 합니다

## 요약 

회사에서는 업계에서 끊임없이 손상된 상태에 살고 있다는 가혹한 현실을 대면해야 합니다. 많은 수의 회사가 보안 위험을 경험한다는 점을 인식하지 못한다는 사실 때문에 악화됩니다. 오늘날의 위협 환경은 내부자 위협을 비롯하여 공격에 대한 노출을 줄여야 합니다. 대부분의 명령형 변경은 조직이 위반에서 검색 및 복구하는 평균 시간을 상당히 줄이도록 요구합니다.

이 백서에서는 조직이 보안 간격을 해결하는 데 보다 신속할 필요성을 강조 표시합니다. 보안 위험 가정 보안 전략을 통해 Microsoft는 끊임없이 보안에 대한 광범위하고 심층적인 투자를 계속합니다. 모든 조직은 새롭게 진화하는 위협을 처리하기 위한 비슷한 보안 전략을 채택하여 이점을 얻을 수 있습니다.

Microsoft는 손상에 대해 모의 훈련 및 활성화된 레드 팀으로 공격 및 침입을 시뮬레이션하고 사전에 계획하여 보안 인시던트를 관리하는 기능을 개발합니다. 빨간색 팀은 보안의 간격을 노풀하고 라이브 취약점을 악용하며 보안 위험 가정이 필요한 구체적인 증거를 제공하여 이론적 시나리오를 실제화시킵니다.

파란색 팀은 공격이 발생하는 경우 탐지하고 대응하는 어려운 기능을 연습합니다. 레드 팀과 블루 팀 보안 위험 연습을 수행하여 보안 조직은 키 공격 벡터에 집중하고 대책을 개발하며 결정적이고 영구적인 악의적 사용자에 대비하는 데 필요한 중요한 응답 매커니즘을 만들 수 있습니다.

빨간색 팀은 Microsoft의 인프라, 플랫폼 및 서비스를 개발하고 보호하는 가장 중요한 부분 중 하나가 되었습니다. Microsoft Azure 및 Office 365 빨간색 팀은 정교한 악의적 사용자를 가장하고 이를 사용하여 Microsoft가 보안의 유효성을 검사하고 강화하며 방어를 강화하고 엔터프라이즈 클라우드 보안 프로그램을 효과적으로 만들 수 있습니다.

일반적인 라이브 사이트 공격 및 침입을 통해 레드 팀 보안 위험은 실제 공격의 준비 상태와 영향을 정확하게 측정할 수 있을 뿐만 아니라 보안 인시던트 대응을 연습하는 중요한 수단을 제공합니다. 고객은 Microsoft가 보다 안전한 클라우드 서비스를 위해 노력하는 과정에서 보호, 탐지 및 대응을 계속 향상시킬 것임을 확신할 수 있습니다.

## 참조 및 추가 참고 자료 

기본 텍스트에서 참조하는 특정 항목 뿐만 아니라 Microsoft Azure 및 Office 365 서비스에 대한 보다 일반적인 정보를 제공하는 데 다음 리소스를 사용할 수 있습니다.

- [Microsoft Azure 홈](http://azure.microsoft.com) – Microsoft Azure에 대한 일반 정보 및 링크

- [Microsoft Office 홈](http://products.office.com) – Microsoft Office에 대한 일반 정보 및 링크

- [Microsoft Azure 보안 센터](https://www.microsoft.com/TrustCenter/CloudServices/Azure)

- [Microsoft Office 365 보안 센터](https://www.microsoft.com/TrustCenter/CloudServices/Office-365)

- [Microsoft 보안 응답 센터](http://www.microsoft.com/security/msrc/default.aspx)

- Microsoft Azure 또는 Office 365는 ] o [**http://www.microsoft.com/security/msrc/default.aspx*](http://www.microsoft.com/security/msrc/default.aspx)[ ](http://www.microsoft.com/security/msrc/default.aspx) 또는 전자 메일을 통해 **secure@microsoft.com*에 보고될 수 있습니다.

- [Microsoft Azure 및 보안에 대한 Mark Russinovich와의 인터뷰 - 침투 테스트에 대해 업데이트](http://blogs.technet.com/b/matthewms/archive/2013/07/02/an-interview-with-mark-russinovich-on-windows-azure-amp-security-update-on-penetration-testing.aspx)

- [레드와 블루 - Microsoft Azure 및 O365의 내부 보안 침투 테스트](http://azure.microsoft.com/documentation/videos/red-vs-blue-internal-security-penetration-testing-of-microsoft-azure/)



## 부록 

### 레드 팀 및 침투 테스트 간의 차이점 

표준 침투 테스트 기술은 일반적인 도구를 사용하여 악용을 시도하지만 알 수 있는 악의적 사용자의 전체 기능을 활용하지 않습니다.

기존의 침투 테스트는 시간 내에 지점을 나타내고 실제 악의적 사용자가 수행하는 방식으로 환경 및 인시던트 대응에 부담을 주지 않고 종료합니다. 레드 팀이 진행 중 이며 테스트가 완료되더라도 중지하지 않습니다. 레드 팀은 다른 침투 테스트 방법론이 종종 누락된 것을 찾아냅니다(아래 테이블1에 요약).

**기존 침투 테스트 레드 팀**

| | 기존 침투 테스트 | 레드 팀 |
|---------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **지속성** | 환경이 성공적으로 손상된 경우 중지합니다 | 지속성 메커니즘을 설정하여 액세스 유지 관리 및 보안 위험 복구 완성도를 평가합니다 |
| **도구** | 이 시점에서 사용할 수 있는 기능만 사용하고 다음 테스트 사이클에 참여할 때까지 대기해야 합니다 | 지속적으로 새로운 악용 및 취약점을 연구하고 발견되는 즉시 새로운 도구로 공격을 구현합니다 |
| **보안 위험 이후 작업** | "하얀 모자"(들어오려고 시도하고 들어온 경우 일반적으로 더 이상 다른 동작을 하지는 않음) | 보안 위험을 활용하여 추가 공격을 시작하기 위한 중요한 데이터를 탈취하고 악용합니다 |
| **탈출 및 피하기** | 정적 테스트는 검색을 피하려 하지 않고 발견되면 중지됩니다. | 탐지를 피하려는 동적 테스트 |
| **알 수 있는 악의적 사용자** | 우선 적용될 것으로 알려진 보안 시스템에 부담을 주려는 경향이 있는 경우(IT 시스템의 완전한 지식이 있기 때문에) 제대로 배포되거나 알려진 악용을 사용하는지 테스트합니다 | 취약점을 찾기 위해 배포된 *및* 배포되지 않은 항목을 확인하는 프로브는 내부 지식 및 사용자 지정 도구를 사용하여 사용자 지정되고 이전에 알려지지 않은 악용의 개발을 포함하는 시스템을 공격합니다 |
| **라이브 사이트** | 거의 전체 프로덕션 시스템을 공격한 적이 없고 테스트 배포 이전 시스템에 가장 일반적으로 사용됩니다. | 프로덕션 시스템을 공격하고 스택의 모든 계층을 공격합니다. |
| **사용해야 하는 이유** | 환경에 대한 가정을 만들어 이동할 지시가 없는 위치를 테스트하지 않을 수 있습니다. | 가정하지 않으므로 모든 위치를 손상시키려고 합니다. 필요한 경우 전략을 피벗하고 변경합니다. |
| **결과** | 수행한 테스트 및 결과 보여줍니다(성공 / 실패) | MTTC, MTTP, MTTD 및 MTTR를 측정하고 정확하게 평가합니다. 환경을 위반하는 시기 및 방법, 손상된 자산과 성공한 탐지 및 대응의 여부에 대한 자세한 근거를 제공합니다. |


**테이블 1: 기존 침투 테스트 및 레드 팀 간의 차이점 요약**


##프로덕션을 공격하는 이유 

테스트 및 사전 프로덕션은 예외없이 프로덕션과 일치합니다. 배포 중의 변경 사항, 지속적인 서비스 작업 및 프로덕션 고객의 사용하는 차이는 모두 상태의 다양성에 기여합니다. 프로덕션이 예상된 부하, 허용 가능한 가동 중지 시간 뿐만 아니라 보안, 규정 준수, 계약 및 규정 요구 사항에 대해 서로 다른 요구 사항에 직면하는 만큼 이 다양성은 존재할 이유가 있습니다.

레드 팀은 실험실에서 가상 워크로드로 개발/테스트 환경을 공격하거나 모의 개체로 실제 구성 요소를 공격하는 대신 라이브 사이트 침투 테스트를 통해 실제 시스템을 대상으로 합니다. 레드 팀이 기존의 보안 전략과 다른 주요 방법 중 하나는 실제 서버, 실제 테넌트 및 실제 데이터를 사용한다는 점입니다. 프로덕션의 라이브 사이트 침투 테스트는 훨씬 더 신뢰할 수 있고 보안 위험과 연결된 고객 및 비즈니스 영향을 정확하게 측정합니다.

라이브 사이트 침투 프로덕션은 추가적인 혜택을 제공합니다. 탐지 및 대응의 방어 기능을 평가판에 넣습니다. 실제 공격은 프로덕션 배포 보호, 탐지 및 대응 기능의 강도(또는 결핍)를 테스트합니다. 이러한 투자를 강제하여 프로덕션이 공격을 받고, 현재 손상된 상태에 있을 수 있다는 사실을 받아들이고 대상이 지정된 공격 및 영구적인 악의적 사용자를 다루기 위해 정기적인 연습 메서드에 보안 인시던트 응답에 대한 강제 함수를 나타냅니다.

##레드 팀 실행 

보안 위험 가정을 채택하기 위해 고유한 레드 팀 리소스에 투자가 필요하지 않습니다. 인프라 및 응용 프로그램 보안 테스트와 배포에 대한 접근 방식을 변경하여 많은 이점을 실현할 수 있습니다. 예를 들어, 초기 손상을 넘어 데이터 보안 위험이 있을 수 있다고 이해한 경우 보안 위험의 경우에서 정보 및 중요한 자산을 보호하기 위해 보호를 디자인하도록 도울 수 있습니다.

그러나 Red Teaming은 보안 조치 및 프로세스의 정확성을 테스트하고 현재 환경을 인식시키며 엔지니어, 작업, 보안 응답자 및 새로운 위협 요소를 인식하는 관리를 유지하는 효과적인 방법입니다. 투자 우선 순위를 결정하려면 다음을 고려합니다.

-   ** 보안 위험 방지 vs. 보안 위험 가정** 하나는 다른 하나를 대체하지 않습니다. 보안 위험 방지는 공격으로부터 방어하는 보안 기능의 중요한 구현입니다. 보안 위험 가정은 해당하는 보호를 넘어서 보안 위험 전후 동안 탐지 및 대응을 설명합니다.

-   **중요한 항목 식별**은 보안 위험 가정을 사용하여 투자의 우선 순위를 지정합니다. 비즈니스에 가장 중요한 데이터란? 해당 데이터는 어디에 저장되나요? 비즈니스 실행에 가장 중요한 자산이란?

-   **관련 연습 식별**은 사용자 환경에 적용할 수 있는 보안 위험 추세 및 공격자 TTP에 따라 우선 순위를 지정합니다.

-   특히 관리자 수준에서 **구입**하고 법적 승인을 확인합니다. 또한 회사 내에서 다양한 작업 그룹/부서를 알고 있어야 하고 수행하려는 작업을 수락해야 합니다. 이전에 공격받지 않았던 작업에 대한 공격을 시작하면 의도하지 않은 서비스 중단 및 고객 만족 문제를 일으킬 수 있습니다.


레드 팀을 수행하기 위한 계획을 작성하면 작업을 보호해야 합니다.

-   **직원** — 보안 위험 가정의 양쪽 모두(레드 팀 및 블루 팀)에 적절한 전문가 리소스를 사용했는지 확인합니다. 블루 팀은 레드 팀 보안 위반을 비롯하여 모든 보안 인시던트를 실제 인시던트로 처리해야 합니다. 레드 팀 중에 생성되고 손상된 지적 속성의 보안을 포함하여 정규 리소스와 아웃소싱의 장단점을 고려합니다. 타사 공급 업체와 함께 하는 경우 *해당 범위*, 신뢰성 및 평판을 확인합니다.

-   **화면** — 필요한 기술을 가진 팀 멤버 외에도 신뢰할 수 있어야 합니다. 자세한 배경을 확인하는 것을 포함하여 철저하게 잠재적인 직원을 연구합니다.

-   **학습** — 정규 직원을 고용하는 경우 표준 윤리, 보안, 개인 정보 보호 및 규정 준수 사례와 비즈니스 또는 업계의 고유한 요구 사항이 있는 교육을 받아야 합니다(외부 기관은 정규 교육 활동을 보장하기 위해 인증받아야 함).

-   **감사** — 레드 팀의 활동은 연습 이전 및 동안에 제대로 모니터링, 기록 및 감사되는 것이 중요합니다. '감옥 탈출 카드'의 역할을 하기 때문에 레드 팀은 연습의 결과가 아닌 손상에 대해 책임이 있습니다. 레드 팀이 엄격한 준수 사항을 따르고 업무 규칙을 준수하도록 도울 수 있습니다. 또한 이러한 로그 및 감사 레코드는 자세한 보고서 이후 연습을 제공할 뿐만 아니라 MTTC, MTTD 및 MTTR을 계산하는 데 중요합니다.

-   **운영 보안** — 레드 팀 멤버가 TTP, 도구, 보안 결과, 보고서, 악용, 백도어 및 기타 자산에 관련하여 엄격한 작업 보안을 실행하는 것이 중요합니다. 공격자가 레드 팀의 자산에 대한 액세스를 얻게 되면 심각한 영향을 미치는 알려진 취약점에 대한 공격을 신속하게 재구성하고 재생합니다.

##추가 정보

엔터프라이즈 규모 침투 테스트는 조직 내의 여러 당사자가 관여해야합니다. 이 문서에서 절차 지침을 다루기 때문에 보안 위험에 대한 환경, 시스템 및 프로세스를 평가하는 담당자를 위해 작성되었습니다. 여기에 제공된 세부 정보는 Microsoft Azure 및 Office 365에 대한 보안 팀이 레드 팀 및 라이브 사이트 침투 테스트를 수행하는 방법의 개요이며 고객이 Microsoft의 클라우드 인프라, 플랫폼 또는 서비스를 공격하는 방법에 대한 지침은 없습니다.

Microsoft가 일반 침투 테스트를 수행하여 클라우드 보안 제어 및 프로세스를 개선하는 동안 보안 평가 또한 고객의 응용 프로그램 개발 및 배포 작업의 중요한 부분임을 이해합니다. 이를 위해 고객이 Microsoft Azure에서 호스팅되는 것과 같은 해당 응용 프로그램에서 인증된 침투 테스트를 수행할 수 있는 정책을 수립했습니다.

이러한 테스트를 실제 공격과 구분하기가 쉽지 않기 때문에 Microsoft Azure 고객 지원의 사전 승인을 받은 후 침투 테스트를 수행해야 합니다. 고객 침투 테스트는 Microsoft의 약관에 따라 수행해야 합니다. 적어도 7일 전에 침투 테스트에 대한 요청을 제출해야 합니다. 자세한 내용은 [Microsoft 보안 센터]를 참조하세요https://www.microsoft.com/TrustCenter/CloudServices/Azure).

## 참조

[1] JIT(Just-in-Time) 액세스 및 권한 상승 – 필요에 따라 필요한 만큼 필요한 시간에 부여된 권한 상승입니다. 액세스 권한을 부여하기 전에 하나 이상의 승인을 요구하여 구현됩니다.

[2] JEA(Just Enough Administration) – 특정 사용자가 관리자 권한을 지정하지 않고 이러한 사용자가 수행하는 모든 작업을 감사하지 않은 채 관리 작업을 수행할 수 있도록 하여 시스템을 보호하도록 설계된 솔루션입니다. 자세한 내용은 [TechNet 갤러리에서 Just Enough Administration 문서](https://gallery.technet.microsoft.com/Just-Enough-Administration-6b5ad370)를 참조하세요.

[3] 보안 위험의 컨텍스트에서 MTTD는 보안 위험을 감지하는 데 걸리는 시간을 나타냅니다.

[4] MTTR은 감지된 보안 위험에서 복구하는 데 걸리는 시간을 나타냅니다.

[5] Microsoft Azure 및 Office 365 직원 모두는 상시 레드 팀 및 블루 팀을 구분합니다.

[6] 자세한 내용은 Lockheed Martin의 ["악의적 사용자 캠페인 및 침입 Kill 체인의 분석으로 알려진 인텔리전스가 이끄는 컴퓨터 네트워크 방어"](http://www.lockheedmartin.com/content/dam/lockheed/data/corporate/documents/LM-White-Paper-Intel-Driven-Defense.pdf)를 참조하세요.

[7] 전운 – 고유한 기능, 악의적 사용자 기능 및 악의적 사용자 의도와 관련한 참가자가 경험한 상황 인식의 불확실성을 설명하는 데 사용합니다.

[8] EICAR 테스트 파일 – EICAR 표준 바이러스 백신 테스트 파일이라고도 하며 EICAR(컴퓨터 바이러스 백신 연구) 및 CARO(컴퓨터 바이러스 백신 연구 조직)에서 개발된 컴퓨터 파일로 맬웨어 방지 프로그램의 응답을 테스트합니다. 실제로 손상을 줄 수 있는 실제 악성 프로그램을 사용하는 대신 이 테스트 파일을 사용하면 실제 컴퓨터 바이러스를 사용하지 않고 맬웨어 방지 소프트웨어를 테스트할 수 있습니다.


*(c) 2014 Microsoft Corporation. All rights reserved. 이 문서는 "있는 그대로" 제공됩니다. URL 및 기타 인터넷 웹 사이트 참조를 포함하여 본 문서에 명시된 정보 및 보기는 통지 없이 변경될 수 있습니다. 이를 사용하여 발생하는 위험은 사용자의 책임입니다. 일부 예는 설명 목적으로만 제공되는 가상의 예이이며, 실제 연관성을 의도하지도 함시하지도 않습니다. 이 문서는 Microsoft 제품의 지적 소유권에 대한 법적 권한을 사용자에게 제공하지 않습니다. 이 문서는 내부 참조용으로만 복사 및 사용할 수 있습니다.*

<!---HONumber=AcomDC_0218_2016-->