---
title: 원격 데스크톱 프로토콜 대역폭 요구 사항 Windows 가상 데스크톱-Azure
titleSuffix: Azure
description: Windows 가상 데스크톱에 대 한 RDP 대역폭 요구 사항을 이해 합니다.
author: gundarev
ms.topic: conceptual
ms.date: 11/16/2020
ms.author: denisgun
ms.openlocfilehash: c9ef72241ac62efd8555de59bb52949321364035
ms.sourcegitcommit: 4295037553d1e407edeb719a3699f0567ebf4293
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/30/2020
ms.locfileid: "96325182"
---
# <a name="remote-desktop-protocol-rdp-bandwidth-requirements"></a>RDP (원격 데스크톱 프로토콜) 대역폭 요구 사항

RDP (원격 데스크톱 프로토콜)는 다양 한 기술을 사용 하 여 클라이언트 장치에 대 한 서버의 원격 그래픽 배달을 완벽 하 게 지 원하는 정교한 기술입니다. RDP는 사용 사례, 컴퓨팅 리소스의 가용성 및 네트워크 대역폭에 따라 최적의 사용자 환경을 제공 하기 위해 다양 한 매개 변수를 동적으로 조정 합니다.

여러 DVCs (동적 가상 채널)를 여러 네트워크 전송에서 전송 되는 단일 데이터 채널로 다중 송신 원격 데스크톱 프로토콜 합니다. 원격 그래픽, 입력, 장치 리디렉션, 인쇄 및 기타에 대 한 별도의 DVCs가 있습니다. WVD 파트너는 DVC 인터페이스를 사용 하는 확장을 구현할 수도 있습니다.
RDP를 통해 전송 되는 데이터의 양은 사용자 활동에 따라 달라 집니다. 예를 들어, 사용자는 대부분의 세션에 대 한 기본 텍스트 콘텐츠를 사용 하 여 작업 하 고 최소 대역폭을 사용할 수 있지만 200 페이지의 문서를 로컬 프린터에 생성 합니다. 이 인쇄 작업에는 상당한 양의 네트워크 대역폭이 사용 됩니다.

원격 세션을 사용 하는 경우 네트워크의 사용 가능한 대역폭이 사용자 환경의 품질에 크게 영향을 줍니다. 응용 프로그램 및 디스플레이 해상도 마다 다른 네트워크 구성이 필요 하므로 네트워크 구성이 사용자의 요구를 충족 하는지 확인 하는 것이 중요 합니다.

## <a name="estimating-bandwidth-utilization"></a>대역폭 사용률 예측

RDP는 다양 한 형식의 데이터에 대해 다양 한 압축 알고리즘을 사용 합니다. 다음 표에서는 데이터 전송의 예측을 안내 합니다.

| 데이터의 형식 | 방향 | 예측 방법 |
|---|---|---|
| 원격 그래픽 | 세션 호스트-클라이언트 | [자세한 지침을 참조 하세요.](#estimating-bandwidth-used-by-remote-graphics) |
| 간에 | 양방향 | 5 초 마다 ~ 20 바이트  |
| 입력 | 클라이언트에서 세션 호스트로 | 데이터의 양은 대부분의 작업에 대해 100 바이트 미만의 사용자 활동을 기반으로 합니다.  |
| 파일 전송 | 양방향 | 파일 전송에서 대량 압축을 사용 하 고 있습니다. 근사값에 .zip 압축 사용 |
| 인쇄 | 세션 호스트-클라이언트 | 인쇄 작업 전송은 드라이버에 따라 다르며 대량 압축을 사용 하 여 근사값에 .zip 압축을 사용 합니다. |

다음과 같은 다른 시나리오의 대역폭 요구 사항은 사용하는 방법에 따라 달라질 수 있습니다.

* 음성 또는 화상 회의
* 실시간 통신
* 4K 비디오 스트리밍

## <a name="estimating-bandwidth-used-by-remote-graphics"></a>원격 그래픽에서 사용 되는 대역폭 예측

원격 데스크톱에서 대역폭 사용량을 예측 하는 것이 매우 어렵습니다. 사용자 작업은 대부분의 원격 데스크톱 트래픽을 생성 합니다. 모든 사용자는 고유 하며 작업 패턴의 차이로 인해 네트워크 사용이 크게 변경 될 수 있습니다.

대역폭 요구 사항을 이해 하는 가장 좋은 방법은 실제 사용자 연결을 모니터링 하는 것입니다. 모니터링은 기본 제공 성능 카운터 또는 네트워크 장비에서 수행할 수 있습니다.

그러나 대부분의 경우 원격 데스크톱 프로토콜 작동 방식을 이해 하 고 사용자의 작업 패턴을 분석 하 여 네트워크 사용률을 예상할 수 있습니다.

원격 프로토콜은 원격 서버에서 생성 된 그래픽을 로컬 모니터에 표시 하기 위해 제공 합니다. 구체적으로 말하면 서버에 완전히 구성 된 데스크톱 비트맵을 제공 합니다.
데스크톱 비트맵을 보내는 작업은 첫 번째 방법으로 간단한 작업 처럼 보이지만 상당한 양의 리소스가 필요 합니다. 예를 들어 압축 되지 않은 형식의 1080p desktop 이미지는 크기가 8Mb입니다. 화면 주사율이 30 Hz 인 로컬 연결 된 모니터에이 이미지를 표시 하려면 약 237 m b/초 대역폭이 필요 합니다.

네트워크를 통해 전송 되는 데이터의 양을 줄이기 위해 RDP는 다음을 비롯 하 여 여러 기술의 조합을 사용 합니다.

* 프레임 속도로 최적화
* 화면 콘텐츠 분류
* 콘텐츠 관련 코덱
* 프로그레시브 이미지 인코딩
* 클라이언트 쪽 캐싱

원격 그래픽을 보다 잘 이해 하려면 다음을 고려 하십시오.

* 그래픽이 더 풍부 하 고 더 많은 대역폭이 사용 됩니다.
  * 텍스트, 창 UI 요소 및 단색 영역은 다른 항목 보다 더 작은 대역폭을 사용 합니다.
  * 자연 이미지는 대역폭을 사용 하는 가장 중요 한 참가자입니다. 그러나 클라이언트 쪽 캐싱은 감소 하는 데 도움이 됩니다.
* 변경 된 화면 부분만 전송 됩니다. 화면에 표시 되는 업데이트가 없으면 업데이트가 전송 되지 않습니다.
* 비디오 재생 및 기타 높은 프레임 레이트 콘텐츠는 기본적으로 이미지 슬라이드쇼입니다. RDP는 적절 한 비디오 코덱을 동적으로 사용 하 여 원래 프레임에 가까운 속도로 제공 합니다. 그러나 여전히 그래픽 이며 대역폭 사용률에 대 한 가장 중요 한 참가자입니다.
* 원격 데스크톱의 유휴 시간은 화면 업데이트 안 함 또는 최소를 의미 합니다. 따라서 유휴 시간 동안 네트워크 사용이 최소화 됩니다.
* 원격 데스크톱 클라이언트 창이 최소화 되 면 세션 호스트에서 그래픽 업데이트가 전송 되지 않습니다.

네트워크에 가해지는 스트레스는 앱 워크로드의 출력 프레임 속도와 디스플레이 해상도에 따라 달라집니다. 프레임 속도 또는 디스플레이 해상도가 증가하면 대역폭 요구 사항도 증가합니다. 예를 들어 고해상도 디스플레이가 있는 경량 워크로드에는 사용 가능한 대역폭이 일반 해상도 또는 저해상도인 경량 워크로드보다 더 많이 필요합니다. 다른 디스플레이 해상도를 사용하려면 다른 사용 가능한 대역폭이 필요합니다.

아래 표에서는 다양 한 그래픽 시나리오에서 사용 하는 데이터를 예측 하는 방법을 안내 합니다. 이러한 숫자는 1920 x 1080 resolution을 사용 하 고 기본 그래픽 모드와 h.264/AVC 444 그래픽 모드를 모두 사용 하는 단일 모니터 구성에 적용 됩니다.

| 시나리오 | 기본 모드 | H.264/AVC 444 모드 | 미리 보기 | 시나리오에 대 한 설명 |
|:---|---:|---:|---|---|
| 유휴 상태 | 0.3 Kbps | 0.3 Kbps |:::image type="content" source="media/idle.png" alt-text="유휴 연결의 스크린샷":::| 사용자가 작업을 일시 중지 하 고 활성 화면 업데이트가 없음 |
| Microsoft Word | 100-150 Kbps | 200-300 Kbps |:::image type="content" source="media/word.gif" alt-text="Microsoft Word의 애니메이션":::| 사용자가 적극적으로 Microsoft Word를 사용 하 여 작업 하 고 있습니다. |
| Microsoft Excel | 150-200 Kbps | 400-500 Kbps |:::image type="content" source="media/excel.gif" alt-text="Microsoft Excel 애니메이션":::| 사용자가 Microsoft Excel에서 적극적으로 작업 중입니다. 수식과 차트가 있는 여러 셀이 동시에 업데이트 됩니다. |
| Microsoft PowerPoint | 4-4.5 Mbps | 1.6-1.8 Mbps |:::image type="content" source="media/powerpoint.gif" alt-text="Microsoft PowerPoint 애니메이션":::| 사용자가 적극적으로 Microsoft PowerPoint를 사용 하 여 작업 하 고 있습니다. 사용자는 또한 서식 있는 그래픽을 수정 하 고 슬라이드 전환 효과를 사용 합니다. |
| 웹 검색 | 6-6.5 Mbps | 0.9-1 Mbps |:::image type="content" source="media/web.gif" alt-text="웹 검색 애니메이션":::| 사용자가 현재 여러 정적 및 애니메이션 이미지를 포함 하는 그래픽 리치 웹 사이트로 작업 하 고 있습니다. 사용자가 가로 및 세로로 페이지를 스크롤합니다. |
| 이미지 갤러리 | 3.3-3.6 Mbps | 고 ~ 0.8 Mbps |:::image type="content" source="media/image-gallery.gif" alt-text="이미지 갤러리 애니메이션":::| 사용자가 이미지 갤러리 응용 프로그램에서 적극적으로 작업 하 고 있습니다. 이미지 찾아보기, 확대/축소, 크기 조정 및 회전 |
| 비디오 재생 | 8.5-9.5 Mbps | 2.5-2.8 Mbps |:::image type="content" source="media/video.gif" alt-text="비디오 재생 애니메이션":::| 사용자가 화면 1/2를 사용 하는 30FPS 비디오를 시청 하 고 있습니다. |
| 전체 화면 비디오 재생 | 7.5-8.5 Mbps | 2.5-3.1 Mbps |:::image type="content" source="media/fullscreen-video.gif" alt-text="전체 화면 비디오 재생 애니메이션":::| 사용자가 전체 화면에 최대화 된 30FPS 비디오를 시청 하 고 있습니다. |

## <a name="dynamic-bandwidth-allocation"></a>동적 대역폭 할당

원격 데스크톱 프로토콜는 변화 하는 네트워크 조건을 동적으로 조정 하도록 설계 된 최신 프로토콜입니다.
대역폭 사용률에 대 한 하드 한도를 사용 하는 대신 RDP는 사용 가능한 네트워크 대역폭과 패킷 라운드트립 시간을 적극적으로 모니터링 하는 지속적인 네트워크 검색을 사용 합니다. 결과에 따라 RDP는 동적으로 그래픽 인코딩 옵션을 선택 하 고 장치 리디렉션 및 기타 가상 채널에 대 한 대역폭을 할당 합니다.  
이 기술을 통해 RDP는 사용 가능한 경우 전체 네트워크 파이프를 사용 하 고 네트워크를 다른 작업에 필요한 경우 신속 하 게 다시 사용할 수 있습니다.
RDP는이를 감지 하 고 다른 응용 프로그램이 네트워크를 요청 하는 경우 이미지 품질, 프레임 요금 또는 압축 알고리즘을 조정 합니다.

## <a name="limit-network-bandwidth-use-with-throttle-rate"></a>스로틀 속도로 네트워크 대역폭 사용 제한

대부분의 시나리오에서는 제한으로 사용자 환경에 영향을 줄 수 있으므로 대역폭 사용률을 제한할 필요가 없습니다. 제한 된 네트워크에는 네트워크 사용률을 제한 하는 것이 좋습니다. 또 다른 예로는 사용 되는 트래픽 양에 대해 청구 되는 임대 된 네트워크가 있습니다.

이러한 경우 QoS 정책에서 스로틀 률을 지정 하 여 RDP 아웃 바운드 네트워크 트래픽을 제한할 수 있습니다.

  >[!NOTE]
  > [RDP Shortpath가 사용 하도록 설정 되어 있는지 확인](./shortpath.md) 합니다. 역방향 연결 전송에 대해 스로틀 률 제한이 지원 되지 않습니다.

### <a name="implement-throttle-rate-limiting-on-session-host-using-group-policy"></a>그룹 정책를 사용 하 여 세션 호스트에서 스로틀 률 제한 구현

그룹 정책 내에서 정책 기반 QoS (서비스 품질)를 사용 하 여 미리 정의 된 스로틀 률을 설정할 수 있습니다.

도메인에 가입 된 세션 호스트에 대 한 QoS 정책을 만들려면 먼저 그룹 정책 관리가 설치 된 컴퓨터에 로그인 합니다. 그룹 정책 관리 (시작을 선택 하 고 관리 도구를 가리킨 다음 그룹 정책 관리를 선택)를 열고 다음 단계를 완료 합니다.

1. 그룹 정책 관리에서 새 정책을 만들어야 하는 컨테이너를 찾습니다. 예를 들어 모든 세션이 컴퓨터를 호스트 하는 OU 라는 이름의 OU에 있는 **경우 세션 호스트** ou에 새 정책을 만들어야 합니다.

2. 적절 한 컨테이너를 마우스 오른쪽 단추로 클릭 하 고 **이 도메인에서 GPO를 만들어 여기에 연결을** 선택 합니다.

3. **새 GPO** 대화 상자의 **이름** 상자에 새 그룹 정책 개체의 이름을 입력 하 고 **확인** 을 선택 합니다.

4. 새로 만든 정책을 마우스 오른쪽 단추로 클릭 한 다음 **편집** 을 선택 합니다.

5. 그룹 정책 관리 편집기에서 **컴퓨터 구성**, **Windows 설정** 을 차례로 확장 하 고 **정책 기반 QoS** 를 마우스 오른쪽 단추로 클릭 한 다음 **새 정책 만들기** 를 선택 합니다.

6. **정책 기반 QoS** 대화 상자의 열기 페이지에서 **이름** 상자에 새 정책의 이름을 입력 합니다. **아웃 바운드 스로틀 주기 지정** 을 선택 하 고 필요한 값을 설정한 후 **다음** 을 선택 합니다.

7. 다음 페이지에서 **이 실행 파일 이름이 있는 응용 프로그램만** 을 선택 하 고 **svchost.exe** 이름을 입력 한 후 **다음** 을 선택 합니다. 이 설정은 원격 데스크톱 서비스와 일치 하는 트래픽의 우선 순위를 지정 하도록 정책에 지시 합니다.

8. 세 번째 페이지에서 **원본 ip 주소** 와 **대상 ip 주소가** 모두 선택 되어 있는지 확인 합니다. **다음** 을 선택합니다. 이러한 두 설정은 패킷을 전송 하는 컴퓨터 (IP 주소)와 패킷 수신 컴퓨터 (IP 주소)에 관계 없이 패킷이 관리 되는지 확인 합니다.

9. 4 페이지의 **이 QoS 정책이 적용 되는 프로토콜 선택** 드롭다운 목록에서 **UDP** 를 선택 합니다.

10. **원본 포트 번호 지정** 제목 아래에서 **이 원본 포트 또는 범위를** 선택 합니다. 해당 텍스트 상자에 **3390** 을 입력 합니다. **마침** 을 선택합니다.

사용자가 만든 새 정책은 세션 호스트 컴퓨터에서 그룹 정책 새로 고쳐질 때까지 적용 되지 않습니다. 그룹 정책 정기적으로 새로 고칠 수 있지만 다음 단계를 수행 하 여 즉시 새로 고침을 강제로 수행할 수 있습니다.

1. 그룹 정책를 새로 고칠 각 세션 호스트에서 관리자 권한 (*관리자 권한으로 실행*)으로 명령 프롬프트를 엽니다.

2. 명령 프롬프트에서 다음을 입력 합니다.

   ```console
   gpupdate /force
   ```

### <a name="implement-throttle-rate-limiting-on-session-host-using-powershell"></a>PowerShell을 사용 하 여 세션 호스트에서 스로틀 률 제한 구현

아래 PowerShell cmdlet을 사용 하 여 RDP Shortpath의 스로틀 주기를 설정할 수 있습니다.

```powershell
New-NetQosPolicy -Name "RDP Shortpath" -AppPathNameMatchCondition "svchost.exe" -IPProtocolMatchCondition UDP -IPSrcPortStartMatchCondition 3390 -IPSrcPortEndMatchCondition 3390 -DSCPAction 46 -NetworkProfile All
```

## <a name="next-steps"></a>다음 단계

* Windows 가상 데스크톱의 대역폭 요구 사항에 대 한 자세한 내용은 [Windows 가상 데스크톱에 대 한 RDP (원격 데스크톱 프로토콜) 대역폭 요구 사항 이해](rdp-bandwidth.md)를 참조 하세요.
* Windows 가상 데스크톱 네트워크 연결에 대 한 자세한 내용은 [Windows 가상 데스크톱 네트워크 연결 이해](network-connectivity.md)를 참조 하세요.
* Windows 가상 데스크톱의 QoS (서비스 품질)를 시작 하려면 [Windows 가상 데스크톱에 대 한 qos (서비스 품질) 구현](rdp-quality-of-service-qos.md)을 참조 하세요.
