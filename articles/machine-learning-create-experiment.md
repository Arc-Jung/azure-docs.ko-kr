<properties title="Create a simple experiment in Azure Machine Learning Studio" pageTitle="기계 학습 스튜디오에서 간단한 실험 만들기 | Azure" description="Azure 기계 학습 스튜디오에서 간단한 모델을 교육하고 테스트하는 실험을 만드는 방법" metaKeywords="" services="machine-learning" solutions="" documentationCenter="" authors="garye" manager="paulettm" editor="cgronlun"  videoId="" scriptId="" />

<tags ms.service="machine-learning" ms.workload="data-services" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="08/22/2014" ms.author="garye" />

#Azure 기계 학습 스튜디오에서 간단한 실험 만들기 
 
예측 분석 실험은 핵심적으로 *모델 만들기*, *모델 학습* 및 *모델 점수 매기기 및 테스트*를 위한 구성 요소로 구성됩니다. 이 요소를 결합하여 데이터를 가져오고 이 데이터에 대해 모델을 학습시키고 새 데이터에 모델을 적용하는 실험을 만들 수 있습니다. 데이터 전처리 모듈을 추가하고, 특성을 선택하고, 학습 및 테스트 집합으로 데이터를 분할하고, 모델 품질을 평가하거나 교차 검사할 수도 있습니다.  

이 문서에서는 Microsoft Azure 기계 학습 스튜디오를 사용하여 간단한 예측 분석 실험을 개발하고 반복하겠습니다.

##실험 만들기 5단계 

 기계 학습 스튜디오에서 실험을 빌드하기 위해 따르는 5가지 기본 단계를 통해 모델을 만들고 훈련하고 점수를 매길 수 있습니다.  

- 모델 만들기 
	- [1단계: 데이터 가져오기]
	- [2단계: 데이터 전처리]
	- [3단계: 특성 정의]
- 모델 훈련 
	- [4단계: 학습 알고리즘 선택 및 적용]
- 모델 점수 매기기 및 테스트 
	- [5단계: 새 데이터에 따른 예측] 

[1단계: 데이터 가져오기]: #step-1-get-data
[2단계: 데이터 전처리]: #step-2-pre-process-data
[3단계: 기능 정의]: #step-3-define-features
[4단계: 학습 알고리즘 선택 및 적용]: #step-4-choose-and-apply-a-learning-algorithm
[5단계: 새 데이터에 따른 예측]: #step-5-predict-over-new-data 

이 예제에서는 샘플 자동차 데이터를 사용하여 회귀 모델을 만드는 과정을 안내합니다. 목표는 생산 및 기술 사양과 같은 다양한 변수를 사용하여 자동차의 가격을 예측하는 것입니다. 

### 1단계: 데이터 가져오기

다수의 샘플 데이터 집합이 기계 학습 스튜디오에 포함되어 있으며, 다양한 원본에서 데이터를 가져올 수 있습니다. 이 예제에서는 자동차 가격 데이터를 나타내는 포함된 샘플 데이터 집합 **Automobile price data (Raw)**를 사용합니다.

1. 기계 학습 스튜디오 창의 아래쪽에 있는 **+새로 만들기**를 클릭하고 **실험**을 선택하여 새 실험을 시작합니다. 실험 이름을 "제목 없음"에서 "자동차 가격 예측"과 같은 의미 있는 이름으로 바꿉니다.

2. 실험 캔버스 왼쪽에는 데이터 집합과 모듈의 팔레트가 있습니다. 이 팔레트 맨 위에 있는 검색 상자에 "automobile"을 입력하여 레이블이 **Automobile price data (Raw)**인 데이터 집합을 찾습니다. 

	![Palette search][screen1a]

3. 실험 캔버스에 데이터 집합을 끌어 놓습니다. 

	![Dataset][screen1]

이 데이터의 모양을 확인하려면 자동차 데이터 집합 아래에서 출력 포트를 두 번 클릭하고 **시각화**를 선택합니다. 데이터 집합에서 변수는 열로 나타나고, 각 자동차 인스턴스는 행으로 나타납니다. 맨 오른쪽 열인 "price"(26열)가 예측할 대상 변수입니다. 

![Dataset visualization][screen1b]

오른쪽 위 모서리에서 "**x**"를 클릭하여 시각화 창을 닫습니다.

### 2단계: 데이터 전처리

데이터 집합은 일반적으로 전처리를 거쳐야 분석할 수 있습니다. 누락된 값이 여러 행의 열에 나타나는 것을 확인했을 수 있습니다. 데이터를 분석하려면 이런 누락 값을 정리해야 합니다. 지금은 누락된 값이 있는 행만 제거하겠습니다. 또한 "normalized-losses" 열에 값이 누락된 비율이 매우 크며, 여기서는 해당 열을 모델에서 완전히 제외하겠습니다. 

>**팁** - 입력 데이터에서 누락 값을 정리하는 것은 대부분의 모듈을 사용하기 위한 필수 조건입니다. 

먼저 "normalized-losses" 열을 제거한 다음 누락된 데이터가 있는 행을 제거하겠습니다. 

1. **프로젝트 열** 모듈을 실험 캔버스로 끌어 놓고 **Automobile price data (Raw)** 데이터 집합의 출력 포트와 연결합니다. 이 모듈을 사용하면 모델에서 포함하거나 제외할 데이터 열을 선택할 수 있습니다. 

2. **프로젝트 열** 모듈을 선택하고 속성 창에서 **열 선택기 시작**을 클릭합니다. 

	- 필터 드롭다운 **시작 문자**에서 **모든 열**을 선택합니다. 그러면 모든 열을 전달하는 **프로젝트 열**로 리디렉션됩니다(제외할 열은 예외임). 
	- 다음 행에서 **제외** 및 **열 이름**을 선택한 후 텍스트 상자 내부를 클릭합니다. 열 목록이 표시됩니다. "normalized-losses"를 선택하면 텍스트 상자에 추가됩니다. 
	- 확인 표시 **확인** 단추를 클릭하여 열 선택기를 닫습니다.

    ![Select columns][screen3]
	
	**프로젝트 열**의 속성 창에 "normalized-losses"를 제외하고 데이터 집합의 모든 열이 전달된다는 것이 나타납니다. 

    ![Project Columns properties][screen4]

    >**팁** - 모듈을 두 번 클릭하고 텍스트를 입력하여 모듈에 주석을 추가할 수 있습니다. 그러면 모듈이 실험에서 수행하는 내용을 한눈에 볼 수 있습니다. 이 경우 **프로젝트 열** 모듈을 두 번 클릭하고 주석 "Exclude normalized-losses"를 입력합니다. 

3. **누락 값 스크러버** 모듈을 실험 캔버스로 끌어 놓고 **프로젝트 열** 모듈과 연결합니다. 속성 창에서 **누락 값** 아래의 **전체 행 제거**를 선택하여 누락 값이 있는 행을 제거하는 방법으로 데이터를 정리합니다.  모듈을 두 번 클릭하고 주석 "Remove missing value rows"를 입력합니다.

	![Missing Values Scrubber properties][screen4a]

4. 실험 캔버스 아래에서 **실행**을 클릭하여 실험을 실행합니다.

실험이 완료되면 모든 모듈에 성공적으로 완료되었음을 나타내는 녹색 확인 표시가 표시됩니다. 오른쪽 위 모서리에서 "실행 완료" 상태도 확인됩니다.

![First experiment run][screen5]

이 시점까지 완료된 모든 실험은 데이터를 정리합니다. 정리된 데이터 집합에서 **누락 값 스크러버** 모듈의 출력 포트를 두 번 클릭하고 **시각화**를 선택합니다. "normalized-losses" 열이 더 이상 포함되지 않으며, 누락된 값이 없습니다.

데이터가 정리되었으며, 이제 예측 모델에서 사용할 특성을 지정할 수 있습니다.

### 3단계: 특성 정의

기계 학습에서 *특성*은 관심 있는 부분에 대한 측정 가능한 개별 속성입니다. 여기서는 데이터 집합의 각 행이 하나의 자동차를 나타내고 각 열은 이 자동차의 특성입니다. 예측 모델을 만들기에 적절한 특성 집합을 찾으려면 해당 문제에 대한 실험과 지식이 있어야 합니다. 일부 특성은 다른 특성에 비해 대상 예측에 더 유용합니다. 또한 일부 특성은 다른 특성과 강력한 상관관계를 가지기도 합니다(예: city-mpg와 highway-mpg). 이런 경우 해당 특성은 모델에 많은 새 정보를 추가하지 않으며 제거할 수 있습니다.

데이터 집합에서 특성 하위 집합을 사용하는 모델을 빌드하겠습니다. 다시 돌아와서 다양한 특성을 선택하고 실험을 다시 실행하여 더 나은 결과가 나오는지 확인할 수 있습니다. 첫 번째 추측으로서, **프로젝트 열** 모듈을 사용하여 다음 특성(열)을 선택합니다. 모델 학습을 위해서는 예측하려는 *가격* 값을 포함해야 합니다.

	make, body-style, wheel-base, engine-size, horsepower, peak-rpm, highway-mpg, price

1. 다른 **프로젝트 열** 모듈을 실험 캔버스로 끌어 놓고 **누락 값 스크러버** 모듈과 연결합니다. 모듈을 두 번 클릭하고 "Select features for prediction"을 입력합니다.

2. 속성 창에서 **열 선택기 시작**을 클릭합니다. 

3. 열 선택기에서 **시작 문자**로 **열 없음**을 선택한 후 필터 행에서 **포함** 및 **열 이름**을 선택합니다. 열 이름 목록을 입력합니다. 그러면 지정한 열만 전달하는 모듈로 리디렉션됩니다.

	>**팁** - 이 시점까지 실험을 실행했기 때문에 원본 데이터 집합에서 가져온 데이터에 대한 열 정의가 **누락 값 스크러버** 모듈을 통해 전달되었습니다. **프로젝트 열**을 **누락 값 스크러버**에 연결하면 **프로젝트 열** 모듈이 데이터의 열 정의를 인식하게 됩니다. 열 이름 상자를 클릭하면 열 목록이 표시되고, 목록에 추가하려는 열을 한 번에 선택할 수 있습니다. 

4. **확인**을 클릭합니다.

![Select columns][screen6]

그러면 다음 단계의 학습 알고리즘에서 사용될 데이터 집합이 생성됩니다. 나중에 돌아와서 다른 선택 특성을 사용하여 다시 시도할 수 있습니다. 

### 4단계: 학습 알고리즘 선택 및 적용

데이터가 준비되었으며, 예측 모델 생성은 학습과 테스트로 구성됩니다. *분류*와 *회귀*가 관리 기계 학습 기술의 두 형식입니다. 분류는 색(빨강, 파랑 또는 녹색)과 같이 정의된 값 집합에서 예측하는 데 사용됩니다. 회귀는 사람의 나이와 같이 연속된 값 집합에서 예측하는 데 사용됩니다.

임의의 값일 수 있는 자동차 가격을 예측하려고 하므로 회귀 모델을 사용하겠습니다. 이 예제에서는 간단한 *선형 회귀* 모델을 학습하고 다음 단계에서 이를 테스트합니다. 

1. 학습 및 테스트 집합으로 데이터를 분할합니다. **분할** 모듈을 선택하여 실험 캔버스로 끌어 놓고 마지막 **프로젝트 열** 모듈의 출력과 연결합니다. **첫 번째 출력 데이터 집합의 행 분수**를 0.75로 설정합니다. 그러면 데이터의 75%를 모델 학습에 사용하고 25%는 테스트용으로 보유합니다.

	>**팁** - **임의 초기값** 매개 변수를 변경하면 훈련 및 테스트용으로 서로 다른 무작위 샘플을 생성할 수 있습니다. 이 매개 변수는 난수 발생기의 시드를 제어합니다.
	
2. 실험을 실행합니다. 그러면 **프로젝트 열** 및 **분할** 모듈이 다음에 추가할 모듈에 열 정의를 전달할 수 있습니다.  

2. 학습 알고리즘을 선택하려면 캔버스 왼쪽의 모듈 팔레트에서 **기계 학습** 범주를 확장한 후 **모델 초기화**를 확장합니다. 학습 알고리즘을 초기화하는 데 사용할 수 있는 몇 가지 범주의 모듈이 표시됩니다. 

	이 예제 학습에서는 **회귀** 범주 아래에 있는 **선형 회귀** 모듈을 선택하여(팔레트 검색 상자에 "선형 회귀"를 입력하여 모듈을 찾을 수도 있음) 실험 캔버스로 끌어 놓습니다.

3. **모델 학습** 모듈을 찾아 실험으로 끌어 놓습니다. **열 선택기 시작**을 클릭하고 *price* 열을 선택합니다. 모델이 예측할 값입니다.

	![Select "price" column][screen7]

4. 왼쪽 입력 포트를 **선형 회귀** 모듈의 출력에 연결하고 오른쪽 출력 포트를 **분할** 모듈의 학습 데이터 출력(왼쪽 포트)에 연결합니다.  

5. 실험을 실행합니다. 

결과는 새 샘플의 점수를 매기고 예측하는 데 사용할 수 있는 훈련된 회귀 모델입니다. 

![Applying the learning algorithm][screen8]

### 5단계: 새 데이터에 따른 예측 

모델을 훈련했으며, 이제 모델을 사용하여 나머지 25% 데이터의 점수를 매기고 모델 기능이 얼마나 좋은지 확인할 수 있습니다. 

1. **모델 점수 매기기** 모듈을 찾아 실험 캔버스로 끌어 놓고 왼쪽 입력 포트를 **모델 학습** 모듈의 출력에 연결하고 오른쪽 입력 포트를 **분할** 모듈의 테스트 데이터 출력(오른쪽 포트)에 연결합니다.  

	![Score Model module][screen8a]

2. 실험을 실행하고 **모델 점수 매기기** 모듈의 출력을 봅니다(출력 포트를 두 번 클릭하고 **시각화** 선택). 출력에 테스트 데이터에서 가져온 알려진 값과 함께 가격 예측 값이 표시됩니다.  

3. 마지막으로, 결과 품질을 테스트하기 위해 **모델 평가** 모듈을 선택하여 실험 캔버스로 끌어 놓고 왼쪽 입력 포트를 **모델 점수 매기기** 모듈의 출력에 연결합니다(**모델 평가** 모듈을 사용하여 두 모델을 비교할 수 있기 때문에 두 개의 입력 포트가 있음).
 
4. 실험을 실행하고 **모델 평가** 모듈의 출력을 봅니다(출력 포트를 두 번 클릭하고 **시각화** 선택). 모델에 대한 다음 통계가 표시됩니다.

MAE(	- **절대 평균 오차**) - 절대 평균 오차입니다(*오류*는 예측 값과 실제 값 사이의 차이).
RMSE(	- **제곱 평균 오차**) - 테스트 데이터 집합에 대해 예측한 평균 제곱 오차의 제곱근입니다.
	- **상대 절대 오차** - 실제 값과 모든 실제 값 평균 사이의 절대값 차에 대해 상대적인 절대 오차의 평균입니다.
	- **상대 제곱 오차** - 실제 값과 모든 실제 값 평균 사이의 제곱 차에 대해 상대적인 평균 제곱 오차입니다.
	- **결정 계수** - "R 제곱 값"이라고도 하며, 모델이 데이터에 얼마나 적합한지 나타내는 통계 메트릭입니다.
	
	각 오차 통계에서 오차가 작을수록 더 좋습니다. 값이 작으면 예측이 실제 값에 더 가까이 일치한다는 것을 나타냅니다. **결정 계수**의 경우 값이 1(1.0)에 가까울수록 더 잘 예측한 것입니다.

	![Evaluation results][screen9]

최종 실험은 다음과 같습니다.

![Complete experiment][screen10]

### 다음 작업

실험을 설정했으며, 이제 반복을 통해 모델을 향상할 수 있습니다. 예를 들어 예측에 사용하는 특성을 변경할 수 있습니다. 또는 **선형 회귀** 알고리즘의 속성을 수정하거나 다른 알고리즘을 시도해 볼 수 있습니다. 한 번에 여러 개의 알고리즘을 실험에 추가하고 **모델 평가** 모듈을 사용하여 비교할(한 번에 두 개) 수도 있습니다. 

>**팁** - 실험 반복의 복사본을 만들려면 실험 캔버스 아래에 있는 **다른 이름으로 저장** 단추를 사용하세요. 캔버스 아래에서 **실행 기록 보기**를 클릭하여 실험의 모든 반복을 볼 수 있습니다. 자세한 내용은 기계 학습 스튜디오 도움말 항목 **실행 기록 보기**를 참조하세요.

모델이 마음에 들면 모델을 새 데이터를 사용한 자동차 가격 예측에 사용할 웹 서비스로 게시할 수 있습니다. 자세한 내용은 기계 학습 스튜디오 도움말 항목 **실험 게시**를 참조하세요.

예측 모델 만들기, 학습, 점수 매기기 및 게시에 대한 더 자세한 포괄적인 연습을 보려면 [연습: Azure 기계 학습으로 예측 솔루션 개발](http://azure.microsoft.com/ko-kr/documentation/articles/machine-learning-walkthrough-develop-predictive-solution/)을 참조하세요. 


<!-- Images -->
[screen1]:./media/machine-learning-create-experiment/screen1.png
[screen1a]:./media/machine-learning-create-experiment/screen1a.png
[screen1b]:./media/machine-learning-create-experiment/screen1b.png
[screen2]:./media/machine-learning-create-experiment/screen2.png
[screen3]:./media/machine-learning-create-experiment/screen3.png
[screen4]:./media/machine-learning-create-experiment/screen4.png
[screen4a]:./media/machine-learning-create-experiment/screen4a.png
[screen5]:./media/machine-learning-create-experiment/screen5.png
[screen6]:./media/machine-learning-create-experiment/screen6.png
[screen7]:./media/machine-learning-create-experiment/screen7.png
[screen8]:./media/machine-learning-create-experiment/screen8.png
[screen8a]:./media/machine-learning-create-experiment/screen8a.png
[screen9]:./media/machine-learning-create-experiment/screen9.png
[screen10]:./media/machine-learning-create-experiment/screen10.png
