<properties 
	pageTitle="가상 컴퓨터의 가용성 관리 - Azure" 
	description="여러 가상 컴퓨터를 사용하여 Azure 응용 프로그램의 고가용성을 유지하는 방법에 대해 알아봅니다." 
	services="virtual-machines" 
	documentationCenter="" 
	authors="kenazk" 
	manager="timlt" 
	editor="tysonn"/>

<tags 
	ms.service="virtual-machines" 
	ms.workload="infrastructure-services" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="11/26/2014" 
	ms.author="kenazk"/>

#가상 컴퓨터의 가용성 관리

## 계획된 유지 관리 및 계획되지 않은 유지 관리 이해
가상 컴퓨터의 가용성에 영향을 줄 수 있는 두 가지 유형의 Azure 플랫폼 이벤트인 계획된 유지 관리와 계획되지 않은 유지 관리가 있습니다.

- **계획된 유지 관리 이벤트**는 가상 컴퓨터가 실행 중인 플랫폼 인프라의 전체적인 안정성, 성능 및 보안을 향상시키기 위해 Microsoft가 기본 Azure 플랫폼에 적용하는 주기적인 업데이트입니다. 이러한 업데이트 중 대다수는 가상 컴퓨터나 클라우드 서비스에 영향을 미치지 않고 수행됩니다. 하지만 필요한 업데이트를 플랫폼 인프라에 적용하기 위해 이러한 업데이트가 가상 컴퓨터의 재부팅을 필요로 할 때가 있습니다. 

- **계획되지 않은 유지 관리 이벤트**는 가상 컴퓨터의 기반이 되는 하드웨어 또는 물리적 인프라에 어떠한 식으로든지 오류가 있을 때 발생합니다. 여기에는 로컬 네트워크 오류, 로컬 디스크 오류 또는 기타 랙 수준의 오류가 포함될 수도 있습니다. 이러한 오류가 감지될 때 Azure 플랫폼은 가상 컴퓨터를 호스트 중인 비정상 물리적 컴퓨터에서 정상 물리적 컴퓨터로 가상 컴퓨터를 자동으로 마이그레이션합니다. 이러한 이벤트는 흔치 않지만 가상 컴퓨터가 재부팅되도록 할 수도 있습니다. 

## 응용 프로그램을 설계할 때 고가용성을 위한 모범 사례 준수
이러한 이벤트로 인한 가동 중지 시간의 영향을 줄이기 위해 가상 컴퓨터에 다음과 같은 고가용성 모범 사례를 권장합니다.

* [중복성을 위해 가용성 집합에서 여러 가상 컴퓨터 구성] 
* [각 응용 프로그램 계층을 별도의 가용성 집합으로 구성] 
* [부하 분산 장치를 가용성 집합과 결합] 
* [가용성 집합에서 단일 인스턴스 가상 컴퓨터 방지] 

### 중복성을 위해 가용성 집합에서 여러 가상 컴퓨터 구성 
응용 프로그램에 중복성을 제공하기 위해 여러 개의 가상 컴퓨터를 가용성 집합으로 그룹화하는 것이 좋습니다. 이 구성은 계획된 유지 관리 또는 계획되지 않은 유지 관리 이벤트 중에 적어도 하나의 가상 컴퓨터를 사용할 수 있고 99.95% Azure SLA가 충족되도록 합니다. 서비스 수준 계약에 대한 자세한 정보는 [서비스 수준 계약](../../../support/legal/sla/)의 "클라우드 서비스, 가상 컴퓨터 및 가상 네트워크" 섹션을 참조하세요. 

기본 Azure 플랫폼에서는 가용성 집합의 각 가상 컴퓨터를 UD(업데이트 도메인) 및 FD(장애 도메인)에 할당합니다. 특정 가용성 집합에 대해 사용자가 구성할 수 없는 다섯 개의 UD가 할당되어 동시에 재부팅할 수 있는 가상 컴퓨터 그룹 및 기본 물리적 하드웨어를 나타냅니다. 단일 가용성 집합 안에 5개가 넘는 가상 컴퓨터가 구성되어 있을 때는 6번째 가상 컴퓨터가 동일한 UD에 첫 번째 가상 컴퓨터로 배치되고, 7번째 가상 컴퓨터가 동일한 UD에 두 번째 가상 컴퓨터로 배치되는 식입니다. 재부팅되는 UD의 순서는 계획된 유지 관리 중에 순차적으로 처리될 수 없으며, 한 번에 한 UD만 재부팅됩니다.

FD는 공통 전원과 네트워크 스위치를 공유하는 가상 컴퓨터 그룹을 정의합니다. 기본적으로 가용성 집합 안에 구성된 가상 컴퓨터는 두 개의 FD로 분리되어 있습니다. 가상 컴퓨터를 가용성 집합에 배치한다고 해서 응용 프로그램이 운영 체제 또는 응용 프로그램 고유의 오류로부터 보호되는 것은 아닙니다. 잠재적인 물리적 하드웨어 오류, 네트워크 중단, 전력 차단의 영향이 제한될 뿐입니다.   

<!--Image reference-->
   ![UD FD configuration](./media/virtual-machines-manage-availability/ud-fd-configuration.png)

>[AZURE.NOTE] 관련 지침은 [가상 컴퓨터의 가용성 집합을 구성하는 방법][]을 참조하세요.

### 각 응용 프로그램 계층을 별도의 가용성 집합으로 구성
가용성 그룹에 있는 가상 컴퓨터가 모두 거의 동일하고 응용 프로그램에 대해 같은 목적으로 사용될 경우에는 응용 프로그램의 각 계층에 대해 가용성 집합을 구성하는 것이 좋습니다.  같은 가용성 집합에 두 가지 계층을 배치하면 같은 응용 프로그램 계층에 있는 모든 가상 컴퓨터가 동시에 재부팅될 수 있습니다. 각 계층에 대해 최소 두 개의 가상 컴퓨터를 가용성 집합 안에 구성하면 각 계층에서 최소한 하나의 가상 컴퓨터는 사용할 수 있습니다.   

예를 들어 단일 가용성 집합에서 IIS, Apache, Nginx 등을 실행하는 응용 프로그램의 프런트 엔드에 모든 VM을 배치할 수 있습니다. 프런트 엔드 가상 컴퓨터만 같은 가용성 집합에 배치해야 합니다. 마찬가지로, 복제된 SQL Server VM 또는 MySQL VM 같은 데이터 계층 가상 컴퓨터만 자체적인 가용성 집합에 배치해야 합니다.

<!--Image reference-->
   ![Application tiers](./media/virtual-machines-manage-availability/application-tiers.png)

 
### 부하 분산 장치를 가용성 집합과 결합
Azure 부하 분산 장치를 가용성 집합과 결합하여 응용 프로그램 복원력을 극대화하세요. Azure 부하 분산 장치는 트래픽을 여러 가상 컴퓨터에 분산시킵니다. 표준 계층 가상 컴퓨터의 경우 Azure 부하 분산 장치가 포함되어 있습니다. 모든 가상 컴퓨터에 Azure 부하 분산 장치가 포함되어 있는 것은 아닙니다. 가상 컴퓨터 부하 분산에 대한 자세한 내용은 [가상 컴퓨터 부하 분산](load-balance-virtual-machines.md)을 참조하세요. 

부하 분산 장치가 트래픽을 여러 가상 컴퓨터에 분산시키도록 구성되지 않은 경우에는 계획된 유지 관리 이벤트가 트래픽 처리 가상 컴퓨터에만 영향을 줌으로써 응용 프로그램 계층에 중단을 일으킬 수 있습니다. 같은 계층의 여러 가상 컴퓨터를 같은 부하 분산 장치와 가용성 집합 아래에 배치하면 언제든지 적어도 하나의 인스턴스에서는 트래픽을 계속 처리할 수 있습니다. 

### 가용성 집합에서 단일 인스턴스 가상 컴퓨터 방지
가용성 집합 안에 단일 인스턴스 가상 컴퓨터를 홀로 두지 않도록 하세요. 이러한 구성의 가상 컴퓨터는 SLA 보증에 맞지 않으며 Azure 계획된 유지 관리 이벤트 중에 가동 중지를 겪게 됩니다.  더구나 가용성 집합 안에 단일 VM 인스턴스를 배포하면 플랫폼 유지 관리에 대한 사전 경고나 알림을 받지 못합니다. 이 구성에서는 플랫폼 유지 관리가 발생할 때 단일 가상 컴퓨터 인스턴스가 사전 경고 없이 재부팅됩니다.

[중복성을 위해 가용성 집합에서 여러 가상 컴퓨터 구성]: #configure-multiple-virtual-machines-in-an-availability-set-for-redundancy 
[각 응용 프로그램 계층을 별도의 가용성 집합으로 구성]: #configure-each-application-tier-into-separate-availability-sets 
[부하 분산 장치를 가용성 집합과 결합]: #combine-the-load-balancer-with-availability-sets 
[가용성 집합에서 단일 인스턴스 가상 컴퓨터 방지]: #avoid-single-instance-virtual-machines-in-availability-sets 

 
<!-- Link references -->
[가상 컴퓨터의 가용성 집합을 구성하는 방법]: ../virtual-machines-how-to-configure-availability



<!--HONumber=47-->
