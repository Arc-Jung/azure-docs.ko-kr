---
title: Azure 센티널 엔터티에 데이터 필드 매핑 | Microsoft Docs
description: 더 나은 인시던트 정보를 위해 테이블의 데이터 필드를 분석 규칙의 Azure 센티널 엔터티에 매핑
services: sentinel
documentationcenter: na
author: yelevin
manager: rkarlin
editor: ''
ms.service: azure-sentinel
ms.subservice: azure-sentinel
ms.devlang: na
ms.topic: how-to
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 02/10/2021
ms.author: yelevin
ms.openlocfilehash: cb91d269f6b166510db54637d17d776e71137408
ms.sourcegitcommit: 6386854467e74d0745c281cc53621af3bb201920
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/08/2021
ms.locfileid: "102456294"
---
# <a name="map-data-fields-to-entities-in-azure-sentinel"></a>Azure 센티널의 엔터티에 데이터 필드 매핑 

> [!IMPORTANT]
>
> - 새 버전의 엔터티 매핑 기능은 **미리 보기** 상태입니다. 베타, 미리 보기 또는 아직 일반 공급으로 출시 되지 않은 Azure 기능에 적용 되는 추가 약관은 [Microsoft Azure 미리 보기에](https://azure.microsoft.com/support/legal/preview-supplemental-terms/) 대 한 추가 사용 약관을 참조 하세요.

> [!IMPORTANT]
>
> - 이전 버전과의 호환성 및 이전 버전의 엔터티 매핑 간의 차이점에 대 한 중요 정보는이 문서의 끝에 있는 [새 버전에](#notes-on-the-new-version) 대 한 참고를 참조 하세요.

## <a name="introduction"></a>소개

엔터티 매핑은 [예약 된 쿼리 분석 규칙](tutorial-detect-threats-custom.md)구성의 필수적인 부분입니다. 강화은 다음에 나오는 모든 조사 프로세스 및 수정 작업의 빌딩 블록으로 사용 되는 필수 정보를 사용 하 여 규칙 출력 (경고 및 인시던트)을 제공 합니다.

아래에 자세히 설명 된 절차는 분석 규칙 만들기 마법사의 일부입니다. 이는 기존 분석 규칙에서 엔터티 매핑을 추가 하거나 변경 하는 시나리오를 해결 하기 위해 독립적으로 처리 됩니다.

## <a name="how-to-map-entities"></a>엔터티를 매핑하는 방법

1. Azure 센티널 탐색 메뉴에서 **분석** 을 선택 합니다.

1. 예약 된 쿼리 규칙을 선택 하 고 **편집** 을 클릭 합니다. 또는 화면 맨 위에 있는 **&#10132; 예약 된 쿼리 규칙 만들기** 를 클릭 하 여 새 규칙을 만듭니다.

1. **규칙 논리 설정** 탭을 클릭 합니다.

    :::image type="content" source="media/map-data-fields-to-entities/map-entities.png" alt-text="엔터티에 필드 매핑":::

1. **경고 기능** 섹션의 **엔터티 매핑** 아래에 **있는 엔터티 형식 드롭다운 목록** 에서 엔터티 형식을 선택 합니다.

1. 엔터티에 대 한 **식별자** 를 선택 합니다. 식별자는이를 충분히 식별할 수 있는 엔터티의 특성입니다. **식별자** 드롭다운 목록에서 하나를 선택 하 고 해당 식별자에 해당 하는 **값** 드롭다운 목록에서 데이터 필드를 선택 합니다. 일부 예외를 제외 하 고는 규칙 쿼리의 제목으로 정의 된 테이블의 데이터 필드에 의해 **값** 목록이 채워집니다.

    지정 된 엔터티에 대해 **최대 3 개의 식별자를** 정의할 수 있습니다. 일부 식별자는 필수 이며 다른 식별자는 선택 사항입니다. 필요한 식별자를 하나 이상 선택 해야 합니다. 그렇지 않은 경우 필요한 식별자를 알려 주는 경고 메시지가 표시 됩니다. 최상의 결과를 위해 최대 고유 id를 사용 하는 경우 가능 하면 **강력한 식별자** 를 사용 해야 하며 강력한 식별자를 사용 하면 데이터 원본 간의 상관 관계를 강화할 수 있습니다. 사용 가능한 [엔터티 및 식별자](entities-reference.md)의 전체 목록을 참조 하세요.

1. 추가 엔터티를 매핑하려면 **새 엔터티 추가** 를 클릭 합니다. 단일 분석 규칙에서 **최대 5 개의 엔터티를** 매핑할 수 있습니다. 동일한 형식 중 둘 이상을 매핑할 수도 있습니다. 예를 들어 두 개의 **ip** 엔터티를 *원본 ip 주소* 필드에서, 하나는 *대상 ip 주소* 필드에서 매핑할 수 있습니다. 이러한 방식으로 두 가지를 모두 추적할 수 있습니다.

    생각이 나 실수를 변경한 경우 엔터티 드롭다운 목록 옆에 있는 휴지통 아이콘을 클릭 하 여 엔터티 매핑을 제거할 수 있습니다.

1. 엔터티 매핑을 완료 한 후 **검토 및 만들기** 탭을 클릭 합니다. 규칙 유효성 검사가 성공적으로 완료 되 면 **저장** 을 클릭 합니다.

## <a name="notes-on-the-new-version"></a>새 버전에 대 한 참고 사항

- 이전 버전을 사용 하 여이 분석 규칙에 대해 이전에 엔터티 매핑을 정의한 경우 이러한 매핑은 쿼리 코드에 표시 됩니다. 새 버전에 정의 된 엔터티 매핑은 **쿼리 코드에 표시 되지** 않습니다. 분석 규칙은 한 번에 한 버전의 엔터티 매핑만 지원할 수 있으며 새 버전이 우선적으로 적용 됩니다. 따라서 여기에서 정의 하 **는 모든 단일** 매핑은 쿼리를 실행할 때 쿼리 코드에 정의 된 모든 매핑이 **무시** 되도록 합니다. 

- 새 버전이 아직 미리 보기 상태인 동안에도 **이전 버전** 의 엔터티 매핑을 사용 해야 하는 경우에도 URL의 기능 플래그를 사용 하 여 액세스할 수 있습니다. 및 사이에 커서를 놓고 `https://portal.azure.com/` `#blade` 텍스트를 삽입 `?feature.EntityMapping=false` 합니다.

  - 이전 버전의 제한은 계속 적용 됩니다. 사용자, 호스트, IP 주소, URL 및 파일 해시 엔터티만 매핑할 수 있으며,이 엔터티 중 하나만 매핑할 수 있습니다.

  - 이전 버전으로 돌아가기 **전에** 새 버전을 사용 하 여 만든 모든 엔터티 매핑을 **제거** 해야 합니다. 그렇지 않으면 이전 버전을 사용 하는 모든 엔터티 매핑이 **작동 하지** 않습니다.

- 새 버전의 엔터티 매핑이 일반 공급 상태 이면 이전 버전을 더 이상 사용할 수 없게 됩니다. 이전 엔터티 매핑을 새 버전으로 마이그레이션하는 것이 좋습니다.


## <a name="next-steps"></a>다음 단계

이 문서에서는 Azure 센티널 분석 규칙의 엔터티에 데이터 필드를 매핑하는 방법에 대해 알아보았습니다. Azure Sentinel에 대한 자세한 내용은 다음 문서를 참조하세요.
- [예약 된 쿼리 분석 규칙](tutorial-detect-threats-custom.md)에 대 한 전체 그림을 가져옵니다.
- [Azure 센티널의 엔터티에](entities-in-azure-sentinel.md)대해 자세히 알아보세요.
