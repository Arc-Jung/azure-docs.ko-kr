---
title: 엔터티를 사용 하 여 Azure 센티널의 데이터 분류 및 분석 | Microsoft Docs
description: Azure 센티널의 데이터 항목에 엔터티 분류 (사용자, 호스트 이름, IP 주소)를 할당 하 고이를 사용 하 여 여러 원본의 데이터를 비교, 분석 및 상관 관계를 지정 합니다.
services: sentinel
documentationcenter: na
author: yelevin
manager: rkarlin
editor: ''
ms.service: azure-sentinel
ms.subservice: azure-sentinel
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 02/10/2021
ms.author: yelevin
ms.openlocfilehash: 43da1af7a3001d7f8e000a878948428a3d63aa4e
ms.sourcegitcommit: 6386854467e74d0745c281cc53621af3bb201920
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/08/2021
ms.locfileid: "102456303"
---
# <a name="classify-and-analyze-data-using-entities-in-azure-sentinel"></a>Azure 센티널에서 엔터티를 사용 하 여 데이터 분류 및 분석

## <a name="what-are-entities"></a>엔터티 란?

Azure 센티널에서 경고를 보내거나 생성 하는 경우 센티널에서 범주를 **엔터티로** 인식 하 고 분류할 수 있는 데이터 항목이 포함 되어 있습니다. Azure 센티널은 특정 데이터 항목에 표시 되는 엔터티의 종류를 이해할 때이에 대해 질문할 올바른 질문을 알고 있으며,이를 통해 전체 데이터 원본 범위에서 해당 항목에 대 한 정보를 비교 하 여 쉽게 추적 하 고 전체 센티널 환경 (분석, 조사, 수정, 구하기 등)에서이를 참조할 수 있습니다. 엔터티의 일반적인 예에는 사용자, 호스트, 파일, 프로세스, IP 주소 및 Url이 있습니다.

### <a name="entity-identifiers"></a>엔터티 식별자

Azure 센티널은 다양 한 엔터티 형식을 지원 합니다. 각 형식에는 특정 엔터티를 식별 하는 데 사용할 수 있는 특성을 포함 하 여 고유한 특성이 있습니다. 이러한 특성은 엔터티에 필드로 표시 되 고 **식별자** 라고 합니다. 지원 되는 엔터티와 해당 식별자의 전체 목록은 아래를 참조 하세요.

#### <a name="strong-and-weak-identifiers"></a>강력 하 고 약한 식별자

위에서 언급 한 것 처럼 각 엔터티 형식에 대해 필드 또는 필드 집합이 있습니다 .이를 식별할 수 있습니다. 이러한 필드 또는 필드 집합은 모호성 없이 엔터티를 고유 하 게 식별할 수 있는 경우 **강력한 식별자** 로 참조 될 수 있으며, 일부 상황에서 엔터티를 식별할 수 있지만 모든 경우에 엔터티를 고유 하 게 식별 하는 것은 보장 되지 않는 경우 **약한 식별자** 로 참조 될 수 있습니다. 그러나 대부분의 경우 약한 식별자를 결합 하 여 강력한 식별자를 생성할 수 있습니다.

예를 들어 사용자 계정은 두 가지 이상의 방법으로 **계정** 엔터티로 식별할 수 있습니다. 예를 들어 Azure AD 계정의 숫자 식별자 ( **GUID** 필드) 또는 해당 **UPN (사용자 계정 이름** ) 값과 같은 **강력한 식별자** 를 사용 하거나 **이름** 및 **NTDomain** 필드와 같은 **weak 식별자** 의 조합을 사용 합니다. 서로 다른 데이터 원본으로 동일한 사용자를 식별할 수 있습니다. Azure 센티널은 식별자를 기반으로 동일한 엔터티로 인식할 수 있는 두 엔터티를 발견할 때마다 두 엔터티를 단일 엔터티로 병합 하 여 적절 하 고 일관 되 게 처리할 수 있도록 합니다.

그러나 리소스 공급자 중 하나에서 엔터티가 충분히 식별 되지 않는 경고를 생성 하는 경우, 예를 들어 도메인 이름 컨텍스트 없이 사용자 이름과 같은 단일 **weak 식별자** 만 사용 하는 경우에는 사용자 엔터티를 같은 사용자 계정의 다른 인스턴스와 병합할 수 없습니다. 이러한 다른 인스턴스는 별도의 엔터티로 식별 되며 이러한 두 엔터티는 통합이 아닌 별도의 상태로 유지 됩니다.

이러한 상황이 발생 하는 위험을 최소화 하기 위해 모든 경고 공급자가 생성 하는 경고에서 엔터티를 제대로 식별 하는지 확인 해야 합니다. 또한 사용자 계정 엔터티를 Azure Active Directory와 동기화 하면 통합 디렉터리가 생성 되어 사용자 계정 엔터티를 병합할 수 있습니다.

#### <a name="supported-entities"></a>지원 되는 엔터티

다음 유형의 엔터티는 현재 Azure 센티널에서 식별 됩니다.

- 사용자 계정
- 호스트
- IP 주소
- 맬웨어
- 파일
- Process
- 클라우드 응용 프로그램
- 도메인 이름
- Azure 리소스
- 파일 해시
- 레지스트리 키
- 레지스트리 값
- 보안 그룹
- URL
- IoT 디바이스
- 사서함
- 메일 클러스터
- 메일 메시지
- 전송 메일

[엔터티 참조](entities-reference.md)에서 이러한 엔터티의 식별자 및 기타 관련 정보를 볼 수 있습니다.

## <a name="entity-mapping"></a>엔터티 매핑

Azure 센티널에서 엔터티를 식별 하는 경고의 데이터를 어떻게 인식 하나요?

Azure 센티널에서 데이터 처리를 수행 하는 방법을 살펴보겠습니다. 데이터는 서비스 간, 에이전트 기반 또는 syslog 서비스와 로그 전달자를 사용 하 여 [커넥터](connect-data-sources.md)를 통해 다양 한 원본에서 수집 됩니다. 데이터는 Log Analytics 작업 영역의 테이블에 저장 됩니다. 이러한 테이블은 사용자가 정의 하 고 사용 하도록 설정한 분석 규칙에 따라 정기적으로 예약 된 간격으로 쿼리 됩니다. 이러한 분석 규칙에서 수행 하는 많은 작업 중 하나는 테이블의 데이터 필드를 Azure 센티널에서 인식할 수 있는 엔터티로 매핑하는 것입니다. 분석 규칙에서 정의 하는 매핑에 따라 Azure 센티널은 쿼리에서 반환 된 결과의 필드를 가져와 각 엔터티 형식에 대해 지정한 식별자로 인식 하 고 해당 식별자에 의해 식별 되는 엔터티 형식을 적용 합니다.

이 모든 점이 무엇 인가요?

Azure 센티널에서 다양 한 유형의 데이터 원본에 있는 경고의 엔터티를 식별할 수 있는 경우, 특히 각 데이터 원본 또는 세 번째 스키마에 공통적인 강력한 식별자를 사용 하 여이 작업을 수행할 수 있는 경우 이러한 모든 경고와 데이터 원본 간의 상관 관계를 쉽게 지정할 수 있습니다. 이러한 상관 관계는 엔터티에 대 한 풍부한 정보와 정보를 제공 하 여 보안 작업을 위한 견고한 토대를 제공 하는 데 도움이 됩니다.

[엔터티에 데이터 필드를 매핑하](map-data-fields-to-entities.md)는 방법에 대해 알아봅니다.

[엔터티를 강력 하 게 식별 하는 식별자](entities-reference.md)에 대해 알아봅니다.

## <a name="entity-pages"></a>엔터티 페이지

검색, 경고 또는 조사에서 엔터티 (현재 사용자 및 호스트로 제한 됨)가 발생 하면 엔터티를 선택 하 고 엔터티 **페이지로** 이동 하 여 해당 엔터티에 대 한 유용한 정보를 모두 볼 수 있습니다. 이 페이지에서 찾을 수 있는 정보 유형에는 엔터티에 대 한 기본 팩트,이 엔터티와 관련 된 주목할 만한 이벤트의 타임 라인 및 엔터티 동작에 대 한 정보가 포함 됩니다.

엔터티 페이지는 다음 세 부분으로 구성 됩니다.

- 왼쪽 패널에는 Azure Active Directory, Azure Monitor, Azure Security Center, Microsoft Defender와 같은 데이터 원본에서 수집 된 엔터티의 식별 정보가 포함 되어 있습니다.

- 가운데 패널에는 경고, 책갈피 및 작업과 같이 엔터티와 관련 된 주목할 만한 이벤트의 그래픽 및 텍스트 타임 라인이 표시 됩니다. 활동은 Log Analytics에서 주목할 만한 이벤트의 집계입니다. 이러한 활동을 검색 하는 쿼리는 Microsoft 보안 연구 팀에서 개발 합니다.

- 오른쪽 패널은 엔터티에 대 한 동작 정보를 제공 합니다. 이러한 정보는 변칙 및 보안 위협을 빠르게 식별 하는 데 도움이 됩니다. 이 정보는 Microsoft 보안 연구 팀에서 개발 되었으며 변칙 검색 모델을 기반으로 합니다.

### <a name="the-timeline"></a>타임 라인

:::image type="content" source="./media/identify-threats-with-entity-behavior-analytics/entity-pages-timeline.png" alt-text="엔터티 페이지 타임 라인":::

타임 라인은 Azure 센티널의 동작 분석에 대 한 엔터티 페이지 기여의 주요 부분입니다. 엔터티 관련 이벤트에 대 한 스토리를 제공 하 여 특정 시간 프레임 내에서 엔터티의 작업을 이해 하도록 도와줍니다.

몇 가지 미리 설정 된 옵션 (예: *최근 24 시간*) 중에서 **시간 범위** 를 선택 하거나 사용자 지정 된 시간 프레임으로 설정할 수 있습니다. 또한 타임 라인의 정보를 특정 유형의 이벤트 또는 경고로 제한 하는 필터를 설정할 수 있습니다.

타임 라인에는 다음과 같은 유형의 항목이 포함 되어 있습니다.

- 경고-엔터티가 **매핑된 엔터티로** 정의 된 모든 경고입니다. 조직에서 [분석 규칙을 사용 하 여 사용자 지정 경고](./tutorial-detect-threats-custom.md)를 만든 경우 규칙의 엔터티 매핑이 제대로 수행 되었는지 확인 해야 합니다.

- 책갈피-페이지에 표시 된 특정 엔터티를 포함 하는 책갈피입니다.

- 활동-엔터티와 관련 된 주목할 만한 이벤트의 집계입니다.

### <a name="entity-insights"></a>엔터티 정보

Entity insights는 분석가가 더 효율적이 고 효과적으로 조사 하는 데 도움이 되도록 Microsoft 보안 연구원에 의해 정의 된 쿼리입니다. 정보는 엔터티 페이지의 일부로 제공 되며 호스트와 사용자에 대 한 중요 한 보안 정보를 표 형식 데이터 및 차트 형식으로 제공 합니다. 여기에 정보를 입력 하면 Log Analytics 우회 필요가 없습니다. 이 정보에는 로그인, 그룹 추가, 비정상 이벤트 등에 대 한 데이터가 포함 되며 비정상적인 동작을 검색 하는 고급 ML 알고리즘이 포함 되어 있습니다.

정보는 다음과 같은 데이터 원본을 기반으로 합니다.

- Syslog(Linux)
- SecurityEvent (Windows)
- AuditLogs (Azure AD)
- SigninLogs (Azure AD)
- 사무실 활동 (Office 365)
- BehaviorAnalytics (Azure 센티널 UEBA)
- 하트 비트 (Azure Monitor 에이전트)
- CommonSecurityLog (Azure 센티널)

### <a name="how-to-use-entity-pages"></a>엔터티 페이지를 사용 하는 방법

엔터티 페이지는 여러 사용 시나리오의 일부로 설계 되었으며 인시던트 관리, 조사 그래프, 책갈피에서 액세스 하거나 Azure 센티널 주 메뉴의 **엔터티 동작 분석** 에 있는 엔터티 검색 페이지에서 직접 액세스할 수 있습니다.

:::image type="content" source="./media/identify-threats-with-entity-behavior-analytics/entity-pages-use-cases.png" alt-text="엔터티 페이지 사용 사례":::

## <a name="next-steps"></a>다음 단계

이 문서에서는 Azure 센티널에서 엔터티를 사용 하는 방법을 알아보았습니다. 구현에 대 한 유용한 지침을 제공 하 고 얻은 통찰력을 사용 하려면 다음 문서를 참조 하세요.

- Azure 센티널에서 [엔터티 동작 분석을 사용 하도록 설정](./enable-entity-behavior-analytics.md) 합니다.
- [보안 위협에 대 한 헌트](./hunting.md).
