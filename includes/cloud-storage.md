# 데이터 관리 및 비즈니스 분석

클라우드에서 데이터를 관리 및 분석하는 작업은 다른 곳만큼 중요합니다. 이 작업을 위해 Azure에서는 관계형 데이터 및 비관계형 데이터 작업에 사용되는 다양한 기술을 제공합니다. 이 문서에서는 각 옵션을 소개합니다.

## 목차

-   [Blob 저장소][Blob 저장소]
-   [가상 컴퓨터에서 DBMS 실행][가상 컴퓨터에서 DBMS 실행]
-   [SQL 데이터베이스][SQL 데이터베이스]

    -   [SQL 데이터 동기화][SQL 데이터 동기화]
    -   [가상 컴퓨터를 사용한 SQL 데이터 보고][가상 컴퓨터를 사용한 SQL 데이터 보고]
-   [테이블 저장소][테이블 저장소]
-   [빌드][빌드]

## <a name="blob"></a>Blob 저장소

"Blob"이란 단어는 "Binary Large OBject"의 약어이며 Blob의 정확한 정의, 즉 이진 정보 컬렉션을 설명합니다. Blob은 단순하지만 매우 유용합니다. [그림 1][그림 1]에서는 Azure Blob 저장소의 기본 사항을 설명합니다.

<a name="Fig1"></a>![Blob 다이어그램][Blob 다이어그램]

**그림 1: Azure Blob 저장소는 이진 데이터(Blob)를 컨테이너에 저장합니다.**

Blob을 사용하려면 먼저 Azure *저장소 계정*을 만듭니다. 이 작업의 일부로, 이 계정을 사용하여 만든 개체를 저장할 Azure 데이터 센터를 지정합니다. 어디에 있든, 만들어진 각 Blob은 저장소 계정의 일부 컨테이너에 속합니다. Blob에 액세스하기 위해 응용 프로그램은 다음과 같은 형식으로 URL을 제공합니다.

http://\<*StorageAccount*\>.blob.core.windows.net/\<*Container*\>/\<*BlobName*\>

\<*StorageAccount*\>는 새 저장소 계정을 만들 때 할당된 고유 식별자이고, \<*Container*\> 및 \<*BlobName*\>은 특정 컨테이너의 이름 및 해당 컨테이너 내의 Blob입니다.

Azure에서는 두 가지 Blob을 제공합니다. 선택 항목은 다음과 같습니다.

-   *블록* Blob은 각각 최대 200GB의 데이터를 포함할 수 있습니다. 이름에서 알 수 있듯이, 블록 Blob은 특정 개수의 블록으로 세분화됩니다. 블록 Blob을 전송하는 동안 오류가 발생할 경우 전체 Blob을 다시 보내는 대신 최근 블록에서 재전송이 다시 시작될 수 있습니다. 블록 Blob은 저장소에 대한 일반적인 접근 방법이며 오늘날 가장 많이 사용되는 Blob 유형입니다.

-   *페이지* Blob은 각각 1TB만큼 클 수 있습니다. 페이지 Blob은 임의 액세스용으로 디자인되었으므로 각 Blob이 특정 개수의 페이지로 세분화됩니다. 응용 프로그램에서 Blob의 개별 페이지를 임의로 읽고 쓸 수 있습니다. 예를 들어 Azure 가상 컴퓨터에서 만들어진 VM은 페이지 Blob을 OS 디스크와 데이터 디스크 둘 다의 영구적 저장소로 사용합니다.

블록 Blob을 선택하든 또는 페이지 Blob을 선택하든 간에 응용 프로그램은 여러 가지 방법으로 Blob 데이터에 액세스할 수 있습니다. 다음과 같은 옵션이 있습니다.

-   RESTful(즉, HTTP 기반) 액세스 프로토콜을 통해 직접. 온-프레미스에서 실행 중인 앱을 포함하여 Azure 응용 프로그램과 외부 응용 프로그램 둘 다에서 이 옵션을 사용할 수 있습니다.
-   원시 RESTful Blob 액세스 프로토콜 위에서 보다 개발자에게 친숙한 인터페이스를 제공하는 Azure 저장소 클라이언트 라이브러리 사용. Azure 응용 프로그램과 외부 응용 프로그램 둘 다에서 이 라이브러리를 사용하여 Blob에 액세스할 수 있습니다.
-   Azure 응용 프로그램에서 페이지 Blob을 NTFS 파일 시스템의 로컬 드라이브로 처리할 수 있게 해 주는 옵션인 Azure 드라이브 사용. 응용 프로그램에서 페이지 Blob은 표준 파일 I/O를 사용하여 액세스된 일반적인 Windows 파일 시스템처럼 보입니다. 사실상, Azure 드라이브를 구현하는 기본 페이지 Blob으로 읽기 및 쓰기가 전송됩니다.

하드웨어 오류로부터 보호하고 가용성을 향상시키기 위해 각 Blob은 Azure 데이터 센터의 컴퓨터 세 대에 복제됩니다. Blob에 쓰면 세 개의 복사본이 모두 업데이트되므로 나중에 읽을 때 일치하지 않는 결과가 표시되지 않습니다. 동일한 지역에 있지만 500마일 이상 떨어진 다른 Azure 데이터 센터로 Blob 데이터를 복사하도록 지정할 수도 있습니다. *지역에서 복제*라는 이 복사는 Blob 업데이트 후 몇 분 이내에 수행되며, 재해 복구에 유용합니다.

Azure *CDN(콘텐츠 배달 네트워크)*을 통해 Blob의 데이터를 제공할 수도 있습니다. 전 세계 수십 대 서버에 Blob 데이터 복사본을 캐시함으로써 CDN은 반복적으로 액세스되는 정보에 대한 액세스 속도를 향상시킬 수 있습니다.

Blob은 단순하지만 여러 상황에 적합합니다. 예를 들어 동영상과 오디오 저장 및 스트리밍, 백업, 다른 종류의 데이터 보관 등이 해당됩니다. 개발자는 Blob을 사용하여 원하는 모든 종류의 구조화되지 않은 데이터를 포함할 수도 있습니다. 이진 데이터를 저장하고 액세스하는 간단한 방법이 있다는 것은 매우 유용할 수 있습니다.

## <a name="dbinvm"></a>가상 컴퓨터에서 DBMS 실행

오늘날 많은 응용 프로그램은 일종의 DBMS(데이터베이스 관리 시스템)를 사용합니다. SQL Server 등의 관계형 시스템이 가장 일반적으로 사용되지만 *NoSQL* 기술이라는 비관계형 접근 방식도 점점 보편화되고 있습니다. 클라우드 응용 프로그램이 이러한 데이터 관리 옵션을 사용할 수 있도록 하기 위해 Azure 가상 컴퓨터는 VM에서 DBMS(관계형 또는 NoSQL)를 실행할 수 있게 합니다. [그림 2][그림 2]에서는 SQL Server에서 표시되는 모양을 보여 줍니다.

<a name="Fig2"></a>![가상 컴퓨터의 SQL Server 다이어그램][가상 컴퓨터의 SQL Server 다이어그램]

**그림 2: Azure 가상 컴퓨터는 VM에서 DBMS를 실행할 수 있게 하며 Blob을 통해 지속성이 제공됩니다.**

개발자와 데이터베이스 관리자 둘 다에게 이 시나리오는 고유한 데이터 센터에서 동일한 소프트웨어를 실행하는 것과 유사합니다. 예를 들어 여기에 표시된 예제에서는 거의 모든 SQL Server 기능을 사용할 수 있으며 시스템에 대한 모든 관리 권한을 갖습니다. 로컬에서 실행되는 것처럼 데이터베이스 서버 관리 책임도 있습니다.

[그림 2][그림 2]와 같이 데이터베이스는 서버가 실행되는 VM의 로컬 디스크에 저장된 것처럼 보입니다. 그러나 각 디스크는 Azure Blob에 기록됩니다. 고유한 데이터 센터에서 SAN을 사용하는 것과 유사하며 Blob이 LUN처럼 작동합니다. Azure Blob과 마찬가지로 포함된 데이터는 데이터 센터 내에서 세 번 복제되며, 요청할 경우 동일한 지역에 있는 다른 데이터 센터로 지역에서 복제됩니다. 안정성을 향상시키기 위해 SQL Server 데이터베이스 미러링 등의 옵션을 사용할 수도 있습니다.

VM에서 SQL Server를 사용하는 또 다른 방법은 데이터는 Azure에 있고 응용 프로그램 논리는 온-프레미스로 실행되는 하이브리드 응용 프로그램을 만드는 것입니다. 예를 들어 여러 위치나 다양한 모바일 장치에서 실행되는 응용 프로그램이 동일한 데이터를 공유해야 하는 경우에 적합할 수 있습니다. 클라우드 데이터베이스와 온-프레미스 논리 간의 통신을 간소화하기 위해 조직에서 Azure 가상 네트워크를 사용하여 Azure 데이터 센터와 고유한 온-프레미스 데이터 센터 간에 VPN(가상 사설망) 연결을 만들 수 있습니다.

## <a name="sqldb"></a>SQL 데이터베이스

대부분의 사용자는 클라우드에서 구조화된 데이터를 관리하기 위한 첫 번째 옵션으로 VM에서 DBMS를 실행하는 방법을 떠올립니다. 그러나 이 방법이 유일한 선택은 아니며 항상 최상의 선택인 것도 아닙니다. PaaS(Platform as a Service)를 사용한 데이터 관리 방법이 더 적합한 경우도 있습니다. Azure에서는 관계형 데이터에 대해 이 작업을 수행할 수 있게 해 주는 SQL 데이터베이스라는 PaaS 기술을 제공합니다. [그림 3][그림 3]에서는 이 옵션을 보여 줍니다.

<a name="Fig3"></a>![SQL 데이터베이스 다이어그램][SQL 데이터베이스 다이어그램]

**그림 3: SQL 데이터베이스는 공유 PaaS 관계형 저장소 서비스를 제공합니다.**

SQL 데이터베이스는 각 고객에게 고유한 물리적 SQL Server 인스턴스를 제공하지 않습니다. 대신, 각 고객에게 논리적 SQL 데이터베이스 서버가 있는 다중 테넌트 서비스를 제공합니다. 모든 고객은 서비스에서 제공하는 계산 및 저장소 기능을 공유합니다. Blob 저장소와 마찬가지로 SQL 데이터베이스의 모든 데이터는 Azure 데이터 센터 내의 개별 컴퓨터 세 대에 저장되어 데이터베이스에 기본 제공 HA(고가용성)를 제공합니다.

응용 프로그램에서 SQL 데이터베이스는 SQL Server와 유사하게 표시됩니다. 응용 프로그램은 관계형 테이블에 대한 SQL 쿼리를 실행하고, T-SQL 저장 프로시저를 사용하고, 여러 테이블에 대해 트랜잭션을 실행할 수 있습니다. 또한 SQL Server 액세스에 사용되는 것과 동일한 프로토콜인 TDS(Tabular Data Stream) 프로토콜을 사용하여 SQL 데이터베이스에 액세스하기 때문에 응용 프로그램에서 Entity Framework, ADO.NET, JDBC 및 기타 익숙한 데이터 액세스 인터페이스를 사용하여 데이터 관련 작업을 수행할 수 있습니다.

그러나 SQL 데이터베이스는 Azure 데이터 센터에서 실행되는 클라우드 서비스이기 때문에 디스크 사용 등 시스템의 물리적 측면은 관리할 필요가 없습니다. 또한 소프트웨어 업데이트나 다른 하위 수준 관리 작업 처리에 대해 걱정할 필요도 없습니다. 물론 각 고객 조직에서 스키마 및 사용자 로그인을 포함하여 고유한 데이터베이스를 제어하지만 대부분의 일상적인 관리 작업은 자동으로 수행됩니다.

SQL 데이터베이스는 응용 프로그램에서 SQL Server와 유사하게 표시되지만 물리적 컴퓨터나 가상 컴퓨터에서 실행되는 DBMS와 똑같이 동작하지는 않습니다. 공유 하드웨어에서 실행되기 때문에 모든 고객에 의한 하드웨어의 부하에 따라 성능이 달라집니다. 즉, SQL 데이터베이스의 저장 프로시저 성능이 날마다 달라질 수 있습니다.

현재 SQL 데이터베이스를 사용하여 최대 150GB까지 보관하는 데이터베이스를 만들 수 있습니다. 더 큰 데이터베이스로 작업해야 하는 경우 서비스에서 *페더레이션*이라는 옵션을 제공합니다. 이 작업을 위해 데이터베이스 관리자는 각각 고유한 스키마를 가진 개별 데이터베이스인 *페더레이션 멤버*를 두 개 이상 만듭니다. 데이터는 이러한 멤버에 분산되며(*분할*이라고도 함) 각 멤버에 고유한 *페더레이션 키*가 할당됩니다. 응용 프로그램은 쿼리에서 대상으로 지정해야 하는 페더레이션 멤버를 식별하는 페더레이션 키를 지정하여 이 데이터에 대한 SQL 쿼리를 실행합니다. 이렇게 하면 다량의 데이터와 함께 기존의 관계형 접근 방식을 사용할 수 있습니다. 항상 그렇듯이 장단점이 있습니다. 예를 들어 여러 페더레이션 멤버에 걸쳐 쿼리와 트랜잭션을 수행할 수 없습니다. 그러나 관계형 PaaS 서비스가 최상의 선택이며 이러한 장단점이 허용되는 경우 SQL 페더레이션을 사용하는 것이 좋은 솔루션이 될 수 있습니다.

Azure나 온-프레미스 데이터 센터 등의 다른 위치에서 실행 중인 응용 프로그램이 SQL 데이터베이스를 사용할 수 있습니다. 이 기능은 관계형 데이터가 필요한 클라우드 응용 프로그램 및 클라우드에 데이터를 저장하는 기능을 활용할 수 있는 온-프레미스 응용 프로그램에 유용합니다. 모바일 응용 프로그램은 SQL 데이터베이스를 사용하여 공유 관계형 데이터를 관리할 수 있습니다. 예를 들어 전 세계 여러 딜러에서 실행되는 재고 응용 프로그램이 있을 수 있습니다.

SQL 데이터베이스와 관련해서 제기되는 명확한(그리고 중요한) 문제는 언제 VM에서 SQL Server를 실행해야 하고 언제 SQL 데이터베이스를 사용하는 것이 최상의 선택인지를 결정하는 것입니다. 늘 그렇듯이 장단점이 있으므로 어떤 접근 방식이 더 나은지는 요구 사항에 따라 달라집니다.

한 가지 간단한 방법은 SQL 데이터베이스는 새 응용 프로그램에 사용하고 기존 온-프레미스 응용 프로그램을 클라우드로 이동할 때는 VM의 SQL Server를 더 나은 선택으로 간주하는 것입니다. 그러나 보다 세분화된 방식으로 이 결정을 확인하는 것이 유용할 수도 있습니다. 예를 들어 SQL 데이터베이스는 설정 및 관리가 최소화되므로 사용이 더 용이합니다. 그러나 VM에서 SQL Server를 실행할 경우 공유 서비스가 아니기 때문에 보다 예측 가능한 성능을 얻을 수 있으며, SQL 데이터베이스보다 더 큰 비페더레이션 데이터베이스도 지원합니다. SQL 데이터베이스는 데이터 및 처리 둘 다의 기본 제공 복제를 제공하여 매우 적은 노력으로 고가용성 DBMS를 제공합니다. SQL Server는 보다 강력한 제어와 광범위한 옵션 집합을 제공하고, SQL 데이터베이스는 설정이 더 간단하고 관리 작업이 훨씬 더 적습니다.

마지막으로, SQL 데이터베이스는 Azure에서 사용 가능한 유일한 PaaS 데이터 서비스가 아님을 지적하는 것이 중요합니다. Microsoft 파트너는 다른 옵션도 제공합니다. 예를 들어 ClearDB는 MySQL PaaS 제공 사항을 제공하고 Cloudant는 NoSQL 옵션을 판매합니다. PaaS 데이터 서비스는 대부분의 상황에 적합한 솔루션이므로 데이터 관리에 대한 이 접근 방식은 Azure의 중요한 일부입니다.

### <a name="datasync"></a>SQL 데이터 동기화

SQL 데이터베이스는 단일 Azure 데이터 센터 내에서 각 데이터베이스의 복사본 세 개를 유지 관리하지만 Azure 데이터 센터 간에 데이터를 자동으로 복제하지는 않습니다. 대신, 이 작업에 사용할 수 있는 서비스인 SQL 데이터 동기화를 제공합니다. [그림 4][그림 4]에서는 표시되는 모양을 보여 줍니다.

<a name="Fig4"></a>![SQL 데이터 동기화 다이어그램][SQL 데이터 동기화 다이어그램]

**그림 4: SQL 데이터 동기화는 SQL 데이터베이스의 데이터를 다른 Azure 및 온-프레미스 데이터 센터의 데이터와 동기화합니다.**

다이어그램에서 볼 수 있듯이 SQL 데이터 동기화는 여러 위치 간에 데이터를 동기화할 수 있습니다. 예를 들어 여러 Azure 데이터 센터에서 응용 프로그램을 실행 중이며 데이터가 SQL 데이터베이스에 저장되어 있다고 가정합니다. SQL 데이터 동기화를 사용하여 해당 데이터를 동기화된 상태로 유지할 수 있습니다. SQL 데이터 동기화는 Azure 데이터 센터와 온-프레미스 데이터 센터에서 실행되는 SQL Server 인스턴스 간에서도 데이터를 동기화할 수 있습니다. 이 기능은 온-프레미스 응용 프로그램에서 사용하는 로컬 데이터 복사본과 Azure에서 실행되는 응용 프로그램에서 사용하는 클라우드 복사본을 둘 다 유지 관리하는 데 유용할 수 있습니다. 그림에 나와 있지는 않지만 SQL 데이터 동기화를 사용하여 SQL 데이터베이스와 Azure 또는 다른 위치의 VM에서 실행되는 SQL Server 간에 데이터를 동기화할 수도 있습니다.

동기화는 양방향일 수 있으며, 사용자가 동기화되는 데이터와 동기화 빈도를 정확하게 결정합니다. 그러나 데이터베이스 간의 동기화는 원자성이 아니므로 항상 약간의 지연이 있습니다. 어떤 방식으로 사용하든 SQL 데이터 동기화를 사용한 동기화 설정은 전적으로 구성에 의해 제어되며 작성할 코드가 없습니다.

### <a name="datarpt"></a>가상 컴퓨터를 사용한 SQL 데이터 보고

데이터베이스에 데이터가 포함된 후 누군가가 해당 데이터를 사용하여 보고서를 만들려고 할 수 있습니다. Azure는 Azure 가상 컴퓨터에서 SSRS(SQL Server Reporting Services)를 실행할 수 있습니다. 이는 기능적으로 온-프레미스에서 SQL Server Reporting Services를 실행하는 것과 같습니다. 그런 다음 SSRS를 사용하여 Azure SQL 데이터베이스에 저장된 데이터에 대한 보고서를 실행할 수 있습니다. [그림 5][그림 5]에서는 프로세스의 작동 방식을 보여 줍니다.

<a name="Fig5"></a>![SQL 보고 다이어그램][SQL 보고 다이어그램]

**그림 5: Azure 가상 컴퓨터에서 실행되는 SQL Server Reporting Services는 SQL 데이터베이스의 데이터에 대한 보고 서비스를 제공합니다. .**

보고서가 표시되는 모양을 정의해야(1단계) 사용자가 보고서를 볼 수 있습니다. VM에서 SSRS를 사용하는 경우 SQL Server 2012에 포함된 SQL Server Data Tools 또는 선행 요소인 BI(Business Intelligence) Development Studio 등 두 가지 도구 중 하나를 사용하여 이 작업을 수행할 수 있습니다. SSRS와 마찬가지로, 이러한 보고서 정의는 RDL(Report Definition Language)로 표시됩니다. 보고서에 대한 RDL 파일이 만들어진 후 클라우드의 VM에 업로드됩니다(2단계). 이제 보고서 정의를 사용할 준비가 되었습니다.

응용 프로그램 사용자가 보고서에 액세스합니다(3단계). 응용 프로그램에서 이 요청을 SSRS VM에 전달하고(4단계), VM은 SQL 데이터베이스 또는 다른 데이터 원본에 연결하여 필요한 데이터를 가져옵니다(5단계). SSRS는 이 데이터 및 관련된 RDL 파일을 사용하여 보고서를 렌더링한 다음(6단계) 보고서를 응용 프로그램에 반환하면(7단계), 응용 프로그램에서 사용자에게 보고서를 표시합니다(8단계).

여기에 표시된 시나리오인 응용 프로그램에 보고서를 포함하는 것이 유일한 옵션은 아닙니다. VM의 보고서 관리자, VM의 SharePoint 또는 다른 방식으로 보고서를 볼 수도 있습니다. 한 보고서에 다른 보고서에 대한 링크를 포함하여 보고서를 결합할 수도 있습니다.

Azure VM의 SSRS는 클라우드의 보고 솔루션으로 전체 기능을 제공합니다. 보고서는 SSRS에서 지원되는 모든 데이터 원본을 사용할 수 있습니다. 응용 프로그램과 보고서에는 사용자 지정 동작을 지원하기 위한 포함 코드나 어셈블리가 포함될 수 있습니다. 보고서 서버 콘텐츠와 엔진이 동일한 가상 서버에서 함께 실행되기 때문에 보고서 실행과 렌더링 속도가 빠릅니다.

## <a name="tblstor"></a>테이블 저장소

관계형 데이터는 여러 상황에서 유용하지만 항상 올바른 선택인 것은 아닙니다. 예를 들어 응용 프로그램에서 느슨하게 구조화된 다량의 데이터에 빠르고 간단하게 액세스해야 하는 경우 관계형 데이터베이스가 제대로 작동하지 않을 수도 있습니다. NoSQL 기술이 더 나은 옵션일 수 있습니다.

Azure 테이블 저장소는 이러한 종류의 NoSQL 접근 방식을 보여 주는 예입니다. 이름과 달리 테이블 저장소는 표준 관계형 테이블을 지원하지 않습니다. 대신, 데이터 집합과 특정 키를 연결한 다음 응용 프로그램이 키를 제공하여 해당 데이터에 액세스할 수 있게 해 주는 *키/값 저장소*를 제공합니다. [그림 6][그림 6]에서는 기본 사항을 보여 줍니다.

<a name="Fig6"></a>![테이블 저장소 다이어그램][테이블 저장소 다이어그램]

**그림 6: Azure 테이블 저장소는 다량의 데이터에 빠르고 간단하게 액세스할 수 있게 해 주는 키/값 저장소입니다.**

Blob과 마찬가지로 각 테이블에 Azure 저장소 계정이 연결됩니다. 또한 Blob과 마찬가지로 다음 형식의 URL로 테이블 이름이 지정됩니다.

http://\<*StorageAccount*\>.table.core.windows.net/\<*TableName*\>

그림에서 볼 수 있듯이 각 테이블은 각각 별도의 컴퓨터에 저장될 수 있는 특정 개수의 파티션으로 나뉩니다. SQL 페더레이션의 분할 형태입니다. Azure 응용 프로그램 및 다른 위치에서 실행되는 응용 프로그램은 모두 RESTful OData 프로토콜이나 Azure 저장소 클라이언트 라이브러리를 사용하여 테이블에 액세스할 수 있습니다.

테이블의 각 파티션은 각각 255개의 *속성*이 포함된 특정 개수의 *엔터티*를 보관합니다. 각 속성에 이름, 형식(예: Binary, Bool, DateTime, Int 또는 String) 및 값이 있습니다. 관계형 저장소와 달리 이러한 테이블에는 고정 스키마가 없으므로 동일한 테이블의 각 엔터티에 서로 다른 형식의 속성이 포함될 수 있습니다. 예를 들어 한 엔터티에는 이름이 포함된 String 속성 한 개가 있고 동일한 테이블의 다른 엔터티에는 고객 ID 번호와 신용 등급이 포함된 Int 속성 두 개가 있을 수 있습니다.

테이블 내에서 특정 엔터티를 식별하기 위해 응용 프로그램에서 해당 엔터티의 키를 제공합니다. 키는 특정 파티션을 식별하는 *파티션 키*와 해당 파티션 내에서 엔터티를 식별하는 *행 키*의 두 부분으로 이루어져 있습니다. 예를 들어 [그림 6][그림 6]에서 클라이언트는 파티션 키가 A이고 행 키가 3인 엔터티를 요청하고, 테이블 저장소는 포함된 모든 속성과 함께 해당 엔터티를 반환합니다.

이 구조에서는 큰 테이블(단일 테이블에 최대 100TB의 데이터가 포함될 수 있음)이 허용되며, 포함된 데이터에 빠르게 액세스할 수 있습니다. 그러나 제한 사항도 있습니다. 예를 들어 여러 테이블이나 단일 테이블의 여러 파티션에 걸쳐 있는 트랜잭션 업데이트는 지원되지 않습니다. 관련된 모든 엔터티가 동일한 파티션에 있는 경우에만 테이블에 대한 업데이트 집합을 원자성 트랜잭션으로 그룹화할 수 있습니다. 또한 속성 값을 기준으로 테이블을 쿼리할 수 있는 방법이 없으며 여러 테이블 간의 조인도 지원되지 않습니다. 관계형 데이터베이스와 달리 테이블은 저장 프로시저를 지원하지 않습니다.

Azure 테이블 저장소는 느슨하게 구조화된 다량의 데이터에 빠르고 간단하게 액세스해야 하는 응용 프로그램에 적합한 선택입니다. 예를 들어 많은 사용자에 대한 프로필 정보를 저장하는 인터넷 응용 프로그램은 테이블을 사용할 수 있습니다. 이 경우 빠른 액세스가 중요하며 응용 프로그램에 SQL의 전체 기능이 필요하지 않을 수 있습니다. 속도와 크기를 얻기 위해 이 기능을 포기하는 것이 적합한 경우가 있으므로 테이블 저장소는 일부 문제에 대한 올바른 솔루션입니다.

## <a name="hadoop"></a>Hadoop

조직은 수십 년 동안 데이터 웨어하우스를 구축해 왔습니다. 대부분 관계형 테이블에 저장되어 있는 이러한 정보 컬렉션을 통해 다양한 방식으로 데이터 관련 작업을 하고 데이터에서 정보를 얻을 수 있습니다. 예를 들어 SQL Server에서는 SQL Server Analysis Services 등의 도구를 사용하여 이 작업을 수행하는 것이 일반적입니다.

그러나 비관계형 데이터에 대한 분석을 수행한다고 가정해 보세요. 데이터는 센서 또는 RFID 태그의 정보, 서버 팜의 로그 파일, 웹 응용 프로그램에서 생성된 클릭스트림 데이터, 미디어 진단 장치의 이미지 등 다양한 형태를 사용할 수 있습니다. 또한 이 데이터는 너무 커서 일반적인 데이터 웨어하우스에서 효과적으로 사용하지 못할 수도 있습니다. 몇 년 전만 해도 거의 없었던 이러한 빅데이터 문제가 이제는 보편화되었습니다.

이러한 빅데이터를 분석하기 위해 IT 업계에서는 대체로 오픈 소스 기술인 Hadoop이라는 단일 솔루션을 공통적으로 사용합니다. Hadoop은 물리적 컴퓨터 또는 가상 컴퓨터 클러스터에서 실행되며 작업하는 데이터를 컴퓨터에 분산하고 병렬로 처리합니다. Hadoop에서 사용할 컴퓨터가 많을수록 수행 중인 작업을 더 빨리 완료할 수 있습니다.

이러한 문제는 공용 클라우드에서 일반적입니다. 오랫동안 유휴 상태로 유지될 수 있는 다수의 온-프레미스 서버를 유지 관리하는 대신 클라우드에서 Hadoop을 실행하면 필요할 때만 VM을 생성하여 사용 요금을 지불할 수 있습니다. 뿐만 아니라 Hadoop을 사용하여 분석하려는 빅데이터가 점점 더 많이 클라우드에서 생성되고 있으므로 번거롭게 Hadoop을 이동할 필요가 없습니다. 사용자가 이러한 시너지 효과를 살릴 수 있도록 Microsoft는 Azure에서 Hadoop 서비스를 제공합니다. [그림 7][그림 7]에서는 이 서비스의 가장 중요한 구성 요소를 보여 줍니다.

<a name="Fig7"></a>![Hadoop 다이어그램][Hadoop 다이어그램]

**그림 7: Azure의 Hadoop에서는 여러 대의 가상 컴퓨터를 사용하여 데이터를 병렬로 처리하는 MapReduce 작업을 실행합니다.**

Azure에서 Hadoop을 사용하려면 먼저 이 클라우드 플랫폼에서 필요한 VM 수를 지정하여 Hadoop 클러스터를 만들도록 요청하세요. 직접 Hadoop 클러스터를 설정하는 작업은 어려우므로 Azure에서 설정하게 하는 것이 좋습니다. 사용을 마친 클러스터는 종료하세요. 사용하지 않는 계산 리소스의 비용을 부담할 필요가 없습니다.

대체로 *작업*이라고 불리는 Hadoop 응용 프로그램은 *MapReduce*라는 프로그래밍 모델을 사용합니다. 그림에서 볼 수 있듯이 MapReduce 작업 논리는 여러 VM에서 동시에 실행됩니다. 데이터를 병렬로 처리함으로써 Hadoop은 단일 컴퓨터 솔루션보다 훨씬 더 신속하게 데이터를 분석할 수 있습니다.

Azure에서 MapReduce 작업이 수행되는 데이터는 일반적으로 Blob 저장소에 보관됩니다. 그러나 Hadoop에서는 MapReduce 작업의 데이터가 *HDFS(Hadoop Distributed File System)*에 저장되어야 합니다. HDFS는 어떤 면에서 Blob 저장소와 유사합니다. 예를 들어 여러 개의 물리적 서버에 데이터를 복제합니다. 이 기능을 복제하는 대신 Azure의 Hadoop은 그림과 같이 HDFS API를 통해 Blob 저장소를 표시합니다. MapReduce 작업 논리는 일반 HDFS 파일에 액세스한다고 간주하지만 실제로 작업은 Blob에서 스트리밍되는 데이터로 작업하고 있습니다. 또한 여러 작업이 동일한 데이터에 대해 실행되는 경우를 지원하기 위해 Azure의 Hadoop은 Blob의 데이터를 VM에서 실행되는 전체 HDFS로 복사할 수 있게 합니다.

일반적으로 MapReduce 작업은 현재 Azure의 Hadoop이 지원하는 접근 방식인 Java로 작성됩니다. Microsoft는 C#, F\#, JavaScript 등의 다른 언어로 MapReduce 작업을 만드는 지원도 추가했습니다. 이는 보다 다양한 개발자 그룹에서 이 빅데이터 기술을 더 쉽게 액세스할 수 있게 하기 위한 것입니다.

HDFS 및 MapReduce와 더불어 Hadoop에는 MapReduce 작업을 직접 작성하지 않고도 데이터를 분석할 수 있게 해 주는 다른 기술도 포함되어 있습니다. 예를 들어 Pig는 빅데이터를 분석하기 위한 고급 언어이고 Hive는 HiveQL이라는 SQL과 유사한 언어를 제공합니다. Pig와 Hive는 둘 다 실제로 HDFS 데이터를 처리하는 MapReduce 작업을 생성하지만 이 복잡성을 사용자로부터 숨깁니다.
둘 다 Azure의 Hadoop과 함께 제공됩니다.

Microsoft는 Excel용 HiveQL 드라이버도 제공합니다. 비즈니스 분석가는 Excel 추가 기능을 사용하여 Excel에서 직접 HiveQL 쿼리(및 MapReduce 작업)를 만들고 처리한 다음 PowerPivot 및 다른 Excel 도구를 사용하여 결과를 시각화할 수 있습니다. Azure의 Hadoop에는 컴퓨터 학습 라이브러리 Mahout, 그래프 마이닝 시스템 Pegasus 등의 다른 기술도 포함되어 있습니다.

빅데이터 분석은 중요하므로 Hadoop도 중요합니다. Excel 등의 익숙한 도구에 대한 링크와 더불어 Hadoop을 Azure의 관리 서비스로 제공함으로써 Microsoft는 보다 광범위한 사용자 집합이 이 기술에 액세스할 수 있게 하려고 합니다.

보다 포괄적인 맥락에서, 모든 종류의 데이터가 중요합니다. Azure에 데이터 관리 및 비즈니스 분석을 위한 다양한 옵션이 포함되어 있는 것은 이런 이유 때문입니다. 만들려는 응용 프로그램이 무엇이든, 이 클라우드 플랫폼에서 적합한 옵션을 찾을 수 있을 것입니다.

  [Blob 저장소]: #blob
  [가상 컴퓨터에서 DBMS 실행]: #dbinvm
  [SQL 데이터베이스]: #sqldb
  [SQL 데이터 동기화]: #datasync
  [가상 컴퓨터를 사용한 SQL 데이터 보고]: #datarpt
  [테이블 저장소]: #tblstor
  [빌드]: #hadoop
  [그림 1]: #Fig1
  [Blob 다이어그램]: ./media/cloud-storage/Data_01_Blobs.png
  [그림 2]: #Fig2
  [가상 컴퓨터의 SQL Server 다이어그램]: ./media/cloud-storage/Data_02_SQLSvrVM.png
  [그림 3]: #Fig3
  [SQL 데이터베이스 다이어그램]: ./media/cloud-storage/Data_03_SQLdb.png
  [그림 4]: #Fig4
  [SQL 데이터 동기화 다이어그램]: ./media/cloud-storage/Data_04_SQLDataSync.png
  [그림 5]: #Fig5
  [SQL 보고 다이어그램]: ./media/cloud-storage/Data_05_SQLReporting.png
  [그림 6]: #Fig6
  [테이블 저장소 다이어그램]: ./media/cloud-storage/Data_06_TblStorage.png
  [그림 7]: #Fig7
  [Hadoop 다이어그램]: ./media/cloud-storage/Data_07_Hadoop.png
