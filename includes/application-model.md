# 계산

Azure를 사용하면 Microsoft 데이터 센터 내부에서 실행되는 응용 프로그램 코드를 배포 및 모니터링할 수
있습니다. 응용 프로그램을 만들고
Azure에서 실행하는 경우 코드와 구성을 총체적으로
Azure 호스티드 서비스라고 합니다. 호스티드 서비스는 관리,
규모 확장/축소, 다시 구성, 응용 프로그램 코드의 새 버전으로
업데이트가 용이합니다. 이 문서에서는 Azure 호스티드
서비스 응용 프로그램 모델에 중점을 둡니다.<a id="compare" name="compare"></a>

## 목차<a id="_GoBack" name="_GoBack"></a>

-   [Azure 응용 프로그램 모델 혜택][]
-   [호스팅 서비스 핵심 개념][]
-   [호스팅 서비스 디자인 고려 사항][]
-   [규모를 고려하여 응용 프로그램 디자인][]
-   [호스팅 서비스 정의 및 구성][]
-   [서비스 정의 파일][]
-   [서비스 구성 파일][]
-   [호스팅 서비스 만들기 및 배포][]
-   [참조][]

## <a id="benefits"> </a>Azure 응용 프로그램 모델 혜택

응용 프로그램을 호스티드 서비스로 배포하는 경우 Azure는
응용 프로그램 코드가 포함된 VM(가상 컴퓨터)을 하나 이상
만들고 Azure 데이터 센터 중 하나에 있는 물리적 컴퓨터에서 VM을
부팅합니다. 호스티드 응용 프로그램에 대한
클라이언트 요청이 데이터 센터로 들어가면 부하 분산 장치가
이러한 요청을 VM에 똑같이 분배합니다. 응용 프로그램이 Azure에 호스트된 경우
다음 세 가지 주요 혜택이 있습니다.

-   **고가용성.** 고가용성은 Azure에서 응용 프로그램이
    가능한 한 많이 실행되고 클라이언트 요청에 응답할 수 있도록
한다는 의미입니다. 응용 프로그램이 처리되지 않은 예외
    등으로 인해 종료되면 Azure에서 이를 감지하고
응용 프로그램을 자동으로 다시 시작합니다. 응용
    프로그램이 실행되는 컴퓨터에서 일종의 하드웨어 오류가 발생할
    경우에도 Azure에서 이를 감지한 다음 작동하는
    다른 물리적 컴퓨터에서 새 VM을 자동으로 만들고 여기서 코드를
실행합니다. 참고: 응용 프로그램이 Microsoft의
    99.95% 가용성 서비스 수준 계약을 받으려면 둘 이상의 VM에서
응용 프로그램 코드를 실행해야 합니다. 이렇게
    하면 하나의 VM이 클라이언트 요청을 처리하는 동안 Azure가
    오류가 발생한 VM에서 정상적인 새 VM으로 코드를 이동할 수 있습니다.

-   **확장성.** Azure를 사용하면 응용 프로그램에
    적용되는 실제 부하를 처리하기 위해 응용 프로그램 코드를 실행하는
VM 수를 동적으로 쉽게 변경할 수 있습니다. 이 경우 고객이 필요할 때
    필요한 VM에 대해서만 요금을 지불하는 동시에 고객이
    요구하는 작업에 맞게 응용 프로그램을 조정할 수
있습니다. VM 수를 변경하려는 경우 Azure에서 1분 이내에
    응답하여 실행되는 VM 수를 원하는 횟수만큼 동적으로 변경할 수
    있게 합니다.

-   **관리 효율성.** Azure는 PaaS(Platform as a Service)
    제공 사항이므로 이러한 컴퓨터를 실행하는 데 필요한
    인프라(하드웨어 자체, 전기 및 네트워킹)를
관리합니다. Azure는 플랫폼도 관리하며 .NET Framework,
    인터넷 정보 서버 등의 구성 요소 업데이트는 물론
    올바른 패치와 보안 업데이트가 포함된 최신 운영 체제를
유지합니다. 모든 VM이 Windows Server
    2008을 실행하고 있으므로 Azure에서 진단 모니터링,
    원격 데스크톱 지원, 방화벽, 인증서 저장소 구성 등의
추가 기능을 제공합니다. 이러한 모든 기능은
추가 비용 없이 제공됩니다. 사실상, Azure에서 응용
    프로그램을 실행하는 경우 Windows Server 2008 OS(운영
체제) 라이선스가 포함됩니다. 모든 VM이 Windows Server 2008을
    실행하고 있으므로 Windows Server 2008에서 실행되는 코드는 Azure에서
    실행할 때도 제대로 작동합니다.

## <a id="concepts"> </a>호스팅 서비스 핵심 개념

응용 프로그램이 Azure에 호스티드 서비스로 배포된 경우
하나 이상의 *역할*로 실행됩니다. *역할*은 단순히 응용 프로그램
파일과 구성을 가리킵니다. 각각 고유한 응용 프로그램 파일과 구성 집합이
포함된 하나 이상의 역할을 응용 프로그램에 대해 정의할 수
있습니다. 응용 프로그램의 각 역할에 대해 실행할 VM 수 또는
*}역할 인스턴스* 수를 지정할 수 있습니다. 아래 그림은 역할과 역할
인스턴스를 사용하여 호스티드 서비스로 모델링된 응용 프로그램의
두 가지 간단한 예를 보여 줍니다.

##### 그림 1: Azure 데이터 센터에서 실행되는 세 개의 인스턴스(VM)가 있는 단일 역할

![image][0]

##### 그림 2: 각각 Azure 데이터 센터에서 실행되는 두 개의 인스턴스(VM)가 있는 두 개의 역할

![image][1]

역할 인스턴스는 일반적으로 *입력 끝점*을 통해 데이터 센터로
들어오는 인터넷 클라이언트 요청을 처리합니다. 단일 역할에
0개 이상의 입력 끝점이 있을 수 있습니다. 각 끝점은 프로토콜(HTTP, HTTPS
또는 TCP)과 포트를 나타냅니다. 두 개의 입력 끝점, 즉
포트 80에서 수신 대기하는 HTTP와 포트 443에서 수신 대기하는 HTTPS가 있도록 역할을
구성하는 것이 일반적입니다. 아래 그림은 각기 다른 입력 끝점에서
클라이언트 요청을 보내는 두 가지 역할의 예를 보여 줍니다.

![image][2]

Azure에서 호스티드 서비스를 만드는 경우 클라이언트가
액세스하는 데 사용할 수 있는 공개적으로 주소 지정이 가능한 IP 주소가 할당됩니다. 호스티드
서비스를 만들 때 해당 IP 주소에 매핑되는 URL 접두사도
선택해야 합니다. 이 접두사는 다른 사용자가 사용할 수 없도록
*prefix*.cloudapp.net URL을 예약할 때 고유해야
합니다. 클라이언트는 URL을 사용하여 역할 인스턴스와
통신합니다. 일반적으로 Azure *prefix*.cloudapp.net URL을 분산하거나
게시하지는 않습니다. 대신, 선택한 DNS 등록 기관에서 DNS 이름을
구입하고 DNS 이름을 구성하여 클라이언트 요청을 Azure
URL로 리디렉션합니다. 자세한 내용은
[Azure에서 사용자 지정 도메인 이름 구성][]을 참조하세요.

## <a id="considerations"> </a>호스팅 서비스 디자인 고려 사항

클라우드 환경에서 실행할 응용 프로그램을 디자인하는 경우 대기
시간, 고가용성, 확장성 등 여러 가지 고려할 사항이
있습니다.

응용 프로그램 코드를 찾을 위치를 결정하는 것도
Azure에서 호스티드 서비스를 실행할 때 고려할 중요한 사항입니다. 대기
시간을 줄이고 최상의 성능을 얻기 위해 클라이언트에 가장 가까운
데이터 센터에 응용 프로그램을 배포하는 것이 일반적입니다.
그러나 데이터 및 데이터 위치에 대한 관할권 또는 법적 문제가
있는 경우 회사나 데이터에 더 가까운 데이터 센터를 선택할 수도
있습니다. 전 세계에 응용 프로그램을 호스트할
수 있는 6개 데이터 센터가 있습니다. 아래 표에서는 사용 가능한
위치를 보여 줍니다.

<table border="2" cellspacing="0" cellpadding="5" style="border: 2px solid #000000;">
<tbody>
<tr>
<td style="width: 100px;">
**국가/지역**

</td>
<td style="width: 200px;">
**하위 지역**

</td>
</tr>
<tr>
<td>
미국

</td>
<td>
중남부 및 중북부

</td>
</tr>
<tr>
<td>
유럽

</td>
<td>
북부 및 서부

</td>
</tr>
<tr>
<td>
아시아

</td>
<td>
남동 및 동부

</td>
</tr>
</tbody>
</table>
호스티드 서비스를 만드는 경우 코드를 실행하려는 위치를
나타내는 하위 지역을 선택합니다.

고가용성과 확장성을 얻으려면 응용 프로그램의 데이터를
여러 역할 인스턴스에서 액세스할 수 있는 중앙 리포지토리에
보관하는 것이 중요합니다. 이를 돕기 위해 Azure는
Blob, 테이블, SQL 데이터베이스 등의 여러 저장소 옵션을 제공합니다. 이러한
저장소 기술에 대한 자세한 내용은 [Azure의 데이터 저장소 제공][](영문)
문서를 참조하세요. 아래 그림은 Azure 데이터 센터 내의
부하 분산 장치가 모두 동일한 데이터 저장소에 액세스할
수 있는 여러 역할 인스턴스에 클라이언트 요청을 분배하는 방법을
보여 줍니다.

![image][3]

일반적으로 동일한 데이터 센터에서 응용 프로그램 코드와 데이터를
찾으려 합니다. 이렇게 하면 응용 프로그램 코드에서 데이터에
액세스할 때 대기 시간이 낮기 때문입니다(성능 향상). 또한 동일한 데이터 센터
내에서 데이터를 이동하는 경우에는 대역폭 요금이 부과되지
않습니다.

## <a id="scale"> </a>규모를 고려하여 응용 프로그램 디자인

단일 응용 프로그램(예: 간단한 웹 사이트)을 Azure에
호스트하려는 경우도 있습니다. 그러나 대체로 응용
프로그램은 모두 함께 작동하는 여러 역할로 구성될 수 있습니다. 예를
들어 아래 그림에는 웹 사이트 역할 인스턴스 두 개, 주문 처리 역할
인스턴스 세 개 및 보고서 생성기 역할 인스턴스 한 개가
있습니다. 이러한 역할은 모두 함께 작동하며, 해당 코드를
함께 패키징하여 단일 단위로 Azure에 배포할 수
있습니다.

![image][4]

각각 고유한 역할 인스턴스(즉, VM) 집합에서 실행되는 다양한
역할로 응용 프로그램을 분할하는 주된 이유는 역할의 규모를 독립적으로
조정하기 위한 것입니다. 예를 들어 축제 시즌에는 많은 고객이 회사의
제품을 구매할 수 있으므로 웹 사이트 역할을 실행하는 역할
인스턴스 수와 주문 처리 역할을 실행하는
역할 인스턴스 수를 늘리려고 할 수
있습니다. 축제 시즌 후에는 많은 제품이 반품될 수 있으므로
여전히 많은 웹 사이트 인스턴스가 필요하지만
주문 처리 인스턴스는 적게 필요합니다. 나머지 기간에는 몇 개의 웹 사이트 및
주문 처리 인스턴스만 필요합니다. 이 모든 과정에 하나의
보고서 생성기 인스턴스만 있으면 됩니다. Azure의 유연한
역할 기반 배포를 사용하면 비즈니스 요구에 맞게 응용 프로그램을
쉽게 적응시킬 수 있습니다.

호스티드 서비스 내의 역할 인스턴스가 서로 통신하도록 하는
것이 일반적입니다. 예를 들어 웹 사이트 역할은 고객
주문을 받지만 주문 처리를 주문 처리 역할 인스턴스에
오프로드합니다. 역할 인스턴스 집합 간에 작업을 전달하는
최상의 방법은 Azure에서 제공하는 큐 기술,
즉 큐 서비스 또는 서비스 버스 큐를 사용하는
것입니다. 여기서 큐 사용은 중요합니다.
 큐를 사용하면 호스티드 서비스가 독립적으로 역할의
규모를 조정하여 비용 대비 작업의 균형을 조정할 수 있습니다. 시간 경과에 
따라 큐의 메시지 수가 증가하면 주문 처리 역할 인스턴스 수를
확장할 수 있습니다. 시간 경과에
따라 큐의 메시지 수가 감소하면 주문 처리 역할 인스턴스 수를
축소할 수 있습니다. 이 경우 실제 작업을 처리하는
데 필요한 인스턴스에 대해서만 요금을 지불하게 됩니다.

또한 큐는 안정성을 제공합니다. 주문 처리 역할 인스턴스 수를
축소할 경우 Azure에서 종료할 인스턴스를
결정합니다. 큐 메시지를 처리 중인 인스턴스의 종료를
결정할 수도 있습니다. 그러나 메시지 처리가 완료되지
않았기 때문에 메시지가 다른 주문 처리 역할 인스턴스에
다시 표시되어 해당 인스턴스에 의해 선택 및
처리됩니다. 큐 메시지 표시 여부 때문에 메시지가
궁극적으로 처리됩니다. 큐는 메시지를 요청하는 모든
역할 인스턴스에 메시지를 효과적으로 분배하여 부하 분산
장치의 역할도 합니다.

웹 사이트 역할 인스턴스의 경우에도 들어오는 트래픽을
모니터링하고 개수 확장 또는 축소를 결정할 수 있습니다. 
큐를 사용하면 주문 처리 역할 인스턴스와 독립적으로
웹 사이트 역할 인스턴스 수를 조정할 수 있습니다. 이 기능은
매우 강력하며 유연성을 향상시킵니다. 물론, 응용 프로그램이
추가 역할로 구성된 경우 동일한 크기 조정 및 비용 혜택을
활용하기 위해 통신 경로로 큐를 더 추가할 수
있습니다.

## <a id="defandcfg"> </a>호스팅 서비스 정의 및 구성

Azure에 호스티드 서비스를 배포하려면 서비스 정의 파일과
서비스 구성 파일도 있어야 합니다. 두 파일은 모두
XML 파일이며, 호스티드 서비스에 대한 배포 옵션을
선언적으로 지정할 수 있게 해 줍니다. 서비스 정의 파일은
호스티드 서비스를 구성하는 모든 역할 및 역할 간의 통신 방법을
설명합니다. 서비스 구성 파일은 각 역할에 대한 인스턴스 수와
각 역할 인스턴스를 구성하는 데 사용되는 설정을
설명합니다.

## <a id="def"> </a>서비스 정의 파일

앞에서 언급했듯이, 서비스 정의(CSDEF) 파일은
전체 응용 프로그램을 구성하는 다양한 역할을 설명하는
XML 파일입니다. XML 파일의 전체 스키마는
[http://msdn.microsoft.com/ko-kr/library/windowsazure/ee758711.aspx][]에서 확인할 수 있습니다.
CSDEF 파일에는 응용 프로그램에서 사용하려는 각 역할에 대한
WebRole 또는 WorkerRole 요소가 포함되어 있습니다. WebRole 요소를 사용하여 역할을
웹 역할로 배포하면 Windows Server 2008 및 IIS(Internet Information Server)가
포함된 역할 인스턴스에서 코드가 실행됩니다.
WorkerRole 요소를 사용하여 역할을 작업자 역할로 배포하면
역할 인스턴스에 Windows Server 2008이 포함됩니다(IIS는
설치되지 않음).

다른 일부 메커니즘을 사용하여 들어오는 웹 요청을 수신 대기하는
작업자 역할을 만들고 배포할 수 있습니다. 예를 들어 코드에서 .NET
HttpListener를 만들고 사용할 수 있습니다. 역할 인스턴스는 모두 Windows
Server 2008을 실행하고 있으므로 Windows Server 2008에서 실행 중인
응용 프로그램이 정상적으로 사용할 수 있는 모든 작업을 코드에서
수행할 수 있습니다.

각 역할에 대해 해당 역할의 인스턴스에서 사용해야 하는 원하는
VM 크기를 지정합니다. 아래 표에서는 현재 사용할 수 있는 다양한 VM 크기와
각 VM 크기의 특성을 보여 줍니다.

<table border="2" cellspacing="0" cellpadding="5" style="border: 2px solid #000000;">
<tbody>
<tr align="left" valign="top">
<td>
**VM 크기**

</td>
<td>
**CPU**

</td>
<td>
**RAM**

</td>
<td>
**디스크**

</td>
<td>
**최고  
네트워크 I/O**

</td>
</tr>
<tr align="left" valign="top">
<td>
**매우 작음**

</td>
<td>
1 x 1.0 GHz

</td>
<td>
768 MB

</td>
<td>
20GB

</td>
<td>
\~5Mbps

</td>
</tr>
<tr align="left" valign="top">
<td>
**작음**

</td>
<td>
1 x 1.6GHz

</td>
<td>
1.75 GB

</td>
<td>
225GB

</td>
<td>
\~100Mbps

</td>
</tr>
<tr align="left" valign="top">
<td>
**중간**

</td>
<td>
2 x 1.6GHz

</td>
<td>
3.5 GB

</td>
<td>
490GB

</td>
<td>
\~200Mbps

</td>
</tr>
<tr align="left" valign="top">
<td>
**큼**

</td>
<td>
4 x 1.6GHz

</td>
<td>
7 GB

</td>
<td>
1TB

</td>
<td>
\~400Mbps

</td>
</tr>
<tr align="left" valign="top">
<td>
**매우 큼**

</td>
<td>
8 x 1.6GHz

</td>
<td>
14 GB

</td>
<td>
2TB

</td>
<td>
\~800Mbps

</td>
</tr>
</tbody>
</table>
역할 인스턴스로 사용하는 각 VM에 대해 시간 단위로 요금이 부과되며,
역할 인스턴스에서 데이터 센터 외부로 전송하는 모든 데이터에 대해서도
요금이 부과됩니다. 데이터 센터로 들어오는 데이터에 대해서는 요금이 부과되지 않습니다. 자세한
내용은 [Azure 가격 책정][]을 참조하세요. 일반적으로
응용 프로그램의 실패 복원력을 높이기 위해 몇 개의 큰 인스턴스가
아니라 여러 작은 역할 인스턴스를 사용하는 것이 좋습니다. 보유한
역할 인스턴스 수가 적을수록 역할 인스턴스 중 하나의 실패가 전체
응용 프로그램에 미치는 영향이 커집니다. 또한 앞에서 언급했듯이
Microsoft가 제공하는 99.95% 서비스 수준 계약을 얻으려면 각 역할에
대해 둘 이상의 인스턴스를 배포해야 합니다.

서비스 정의(CSDEF) 파일에서 응용 프로그램의 각 역할에 대한
많은 특성을 지정하기도 합니다. 다음은 사용 가능한
유용한 항목 중 일부입니다.

-   **인증서**. 데이터를 암호화하려는 경우 또는 웹 서비스에서
SSL을 지원하는 경우 인증서를 사용합니다. Azure에 인증서를 업로드해야
합니다. 자세한 내용은 [Azure에서 인증서
관리][]를 참조하세요. 이 XML 설정은 응용 프로그램 코드에서
    사용할 수 있도록 이전에 업로드한 인증서를 역할 인스턴스의
    인증서 저장소에 설치합니다.

-   **구성 설정 이름**. 응용 프로그램이 역할 인스턴스에서
실행되는 동안 읽으려는 값에 사용합니다. 구성 설정의
    실제 값은 코드를 다시 배포하지 않고도 언제든지
    업데이트할 수 있는 서비스 구성(CSCFG) 파일에서
설정됩니다. 사실상, 가동 중지 시간을
    발생시키지 않고 변경된 구성 값을 감지하도록 응용 프로그램을
    코딩할 수 있습니다.

-   **입력 끝점**. 여기서는 *prefix*.cloadapp.net URL을
    통해 외부 세계에 표시할 HTTP, HTTPS 또는 TCP 끝점(포트 포함)을
지정합니다. Azure는 역할을 배포할 때
    역할 인스턴스의 방화벽을 자동으로
    구성합니다.

-   **내부 끝점**. 여기서는 응용 프로그램의 일부로 배포된
    다른 역할 인스턴스에 표시할 HTTP 또는 TCP 끝점을
지정합니다. 내부 끝점을 사용하면 응용 프로그램
    내의 모든 역할 인스턴스가 서로 통신할 수 있지만 응용 프로그램
    외부에 있는 역할 인스턴스에서는 액세스할 수 없습니다.

-   **가져오기 모듈**. 이러한 모듈은 선택적으로 역할 인스턴스에 유용한
구성 요소를 설치합니다. 진단 모니터링, 원격 데스크톱 및 Azure
    Connect(역할 인스턴스에서 보안 채널을 통해 온-프레미스
    리소스에 액세스할 수 있게 함)에 대한 구성 요소가 있습니다.

-   **로컬 저장소**. 응용 프로그램에서 사용할 역할 인스턴스의
하위 디렉터리를 할당합니다. 
[Azure의 데이터 저장소 제공][] 문서에서 자세히 설명합니다.

-   **시작 작업**. 시작 작업은 부팅 시 역할 인스턴스에
필수 구성 요소를 설치하는 방법을 제공합니다. 필요한 경우
    작업이 관리자 권한으로 실행될 수 있습니다.

## <a id="cfg"> </a>서비스 구성 파일

서비스 구성(CSCFG) 파일은 응용 프로그램을 다시 배포하지 않고도
변경할 수 있는 설정을 설명하는 XML 파일입니다. 
XML 파일의 전체 스키마는
[http://msdn.microsoft.com/ko-kr/library/windowsazure/ee758710.aspx][]에서 확인할 수 있습니다.
CSCFG 파일에는 응용 프로그램의 각 역할에 대한 Role 요소가
포함되어 있습니다. 다음은 CSCFG 파일에 지정할 수 있는 항목 중
일부입니다.

-   **OS 버전**. 이 특성을 사용하면 응용 프로그램 코드를 실행 중인
    모든 역할 인스턴스에 사용하려는 OS(운영 체제) 버전을 선택할 수
있습니다. 이 OS를 *게스트 OS*라고 하며, 각각의 새로운 버전에
    게스트 OS가 릴리스될 당시 사용 가능한 최신 보안 패치와
업데이트가 포함되어 있습니다. osVersion 특성
    값을 "\*"로 설정하면 새 게스트 OS 버전이 사용 가능할 때
    Azure에서 각 역할 인스턴스의 게스트 OS를 자동으로
업데이트합니다. 그러나 특정 게스트 OS 버전을 선택하여
자동 업데이트를 옵트아웃(opt out)할 수 있습니다. 예를 들어
    osVersion 특성을
    "WA-GUEST-OS-2.8\_201109-01" 값으로 설정하면
    모든 역할 인스턴스가
    [http://msdn.microsoft.com/ko-kr/library/hh560567.aspx][] 웹 페이지에 설명된 항목을 얻게 됩니다. 게스트
OS 버전에 대한 자세한 내용은 [Azure 게스트 OS에 대한
업그레이드 관리]를 참조하세요.

-   **인스턴스**. 이 요소의 값은 특정 역할에 대한 코드를
    실행하여 프로비전하려는 역할 인스턴스 수를
나타냅니다. 응용 프로그램을 다시 배포하지 않고도 새 CSCFG 파일을
    Azure에 업로드할 수 있으므로 간단하게 이 요소의 값을
    변경하고 새 CSCFG 파일을 업로드하여 응용 프로그램 코드를
    실행하는 역할 인스턴스 수를 동적으로 늘리거나 줄일 수
있습니다. 이렇게 하면 역할 인스턴스 실행에
    대해 부과되는 요금을 제어하는 동시에 실제 작업 요구에 맞게
    응용 프로그램을 쉽게 확장하거나 축소할 수 있습니다.

-   **구성 설정 값**. 이 요소는 CSDEF 파일에 정의된
설정 값을 나타냅니다. 실행되는 동안 역할에서
값을 읽을 수 있습니다. 이러한 구성 설정 값은 일반적으로
    SQL 데이터베이스 또는 Azure 저장소에 대한 연결 문자열에 
    사용되지만 원하는 모든 목적으로 사용될 수 있습니다.

## <a id="hostedservices"> </a>호스팅 서비스 만들기 및 배포

호스티드 서비스를 만들려면 먼저 [Azure 관리 포털]로 이동한 다음 궁극적으로 코드를 실행하려는 데이터 센터와
DNS 접두사를 지정하여 호스티드 서비스를 프로비전해야 합니다.
그런 다음 개발 환경에서 서비스 정의(CSDEF) 파일을 만들고
응용 프로그램 코드를 빌드한 다음 모든 파일을 서비스
패키지(CSPKG) 파일로 패키징(zip)합니다. 또한
서비스 구성(CSCFG) 파일을 준비해야 합니다. 역할을 배포하려면
Azure 서비스 관리 API를 사용하여 CSPKG 및 CSCFG 파일을
업로드합니다. 배포된 후에는 Windows Azure에서 구성
데이터에 따라 데이터 센터에 역할 인스턴스를 프로비전하고
패키지에서 응용 프로그램 코드를 추출한 다음 역할 인스턴스에
복사하고 인스턴스를 부팅합니다. 이제 코드가 실행되고 있습니다.

아래 그림은 개발 컴퓨터에서 만드는 CSPKG 및 CSCFG 파일을
보여 줍니다. CSPKG 파일에는 CSDEF 파일과 두 역할에 대한
코드가 포함되어 있습니다. Azure 서비스 관리 API를 사용하여 CSPKG 및 CSCFG
파일을 업로드하면 Windows Azure에서 데이터 센터에
역할 인스턴스를 만듭니다. 이 예제에서 CSCFG 파일은 Azure에서
역할 \#1 인스턴스 세 개와 역할 \#2 인스턴스 두 개를
만들어야 함을 표시합니다.

![image][5]

역할을 배포, 업그레이드 및 다시 구성하는 방법에 대한 자세한
내용은 [Azure 응용 프로그램 배포 및 업데이트][]
문서를 참조하세요.<a id="Ref" name="Ref"></a>

## <a id="references"> </a>참조

-   [Azure에 대한 호스팅 서비스 만들기][]

-   [Azure에서 호스팅 서비스 관리][]

-   [응용 프로그램을 Azure로 마이그레이션][]

-   [Azure 응용 프로그램 구성][]

<div style="width: 700px; border-top: solid; margin-top: 5px; padding-top: 5px; border-top-width: 1px;">

<p>저자: Jeffrey Richter(Wintellect)</p>

</div>

  [Azure 응용 프로그램 모델 혜택]: #benefits
  [호스팅 서비스 핵심 개념]: #concepts
  [호스팅 서비스 디자인 고려 사항]: #considerations
  [규모를 고려하여 응용 프로그램 디자인]: #scale
  [호스팅 서비스 정의 및 구성]: #defandcfg
  [서비스 정의 파일]: #def
  [서비스 구성 파일]: #cfg
  [호스팅 서비스 만들기 및 배포]: #hostedservices
  [참조]: #references
  [0]: ./media/application-model/application-model-3.jpg
  [1]: ./media/application-model/application-model-4.jpg
  [2]: ./media/application-model/application-model-5.jpg
  [Configuring a Custom Domain Name in Azure]: http://www.windowsazure.com/ko-kr/develop/net/common-tasks/custom-dns/
  [Data Storage Offerings in Azure]: http://www.windowsazure.com/ko-kr/develop/net/fundamentals/cloud-storage/
  [3]: ./media/application-model/application-model-6.jpg
  [4]: ./media/application-model/application-model-7.jpg
  
  [Azure 가격 책정]: http://www.windowsazure.com/ko-kr/pricing/calculator/
  [Azure에서 인증서 관리]: http://msdn.microsoft.com/ko-kr/library/windowsazure/gg981929.aspx
  [http://msdn.microsoft.com/ko-kr/library/windowsazure/ee758710.aspx]: http://msdn.microsoft.com/ko-kr/library/windowsazure/ee758710.aspx
  [http://msdn.microsoft.com/ko-kr/library/hh560567.aspx]: http://msdn.microsoft.com/ko-kr/library/hh560567.aspx
  [Azure 게스트 OS에 대한 업그레이드 관리]: http://msdn.microsoft.com/ko-kr/library/ee924680.aspx
  [Azure 관리 포털]: http://manage.windowsazure.com/
  [5]: ./media/application-model/application-model-8.jpg
  [Azure 응용 프로그램 배포 및 업데이트]: http://www.windowsazure.com/ko-kr/develop/net/fundamentals/deploying-applications/
  [Azure에 대한 호스팅 서비스 만들기]: http://msdn.microsoft.com/ko-kr/library/gg432967.aspx
  [Azure에서 호스팅 서비스 관리]: http://msdn.microsoft.com/ko-kr/library/gg433038.aspx
  [응용 프로그램을 Azure로 마이그레이션]: http://msdn.microsoft.com/ko-kr/library/gg186051.aspx
  [Azure 응용 프로그램 구성]: http://msdn.microsoft.com/ko-kr/library/windowsazure/ee405486.aspx
